<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุตุฉ ุงูุฑูุงุถูุงุช | ุฃ. ุนุจุฏุงูุนุฒูุฒ ุฎุงูุฏ ุงูุนุจูุงู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* ุฃููุงุท ุนุงูุฉ ูุชูุณููุงุช ูุฎุตุตุฉ */
        body { 
            font-family: 'Cairo', sans-serif; 
            display: grid;
            grid-template-rows: auto 1fr auto;
            min-height: 100vh; 
        }
        main { /* ุชู ุฅุฒุงูุฉ flex-grow: 1; */ }
        .hidden { display: none; }
        .view-section { animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .step-box { 
            border-right: 4px solid #1d4ed8; 
            transition: all 0.3s ease-in-out;
            opacity: 1;
            transform: translateY(0);
        }
        .step-box.hidden {
            opacity: 0;
            transform: translateY(10px);
            max-height: 0;
            padding-top: 0;
            padding-bottom: 0;
            margin-top: 0;
            margin-bottom: 0;
            overflow: hidden;
            border-width: 0;
        }        .vocab-term { background-color: #ffefc5; padding: 2px 6px; border-radius: 4px; font-weight: bold; }
        .option-label { display: block; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; cursor: pointer; transition: all 0.2s ease-in-out; }
        .option-label:hover { border-color: #3b82f6; background-color: #eff6ff; }
        input[type="radio"]:checked + .option-label { border-color: #2563eb; background-color: #dbeafe; box-shadow: 0 0 0 2px #bfdbfe; }
        input[type="radio"] { display: none; }
        .feedback-correct { color: #16a34a; }
        .feedback-incorrect { color: #dc2626; }
        .highlight-change { color: #ef4444; font-weight: bold; }
        .math-eq {
            color: #4338ca;
            font-weight: bold;
            font-family: 'Cairo', 'SFMono-Regular', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
            background-color: #f5f3ff;
            padding: 2px 6px;
            border-radius: 6px;
            vertical-align: -2px;
            font-size: 1.05em;
            white-space: nowrap;
        }
        .fraction { display: inline-flex; flex-direction: column; text-align: center; vertical-align: middle; margin: 0 0.2em; line-height: 1.2em; }
        .fraction > span { display: block; padding: 0 0.2em; }
        .fraction > .frac-bar { border-top: 2px solid currentColor; }
        .quiz-graph-container { display: flex; justify-content: center; margin: 1rem 0; }
        .explanation-step { 
            padding: 0.75rem;
            margin-bottom: 1rem;  
            border-right: 4px solid #1d4ed8; 
            transition: opacity 0.5s ease-in-out;
            background-color: #f4f4f5;
            border-radius: 8px;
        }
        .explanation-step:last-child { margin-bottom: 0; }
        .step-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        .btn-disabled {
            background-color: #9ca3af !important;
            cursor: not-allowed;
            opacity: 0.7;
        }
        .nav-btn:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        .solution-set {
            background-color: #eef2ff;
            color: #4338ca;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: bold;
            text-align: center;
        }
        .number-line-container {
            padding: 2rem 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        /* ุฃููุงุท ููุนูุงุตุฑ ุงูุชูุงุนููุฉ ุงูุชู ูุฏ ุชูุณุชุฎุฏู ูู ุงูุฏุฑูุณ */
        .highlight-s { color: #2563eb; font-weight: bold; }
        .highlight-y { color: #dc2626; font-weight: bold; }
        .highlight-x { color: #16a34a; font-weight: bold; }
        .highlight-y-text { color: #dc2626; font-weight: bold; }
        .highlight-x-text { color: #16a34a; font-weight: bold; }
        .highlight-m-text { color: #ca8a04; font-weight: bold; }
        .highlight-r-text { color: #9333ea; font-weight: bold; }
        .animated-element { transition: opacity 0.3s ease-in-out, stroke 0.3s ease-in-out; }
        .substitution-value {
            color: #c026d3; /* fuchsia-600 */
            font-weight: bold;
            padding: 1px 4px;
            border-radius: 4px;
            background-color: #fce7f3; /* pink-100 */
        }
        .interactive-step {
            animation: fadeIn 0.5s ease-in-out;
        }
        .step-interactive {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            transform: translateY(10px);
        }
        .step-interactive.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
                .control-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
            opacity: 0.6;
        }
    </style>
</head>
<body class="bg-gray-100">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 id="header-title" class="text-2xl font-bold text-blue-800">ุฑูุงุถูุงุช ุงูุตู ุงูุซุงูุซ ุงููุชูุณุท</h1>
            <div id="user-info-header" class="hidden items-center gap-4">
                <span id="user-welcome-message" class="font-semibold"></span>
                <button id="dashboard-btn" class="bg-blue-100 text-blue-800 py-1 px-3 rounded-lg hover:bg-blue-200">ููุญุฉ ุงูุชุญูู</button>
                <button id="logout-btn" class="bg-red-500 text-white py-1 px-3 rounded-lg hover:bg-red-600">ุฎุฑูุฌ</button>
            </div>
            <p class="text-lg text-gray-600" id="teacher-name">ุงููุนูู: ุนุจุฏุงูุนุฒูุฒ ุฎุงูุฏ ุงูุนุจูุงู</p>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8">
        <!-- ูุงุฌูุฉ ุชุณุฌูู ุงูุฏุฎูู -->
        <div id="login-view" class="view-section max-w-md mx-auto">
            <div class="bg-white p-8 rounded-xl shadow-lg text-center">
                <h2 class="text-3xl font-bold mb-2">ุฃููุงู ุจู</h2>
                <p class="text-gray-600 mb-6">ุฃุฏุฎู ุฑูู ูููุชู ููุฏุฎูู ูุทุงูุจ ูุณุฌู</p>
                <form id="login-form">
                    <div class="mb-4"><input type="text" id="login-id" placeholder="ุฑูู ุงููููุฉ / ุงูุฅูุงูุฉ" class="w-full text-center text-lg px-3 py-3 border rounded-lg" required></div>
                    <button type="submit" id="login-submit-btn" class="w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 text-lg flex justify-center items-center"><span id="login-submit-text">ุฏุฎูู</span><div id="login-loader" class="loader hidden"></div></button>
                </form>
                <div id="login-error" class="hidden mt-4 bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg"></div>
                <div class="mt-8"><p class="text-gray-600 mb-2">ุฃู</p><button id="visitor-btn" class="font-bold text-gray-700 hover:underline">ุงููุชุงุจุนุฉ ูุฒุงุฆุฑ</button></div>
            </div>
        </div>

        <!-- ูุงุฌูุฉ ุงููุญุชูู ุงูุฑุฆูุณูุฉ (ุงูููุฑุณ) -->
        <div id="main-content-view" class="hidden view-section">
            <div id="dashboard-section" class="hidden bg-blue-50 p-6 rounded-lg shadow-lg mb-12 border-l-4 border-blue-500">
                <h3 class="text-2xl font-bold text-center mb-6">ููุญุฉ ุงูุชุญูู</h3>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-xl font-bold text-blue-700 mb-3">ูุนูููุงุชู ุงููุณุฌูุฉ</h4>
                        <div class="bg-white p-4 rounded-lg border space-y-2"><p><strong>ุงูุงุณู:</strong> <span id="display-name"></span></p><p><strong>ุฑูู ุงููููุฉ:</strong> <span id="display-id"></span></p><p><strong>ุงูุตู:</strong> <span id="display-class"></span></p><p><strong>ุฑูู ุงูุฌูุงู:</strong> <span id="display-phone"></span></p></div>
                    </div>
                    <div>
                        <h4 class="text-xl font-bold text-blue-700 mb-3">ููุฎุต ุงูุฏุฑุฌุงุช</h4>
                        <div class="bg-white p-4 rounded-lg border space-y-2"><p><strong>ุฏุฑุฌุฉ ุชุญุฏูุฏ ุงููุณุชูู:</strong> <span id="total-level_test" class="font-bold">0</span></p><p><strong>ูุฌููุน ุงููุตู ุงูุฃูู:</strong> <span id="total-c1" class="font-bold">0</span></p><p><strong>ูุฌููุน ุงููุตู ุงูุซุงูู:</strong> <span id="total-c2" class="font-bold">0</span></p><p><strong>ูุฌููุน ุงููุตู ุงูุซุงูุซ:</strong> <span id="total-c3" class="font-bold">0</span></p><p><strong>ูุฌููุน ุงููุตู ุงูุฑุงุจุน:</strong> <span id="total-c4" class="font-bold">0</span></p></div>
                    </div>
                </div>
            </div>
            <div class="text-center mb-10"><button id="level-test-btn" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition duration-300 text-center">ุงุจุฏุฃ ุงุฎุชุจุงุฑ ุชุญุฏูุฏ ุงููุณุชูู</button></div>
            <div class="bg-white p-6 rounded-lg shadow-lg"><h3 class="text-2xl font-bold text-center mb-6">ููุฑุณ ุงููุตูู ุงูุฏุฑุงุณูุฉ</h3><div id="accordion-container" class="space-y-4"></div></div>
        </div>
        
        <!-- ูุงุฌูุฉ ุนุฑุถ ุงูุฏุฑุณ (ุณูุชู ููุคูุง ุจุงููุญุชูู) -->
        <div id="lesson-view" class="hidden view-section"></div>
    </main>

    <footer class="bg-gray-200 py-4">
        <div class="container mx-auto px-6 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
            <p class="text-gray-600 text-sm">ยฉ 2024 ุฌููุน ุงูุญููู ูุญููุธุฉ | ุชุตููู ูุชุทููุฑ: ุฃ. ุนุจุฏุงูุนุฒูุฒ ุฎุงูุฏ ุงูุนุจูุงู</p>
            <div class="flex items-center space-x-4" dir="ltr">
                <a id="share-twitter" href="#" target="_blank" aria-label="Share on Twitter" class="text-gray-600 hover:text-blue-500 transition-colors">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>
                </a>
                <a id="share-whatsapp" href="#" target="_blank" aria-label="Share on WhatsApp" class="text-gray-600 hover:text-green-500 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.04C6.5 2.04 2 6.53 2 12.06c0 1.66.41 3.23 1.21 4.6l-1.17 4.25 4.35-1.15c1.33.73 2.83 1.12 4.39 1.12 5.5 0 9.96-4.49 9.96-10.02S17.5 2.04 12 2.04zM16.56 14.26c-.16-.08-1.02-.5-1.18-.56-.16-.06-.28-.08-.41.08-.13.16-.44.56-.55.68-.1.12-.21.14-.38.06-.17-.08-1.02-.38-1.94-1.2-.72-.64-1.2-1.43-1.36-1.67-.16-.24-.02-.37.07-.49.08-.1.18-.26.27-.39.09-.12.12-.21.18-.35.06-.14.03-.26 0-.34-.03-.08-.41-1-.56-1.37-.16-.37-.32-.32-.44-.32h-.18c-.14 0-.36.06-.55.24-.18.18-.7.68-.7 1.65 0 .97.72 1.92.82 2.06.1.14 1.41 2.18 3.43 3.07.49.21.88.34 1.18.43.52.15 1 .13 1.35-.05.4-.18 1.18-.96 1.35-1.29.16-.32.16-.6.11-.68-.05-.08-.17-.13-.35-.21z"/></svg>
                </a>
                <span class="text-gray-600 text-sm">:ุดุงุฑููุง</span>
            </div>
        </div>
    </footer>

    <!-- ูุงูุฐุฉ ููุจุซูุฉ ูุดุฑุญ ุงูุฅุฌุงุจุฉ -->
    <div id="explanationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-lg shadow-2xl p-6 max-w-lg w-full">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">๐ก ุดุฑุญ ุงูุฅุฌุงุจุฉ</h3>
                <button id="closeModalBtn" class="p-2 -m-2 rounded-full hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400">
                    <svg class="h-6 w-6 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div id="explanationText" class="text-gray-700"></div>
        </div>
    </div>

    <script>
    // =================================================================
    // == 1. ุงูุฅุนุฏุงุฏุงุช ูุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
    // =================================================================
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzrf1-At3Pq7i39bGV3F1iD3-b0G-WWyRi5cgpKeQjyn_N5fh2EmGhoyRKUsbLd-F_UJQ/exec";
    let currentStudent = null;
    let activeQuizQuestions = [];
    const MAX_ATTEMPTS = 3;

    // --- ูุงุนุฏุฉ ุจูุงูุงุช ุงููููุฌ (ููุงูุจ ุฏุฑูุณ ูุงุฑุบุฉ) ---
    const curriculum = {
        // === ุงููุตู ุงูุฃูู: ุงููุนุงุฏูุงุช ุงูุฎุทูุฉ ===
        'c1_l1': { title: 'ุงูุฏุฑุณ ูก-ูก: ุงููุนุงุฏูุงุช', content:  `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ููุฑุฏุงุช ูุฃุณุงุณูุงุช ุงูุฏุฑุณ</h2>
                    <div class="space-y-4">
                        <div class="p-4 bg-blue-50 rounded-lg"><p>ูู ูุฐุง ุงูุฏุฑุณุ ุณูุจูู ุนูู ูุง ุชุนูููุงู ุณุงุจูุงู ุนู ุงูุนุจุงุฑุงุช ุงูุฌุจุฑูุฉุ ูุณูุชุนูู ููู ูุญู ุฃููุงุนูุง ูุฎุชููุฉ ูู ุงููุนุงุฏูุงุช.</p></div>
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <h3 class="font-bold text-lg mb-2">ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉ:</h3>
                            <ul class="list-inside space-y-3">
                                <li><span class="vocab-term">ุงูุฌููุฉ ุงูููุชูุญุฉ:</span> ูู ุฌููุฉ ุฑูุงุถูุฉ ุชุญุชูู ุนูู ูุชุบูุฑุ ูุซู: <span class="math-eq">ุณ + ูฃ = ูง</span> ุฃู <span class="math-eq">ุต + ูฃ</span>.</li>
                                <li><span class="vocab-term">ุงููุนุงุฏูุฉ:</span> ูู ููุน ุฎุงุต ูู ุงูุฌูู ุงูููุชูุญุฉุ ุญูุซ ูุฌุจ ุฃู ุชุญุชูู ุนูู ุฅุดุงุฑุฉ ุงููุณุงูุงุฉ (<span class="math-eq">=</span>).</li>
                                <li><span class="vocab-term">ูุฌููุนุฉ ุงูุชุนููุถ:</span> ูู ูุฌููุนุฉ ูู ุงูุฃุนุฏุงุฏ ุงูุชู ูุนูุถ ุจูุง ุนู ูููุฉ ุงููุชุบูุฑ.</li>
                                <li><span class="vocab-term">ูุฌููุนุฉ ุงูุญู:</span> ูู ูุฌููุนุฉ ุงูุนูุงุตุฑ ูู ูุฌููุนุฉ ุงูุชุนููุถ ุงูุชู ุชุฌุนู ุงููุนุงุฏูุฉ ุตุญูุญุฉ.</li>
                                <li><span class="vocab-term">ุงููุชุทุงุจูุฉ:</span> ูู ูุนุงุฏูุฉ ุชููู ุตุญูุญุฉ ูู <strong>ุฌููุน</strong> ููู ุงููุชุบูุฑ ุงูุชู ูุนูุถ ุจูุง. ูุซุงู: <span class="math-eq">ูข(ุณ + ูฃ) = ูขุณ + ูฆ</span>. ูููุง ูุงูุช ูููุฉ ุณุ ุณูุจูู ุทุฑูุง ุงููุนุงุฏูุฉ ูุชุณุงูููู.</li>
                            </ul>
                        </div>
                        <div class="p-4 bg-red-50 rounded-lg mt-4">
                            <h4 class="font-bold text-lg mb-2 text-red-800">ูุชู ูุง ูููู ูููุนุงุฏูุฉ ุญูุ (ุงููุนุงุฏูุฉ ุงููุณุชุญููุฉ)</h4>
                            <p>ูุง ูููู ูููุนุงุฏูุฉ ุญู ุนูุฏูุง ุชุคุฏู ุชุจุณูุทุงุชูุง ุฅูู ุนุจุงุฑุฉ ุฎุงุทุฆุฉ ุฏุงุฆูุงูุ ุจุบุถ ุงููุธุฑ ุนู ูููุฉ ุงููุชุบูุฑ. ูุซุงู: <span class="math-eq">ุณ + ูฅ = ุณ + ูก</span>. ุฅุฐุง ุทุฑุญูุง 'ุณ' ูู ุงูุทุฑูููุ ูุญุตู ุนูู <span class="math-eq">ูฅ = ูก</span>ุ ููู ุนุจุงุฑุฉ ุฎุงุทุฆุฉ. ูุฐุงุ ูุง ููุฌุฏ ุฃู ูููุฉ ูููุชุบูุฑ 'ุณ' ูููู ุฃู ุชุฌุนู ูุฐู ุงููุนุงุฏูุฉ ุตุญูุญุฉุ ูุชููู ูุฌููุนุฉ ุงูุญู ูู ุงููุฌููุนุฉ ุงูุฎุงููุฉ { }.</p>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงููุงู: ุญู ูุนุงุฏูุฉ ุจูุชุบูุฑ ูุงุญุฏ</h2>
                    <div class="p-6 bg-gray-50 rounded-lg">
                        <p class="text-lg font-semibold mb-4">ูุซุงู ุณูู: ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ู + ูฅ = ูง</span>ุ ุฅุฐุง ูุงูุช ูุฌููุนุฉ ุงูุชุนููุถ ูู <span class="math-eq">{ูกุ ูขุ ูฃุ ูค}</span>.</p>
                        <div id="interactive-example-1">
                            <div class="space-y-4">
                                <!-- Steps will be dynamically inserted here -->
                            </div>
                            <!-- Navigation -->
                            <div class="flex justify-between items-center mt-4">
                                <button id="prev-btn-1" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition nav-btn">ุงูุณุงุจู</button>
                                <span id="step-counter-1" class="text-sm font-bold text-gray-600"></span>
                                <button id="next-btn-1" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition nav-btn">ุงูุชุงูู</button>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงูุซุงู: ุญู ูุนุงุฏูุฉ ุจูุชุบูุฑูู</h2>
                    <div class="p-6 bg-gray-50 rounded-lg">
                        <p class="text-lg font-semibold mb-4">ูุซุงู: ุฃูุฌุฏ ูุฌููุนุฉ ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ุต = ูจ - ูขุณ</span>ุ ุฅุฐุง ูุงู <span class="math-eq">ุณ โ {ูกุ ูขุ ูฃ}</span>.</p>
                         <div id="interactive-example-2">
                            <div class="space-y-4">
                                <!-- Steps will be dynamically inserted here -->
                            </div>
                            <!-- Navigation -->
                            <div class="flex justify-between items-center mt-4">
                                <button id="prev-btn-2" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition nav-btn">ุงูุณุงุจู</button>
                                <span id="step-counter-2" class="text-sm font-bold text-gray-600"></span>
                                <button id="next-btn-2" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition nav-btn">ุงูุชุงูู</button>
                            </div>
                        </div>
                    </div>
                </section>
            `, 
            generateQuiz: () => { 
                const questionBank = [
                    // Question 1
                    { type: 'mcq', level: 'โญ', topic: 'vocabulary', text: 'ุฃู ูู ุงูุชุงูู ูู ูุซุงู ุนูู ุฌููุฉ ููุชูุญุฉ ูููุณุช ูุนุงุฏูุฉุ', options: [ { display: '<span class="math-eq">ูฅุณ - ูข</span>', value: 'ูฅุณ - ูข' }, { display: '<span class="math-eq">ูฉ + ูง = ูกูฆ</span>', value: 'ูฉ + ูง = ูกูฆ' }, { display: '<span class="math-eq">ูกูข > ูค</span>', value: 'ูกูข > ูค' }, { display: '<span class="math-eq">ุณ = ูฅ</span>', value: 'ุณ = ูฅ' } ], correct: 'ูฅุณ - ูข', explanation: `<p>ุงูุฌููุฉ ุงูููุชูุญุฉ ุชุญุชูู ูุชุบูุฑุงูุ ูููููุง ูุง ุชุญุชูู ุจุงูุถุฑูุฑุฉ ุนูู ุนูุงูุฉ ูุณุงูุงุฉ ูุชููู ูุนุงุฏูุฉ.</p><p class='mt-2 p-2 bg-gray-100 rounded-md'><span class='math-eq'>ูฅุณ - ูข</span> ูู ุฌููุฉ ููุชูุญุฉ ูุฃููุง ุชุนุชูุฏ ุนูู ูููุฉ ุณ.</p>` },
                    // Question 2
                    { type: 'mcq', level: 'โญโญ', topic: 'vocabulary', text: 'ุฅุฐุง ูุงูุช ุงููุนุงุฏูุฉ ูู <span class="math-eq">ุณ + ูค = ูฉ</span> ู<span class="vocab-term">ูุฌููุนุฉ ุงูุชุนููุถ</span> ูู <span class="math-eq">{ูฃ, ูค, ูฅ, ูฆ}</span>ุ ููุง ูู <span class="vocab-term">ูุฌููุนุฉ ุงูุญู</span>ุ', options: [ { display: '<span class="math-eq">{ูฃ}</span>', value: '{ูฃ}' }, { display: '<span class="math-eq">{ูฅ}</span>', value: '{ูฅ}' }, { display: '<span class="math-eq">{ูฃ, ูค, ูฅ}</span>', value: '{ูฃ, ูค, ูฅ}' }, { display: '<span class="math-eq">{ูค}</span>', value: '{ูค}' } ], correct: '{ูฅ}', explanation: `<p>ูุนูุถ ุจูู ุนูุตุฑ ูู ุงููุนุงุฏูุฉ:</p><ul class='list-disc pr-5 mt-2'><li>ุนูุฏ <span class="math-eq">ุณ=ูฃ</span>: <span class="math-eq">ูฃ+ูค = ูง</span> (ุฎุทุฃ)</li><li>ุนูุฏ <span class="math-eq">ุณ=ูค</span>: <span class="math-eq">ูค+ูค = ูจ</span> (ุฎุทุฃ)</li><li class='text-green-600 font-bold'>ุนูุฏ <span class="math-eq">ุณ=ูฅ</span>: <span class="math-eq">ูฅ+ูค = ูฉ</span> (ุตุญูุญ)</li><li>ุนูุฏ <span class="math-eq">ุณ=ูฆ</span>: <span class="math-eq">ูฆ+ูค = ูกู</span> (ุฎุทุฃ)</li></ul><p class='mt-2 p-2 bg-green-100 rounded-md'>ุฅุฐูุ ูุฌููุนุฉ ุงูุญู ูู <span class="math-eq">{ูฅ}</span>.</p>` },
                    // Question 3
                    { type: 'mcq', level: 'โญ', topic: 'oneVariable', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ุณ - ูค = ูฆ</span>.', options: [ { display: '<span class="math-eq">ูข</span>', value: 'ูข' }, { display: '<span class="math-eq">ูกู</span>', value: 'ูกู' }, { display: '<span class="math-eq">ูขูค</span>', value: 'ูขูค' }, { display: '<span class="math-eq">-ูข</span>', value: '-ูข' } ], correct: 'ูกู', explanation: `<p class='mb-2'>ุงููุฏู ูู ุนุฒู ุงููุชุบูุฑ <span class="math-eq">ุณ</span> ูู ุทุฑู ููุญุฏู.</p><div class='text-right space-y-2'><p>ุฃููุงู: ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ: <span class='math-eq'>ุณ - ูค = ูฆ</span></p><p>ุซุงููุงู: ูุถูู ูค ููุทุฑููู ููุชุฎูุต ูู (-ูค): <span class='math-eq'>ุณ - ูค <span class='highlight-change'>+ ูค</span> = ูฆ <span class='highlight-change'>+ ูค</span></span></p><p>ุซุงูุซุงู: ูุจุณุท ุงููุนุงุฏูุฉ: <span class='math-eq'>ุณ = ูกู</span></p><p class='mt-2 p-2 bg-green-100 rounded-md'>ุฅุฐูุ ุงูุญู ุงูุตุญูุญ ูู ูกู.</p></div>` },
                    // Question 4
                    { type: 'mcq', level: 'โญโญ', topic: 'oneVariable', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูฃู + ูก = ูกูฆ</span>.', options: [ { display: '<span class="math-eq">ูฅ</span>', value: 'ูฅ' }, { display: '<span class="math-eq">ูฆ</span>', value: 'ูฆ' }, { display: '<span class="math-eq">ูกูฅ</span>', value: 'ูกูฅ' }, { display: '<span class="math-eq">ูค</span>', value: 'ูค' } ], correct: 'ูฅ', explanation: `<p class='mb-2'>ุงููุฏู ูู ุนุฒู ุงููุชุบูุฑ <span class="math-eq">ู</span>. ูุชุฎูุต ูู ุงูุฌูุน ุฃููุงู ุซู ุงูุถุฑุจ.</p><div class='text-right space-y-2'><p>ุฃููุงู: ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ: <span class='math-eq'>ูฃู + ูก = ูกูฆ</span></p><p>ุซุงููุงู: ูุทุฑุญ ูก ูู ุงูุทุฑููู: <span class='math-eq'>ูฃู + ูก <span class='highlight-change'>- ูก</span> = ูกูฆ <span class='highlight-change'>- ูก</span></span></p><p>ุซุงูุซุงู: ูุจุณุท ุงููุนุงุฏูุฉ: <span class='math-eq'>ูฃู = ูกูฅ</span></p><p>ุฑุงุจุนุงู: ููุณู ุงูุทุฑููู ุนูู ูฃ: <span class='math-eq flex justify-center items-center'><span class="fraction"><span>ูฃู</span><span class="border-t-2 border-current"></span><span>ูฃ</span></span> = <span class="fraction"><span>ูกูฅ</span><span class="border-t-2 border-current"></span><span>ูฃ</span></span></span></p><p>ุฎุงูุณุงู: ุงูุญู ุงูููุงุฆู: <span class='math-eq'>ู = ูฅ</span></p><p class='mt-2 p-2 bg-green-100 rounded-md'>ุฅุฐูุ ุงูุญู ุงูุตุญูุญ ูู ูฅ.</p></div>` },
                    // Question 5 (Identity)
                    { type: 'mcq', level: 'โญโญโญ', topic: 'identity', text: 'ุฃู ูู ุงููุนุงุฏูุงุช ุงูุชุงููุฉ ุชุนุชุจุฑ <span class="vocab-term">ูุชุทุงุจูุฉ</span>ุ', options: [ { display: '<span class="math-eq">ุณ + ูฅ = ูกู</span>', value: 'ุณ + ูฅ = ูกู' }, { display: '<span class="math-eq">ูฃ(ุณ + ูข) = ูฃุณ + ูฆ</span>', value: 'ูฃ(ุณ + ูข) = ูฃุณ + ูฆ' }, { display: '<span class="math-eq">ุณ = ุณ + ูก</span>', value: 'ุณ = ุณ + ูก' }, { display: '<span class="math-eq">ูขุณ = ูจ</span>', value: 'ูขุณ = ูจ' } ], correct: 'ูฃ(ุณ + ูข) = ูฃุณ + ูฆ', explanation: `<p>ุงููุชุทุงุจูุฉ ูู ูุนุงุฏูุฉ ุตุญูุญุฉ ูุฌููุน ููู ุงููุชุบูุฑ. ุฅุฐุง ูุฒุนูุง ุงูุถุฑุจ ุนูู ุงูุฌูุน ูู ุงูุทุฑู ุงูุฃููู ูู ุงููุนุงุฏูุฉ <span class="math-eq">ูฃ(ุณ + ูข)</span>ุ ูุญุตู ุนูู <span class="math-eq">ูฃุณ + ูฆ</span>ุ ููู ููุณ ุงูุทุฑู ุงูุฃูุณุฑ. ูุฐุง ูู ูุชุทุงุจูุฉ.</p>` },
                    // Question 6 (No Solution)
                    { type: 'mcq', level: 'โญโญโญ', topic: 'noSolution', text: 'ูุง ูู ูุฌููุนุฉ ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ู + ูจ = ู - ูข</span>ุ', options: [ { display: '<span class="math-eq">{ูกู}</span>', value: '{ูกู}' }, { display: '<span class="math-eq">{-ูฆ}</span>', value: '{-ูฆ}' }, { display: '<span class="math-eq">{ูู ุงูุฃุนุฏุงุฏ ุงูุญููููุฉ}</span>', value: 'all' }, { display: '<span class="math-eq">{ } (ูุง ููุฌุฏ ุญู)</span>', value: 'none' } ], correct: 'none', explanation: `<p>ุฅุฐุง ุญุงูููุง ุญู ุงููุนุงุฏูุฉ ูุทุฑุญูุง <span class="math-eq">ู</span> ูู ุงูุทุฑูููุ ุณูุญุตู ุนูู ุงูุนุจุงุฑุฉ ุงูุฎุงุทุฆุฉ <span class="math-eq">ูจ = -ูข</span>. ูุฐุง ูุนูู ุฃูู ูุง ุชูุฌุฏ ูููุฉ ูู <span class="math-eq">ู</span> ุชุฌุนู ุงููุนุงุฏูุฉ ุตุญูุญุฉุ ูุจุงูุชุงูู ููุฌููุนุฉ ุงูุญู ูุงุฑุบุฉ.</p>` },
                    // Question 7 (Variation)
                    { type: 'mcq', level: 'โญโญ', topic: 'oneVariable', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูกูฅ = ูขุจ - ูฃ</span>.', options: [ { display: '<span class="math-eq">ูฉ</span>', value: 'ูฉ' }, { display: '<span class="math-eq">ูฆ</span>', value: 'ูฆ' }, { display: '<span class="math-eq">ูกูจ</span>', value: 'ูกูจ' }, { display: '<span class="math-eq">-ูฉ</span>', value: '-ูฉ' } ], correct: 'ูฉ', explanation: `<p>ุงููุฏู ูู ุนุฒู ุงููุชุบูุฑ <span class="math-eq">ุจ</span>.</p><div class='text-right space-y-2'><p>ุฃููุงู: <span class='math-eq'>ูกูฅ <span class='highlight-change'>+ ูฃ</span> = ูขุจ - ูฃ <span class='highlight-change'>+ ูฃ</span></span></p><p>ุซุงููุงู: <span class='math-eq'>ูกูจ = ูขุจ</span></p><p>ุซุงูุซุงู: ููุณู ุงูุทุฑููู ุนูู ูข: <span class='math-eq'>ูฉ = ุจ</span></p></div>` },
                    // Question 8 (Variation)
                    { type: 'mcq', level: 'โญโญ', topic: 'twoVariables', text: 'ุฅุฐุง ูุงู <span class="math-eq">(ูฃุ ุต)</span> ุญูุงู ูููุนุงุฏูุฉ <span class="math-eq">ุต = ูฅุณ - ูฉ</span>ุ ููุง ูููุฉ <span class="math-eq">ุต</span>ุ', options: [ { display: '<span class="math-eq">ูกูฅ</span>', value: 'ูกูฅ' }, { display: '<span class="math-eq">-ูก</span>', value: '-ูก' }, { display: '<span class="math-eq">ูฆ</span>', value: 'ูฆ' }, { display: '<span class="math-eq">ูขูค</span>', value: 'ูขูค' } ], correct: 'ูฆ', explanation: `<p>ูุนูุถ ุนู ูููุฉ <span class="math-eq">ุณ</span> ุจู <span class="math-eq">ูฃ</span> ูู ุงููุนุงุฏูุฉ:</p><p class='math-eq'>ุต = ูฅ(ูฃ) - ูฉ</p><p class='math-eq'>ุต = ูกูฅ - ูฉ</p><p class='math-eq'>ุต = ูฆ</p>` },
                    // Question 9 (Identity Variation)
                    { type: 'mcq', level: 'โญโญโญ', topic: 'identity', text: 'ุฃู ุงูุนุจุงุฑุงุช ุงูุชุงููุฉ ุชุฌุนู ุงููุนุงุฏูุฉ <span class="math-eq">ูค(ู - ูก) = ...</span> ูุชุทุงุจูุฉุ', options: [ { display: '<span class="math-eq">ูคู - ูก</span>', value: 'ูคู - ูก' }, { display: '<span class="math-eq">ู - ูค</span>', value: 'ู - ูค' }, { display: '<span class="math-eq">ูคู - ูค</span>', value: 'ูคู - ูค' }, { display: '<span class="math-eq">ูคู</span>', value: 'ูคู' } ], correct: 'ูคู - ูค', explanation: `<p>ููู ุชููู ุงููุนุงุฏูุฉ ูุชุทุงุจูุฉุ ูุฌุจ ุฃู ูููู ุงูุทุฑูุงู ูุชุณุงูููู. ุจุงุณุชุฎุฏุงู ุฎุงุตูุฉ ุงูุชูุฒูุนุ ูุถุฑุจ ูค ูู ูู ุญุฏ ุฏุงุฎู ุงูููุณ:</p><p class='math-eq'>ูค ร ู = ูคู</p><p class='math-eq'>ูค ร -ูก = -ูค</p><p>ุฅุฐูุ ุงูุทุฑู ุงูุขุฎุฑ ูุฌุจ ุฃู ูููู <span class="math-eq">ูคู - ูค</span>.</p>` },
                    // Question 10 (No Solution Variation)
                    { type: 'mcq', level: 'โญโญโญ', topic: 'noSolution', text: 'ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ูง + ูขุณ = ูข(ุณ + ูก)</span>.', options: [ { display: '<span class="math-eq">ุณ = ูฅ</span>', value: 'ุณ = ูฅ' }, { display: '<span class="math-eq">{ } (ูุง ููุฌุฏ ุญู)</span>', value: 'none' }, { display: '<span class="math-eq">{ูู ุงูุฃุนุฏุงุฏ ุงูุญููููุฉ}</span>', value: 'all' }, { display: '<span class="math-eq">ุณ = -ูฅ</span>', value: 'ุณ = -ูฅ' } ], correct: 'none', explanation: `<p>ุฃููุงูุ ูุจุณุท ุงูุทุฑู ุงูุฃููู: <span class="math-eq">ูง + ูขุณ = ูขุณ + ูข</span>.</p><p>ุซุงููุงูุ ูุทุฑุญ <span class="math-eq">ูขุณ</span> ูู ุงูุทุฑูููุ ููุญุตู ุนูู <span class="math-eq">ูง = ูข</span>.</p><p>ุจูุง ุฃู ูุฐู ุงูุนุจุงุฑุฉ ุฎุงุทุฆุฉุ ูุงููุนุงุฏูุฉ ููุณ ููุง ุญู.</p>` },
                    // Question 11
                    { type: 'mcq', level: 'โญ', topic: 'vocabulary', text: 'ูุงุฐุง ุชุณูู ุงููุนุงุฏูุฉ ุงูุชู ุชููู ุตุญูุญุฉ ูุฌููุน ููู ุงููุชุบูุฑุ', options: [ { display: 'ูุนุงุฏูุฉ ูุณุชุญููุฉ', value: 'impossible' }, { display: 'ุฌููุฉ ููุชูุญุฉ', value: 'open' }, { display: 'ูุชุทุงุจูุฉ', value: 'identity' }, { display: 'ูุฌููุนุฉ ุญู', value: 'solution' } ], correct: 'identity', explanation: `<p>ุงููุนุงุฏูุฉ ุงูุชู ุชููู ุตุญูุญุฉ ุฏุงุฆููุงุ ุจุบุถ ุงููุธุฑ ุนู ูููุฉ ุงููุชุบูุฑุ ุชุณูู <span class="vocab-term">ูุชุทุงุจูุฉ</span>.</p>` },
                    // Question 12 (NEW)
                    { type: 'mcq', level: 'โญโญ', topic: 'writing', text: 'ุงุดุชุฑู ุฃุญูุฏ ูุชุงุจูุง ุจุณุนุฑ ูุฒูุฏ ูฅ ุฑูุงูุงุช ุนู ุณุนุฑ ูููู. ุฅุฐุง ูุงู ุณุนุฑ ุงููุชุงุจ ูฃู ุฑูุงูุงูุ ููุง ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ุณุนุฑ ุงูููู (ู)ุ', options: [ { display: '<span class="math-eq">ู - ูฅ = ูฃู</span>', value: 'ู - ูฅ = ูฃู' }, { display: '<span class="math-eq">ู + ูฅ = ูฃู</span>', value: 'ู + ูฅ = ูฃู' }, { display: '<span class="math-eq">ูฅู = ูฃู</span>', value: 'ูฅู = ูฃู' }, { display: '<span class="math-eq">ู = ูฃู + ูฅ</span>', value: 'ู = ูฃู + ูฅ' } ], correct: 'ู + ูฅ = ูฃู', explanation: `<p>ุณุนุฑ ุงููุชุงุจ (<span class="math-eq">ูฃู</span>) ูุณุงูู ุณุนุฑ ุงูููู (<span class="math-eq">ู</span>) ูุถุงููุง ุฅููู <span class="math-eq">ูฅ</span>. ูุฐููุ ุงููุนุงุฏูุฉ ุงูุตุญูุญุฉ ูู <span class="math-eq">ู + ูฅ = ูฃู</span>.</p>` }
                ];
                return [...questionBank].sort(() => Math.random() - 0.5).slice(0, 5);
            } 
        },
        'c1_l2': { title: 'ุงูุฏุฑุณ ูก-ูข: ุญู ุงููุนุงุฏูุงุช ุฐุงุช ุงูุฎุทูุฉ ุงููุงุญุฏุฉ', content: `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููููู ุงูุฃุณุงุณู</h2>
                    <div class="p-4 bg-blue-50 rounded-lg space-y-3">
                        <p>ูุญู ูุนุงุฏูุฉุ ูุฏููุง ูู <span class="vocab-term">ุนุฒู ุงููุชุบูุฑ</span> ูู ุทุฑู ููุญุฏู. ููุนู ุฐููุ ูุณุชุฎุฏู <span class="vocab-term">ุงูุนูููุงุช ุงูุนูุณูุฉ</span>.</p>
                        <p>ุชุฐูุฑ ุฏุงุฆูุงู: <strong class="text-red-600">ุฃู ุนูููุฉ ุชุฌุฑููุง ุนูู ุทุฑู ูู ุงููุนุงุฏูุฉุ ูุฌุจ ุฃู ุชุฌุฑููุง ุนูู ุงูุทุฑู ุงูุขุฎุฑ ุฃูุถุงู</strong>. ุนูุฏูุง ุชูุนู ุฐููุ ูุฃูุช ุชูุดุฆ <span class="vocab-term">ูุนุงุฏูุงุช ูุชูุงูุฆุฉ</span>ุ ููู ูุนุงุฏูุงุช ููุง ููุณ ุงูุญู.</p>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงููุงู: ุงูุญู ุจุงูุฌูุน ุฃู ุงูุทุฑุญ</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="p-6 bg-gray-50 rounded-lg">
                            <p class="text-lg font-semibold mb-4 h-14">ูุซุงู (ุงูุญู ุจุงูุฌูุน): ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ุต - ูขูง = ูกูฉ</span></p>
                            <div class="space-y-4">
                                <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูุนูููุฉ</h4><p>ุงููุชุบูุฑ <span class="math-eq">ุต</span> ูุทุฑูุญ ููู <span class="math-eq">ูขูง</span>. ุงูุนูููุฉ ุงูุนูุณูุฉ ููุทุฑุญ ูู ุงูุฌูุน.</p></div>
                                <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุชุทุจูู ุงูุนูููุฉ ุงูุนูุณูุฉ</h4><p>ูุถูู <span class="math-eq">ูขูง</span> ุฅูู <strong class="text-red-600">ููุง ุงูุทุฑููู</strong>.</p><p class="math-eq text-center mt-2">ุต - ูขูง <span class="highlight-change">+ ูขูง</span> = ูกูฉ <span class="highlight-change">+ ูขูง</span></p></div>
                                <div class="p-4 bg-green-100 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ุต = ูคูฆ</span></p></div>
                            </div>
                        </div>
                        <div class="p-6 bg-gray-50 rounded-lg">
                            <p class="text-lg font-semibold mb-4 h-14">ูุซุงู (ุงูุญู ุจุงูุทุฑุญ): ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ู + ูกูข = ูกูฅ</span></p>
                            <div class="space-y-4">
                                <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูุนูููุฉ</h4><p>ุงููุชุบูุฑ <span class="math-eq">ู</span> ูุถุงู ุฅููู <span class="math-eq">ูกูข</span>. ุงูุนูููุฉ ุงูุนูุณูุฉ ููุฌูุน ูู ุงูุทุฑุญ.</p></div>
                                <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุชุทุจูู ุงูุนูููุฉ ุงูุนูุณูุฉ</h4><p>ูุทุฑุญ <span class="math-eq">ูกูข</span> ูู <strong class="text-red-600">ููุง ุงูุทุฑููู</strong>.</p><p class="math-eq text-center mt-2">ู + ูกูข <span class="highlight-change">- ูกูข</span> = ูกูฅ <span class="highlight-change">- ูกูข</span></p></div>
                                <div class="p-4 bg-green-100 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ู = ูฃ</span></p></div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงูุซุงู: ุงูุญู ุจุงูุถุฑุจ ุฃู ุงููุณูุฉ</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="p-6 bg-gray-50 rounded-lg">
                            <p class="text-lg font-semibold mb-4 h-14">ูุซุงู (ุงูุญู ุจุงููุณูุฉ): ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ูคู = ูฅูข</span></p>
                               <div class="space-y-4">
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูุนูููุฉ</h4><p>ุงููุชุบูุฑ <span class="math-eq">ู</span> ูุถุฑูุจ ูู <span class="math-eq">ูค</span>. ุงูุนูููุฉ ุงูุนูุณูุฉ ููุถุฑุจ ูู ุงููุณูุฉ.</p></div>
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุชุทุจูู ุงูุนูููุฉ ุงูุนูุณูุฉ</h4><p>ููุณู <strong class="text-red-600">ููุง ุงูุทุฑููู</strong> ุนูู <span class="math-eq">ูค</span>.</p>
                                    <p class="math-eq text-center mt-2 flex justify-center items-center"><span class="fraction"><span>ูคู</span><span class="frac-bar"></span><span>ูค</span></span> = <span class="fraction"><span>ูฅูข</span><span class="frac-bar"></span><span>ูค</span></span></p>
                                    </div>
                                    <div class="p-4 bg-green-100 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ู = ูกูฃ</span></p></div>
                                </div>
                        </div>
                        <div class="p-6 bg-gray-50 rounded-lg">
                            <p class="text-lg font-semibold mb-4 h-14">ูุซุงู (ุงูุญู ุจุงูุถุฑุจ): ุญู ุงููุนุงุฏูุฉ <span class="math-eq"><span class="fraction"><span>ุณ</span><span class="frac-bar"></span><span>ูฆ</span></span> = ูจ</span></p>
                               <div class="space-y-4">
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูุนูููุฉ</h4><p>ุงููุชุบูุฑ <span class="math-eq">ุณ</span> ููุณูู ุนูู <span class="math-eq">ูฆ</span>. ุงูุนูููุฉ ุงูุนูุณูุฉ ูููุณูุฉ ูู ุงูุถุฑุจ.</p></div>
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุชุทุจูู ุงูุนูููุฉ ุงูุนูุณูุฉ</h4><p>ูุถุฑุจ <strong class="text-red-600">ููุง ุงูุทุฑููู</strong> ูู <span class="math-eq">ูฆ</span>.</p>
                                    <p class="math-eq text-center mt-2"><span class="fraction"><span>ุณ</span><span class="frac-bar"></span><span>ูฆ</span></span> <span class="highlight-change">ร ูฆ</span> = ูจ <span class="highlight-change">ร ูฆ</span></p>
                                    </div>
                                    <div class="p-4 bg-green-100 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ุณ = ูคูจ</span></p></div>
                                </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                           <div class="p-6 bg-gray-50 rounded-lg">
                                <p class="text-lg font-semibold mb-4 h-20">ูุซุงู (ุงูุชุนุงูู ูุน ุงููุณูุฑ): ุญู ุงููุนุงุฏูุฉ <span class="math-eq"><span class="fraction"><span>ูข</span><span class="frac-bar"></span><span>ูฃ</span></span> ู = <span class="fraction"><span>ูก</span><span class="frac-bar"></span><span>ูข</span></span></span></p>
                                 <div class="space-y-4">
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูุนูููุฉ</h4><p>ุงููุชุบูุฑ <span class="math-eq">ู</span> ูุถุฑูุจ ูู ุงููุณุฑ. ุงูุนูููุฉ ุงูุนูุณูุฉ ูู ุงูุถุฑุจ ูู <span class="vocab-term">ููููุจ ุงููุณุฑ</span>.</p></div>
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุชุทุจูู ุงูุนูููุฉ ุงูุนูุณูุฉ</h4><p>ูุถุฑุจ <strong class="text-red-600">ููุง ุงูุทุฑููู</strong> ูู ููููุจ ุงููุณุฑ ููู <span class="math-eq"><span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span></span>.</p>
                                    <p class="math-eq text-center mt-2"><span class="highlight-change"><span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span></span> ร <span class="fraction"><span>ูข</span><span class="frac-bar"></span><span>ูฃ</span></span> ู = <span class="fraction"><span>ูก</span><span class="frac-bar"></span><span>ูข</span></span> ร <span class="highlight-change"><span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span></span></p>
                                    </div>
                                    <div class="p-4 bg-green-100 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ู = <span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูค</span></span></span></p></div>
                                </div>
                            </div>
                        <div class="p-6 bg-gray-50 rounded-lg">
                            <p class="text-lg font-semibold mb-4 h-20">ูุซุงู (ุงูุชุนุงูู ูุน ููููุจ ูุณุฑ ุณุงูุจ): ุญู ุงููุนุงุฏูุฉ <span class="math-eq"><span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูฅ</span></span> ู = -ูฉ</span></p>
                            <div class="space-y-4">
                                <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูุนูููุฉ</h4><p>ุงููุชุบูุฑ <span class="math-eq">ู</span> ูุถุฑูุจ ูู ุงููุณุฑ. ุงูุนูููุฉ ุงูุนูุณูุฉ ูู ุงูุถุฑุจ ูู ููููุจ ุงููุณุฑ.</p></div>
                                <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุชุทุจูู ุงูุนูููุฉ ุงูุนูุณูุฉ</h4><p>ูุถุฑุจ <strong class="text-red-600">ููุง ุงูุทุฑููู</strong> ูู ููููุจ ุงููุณุฑ ููู <span class="math-eq"><span class="fraction"><span>ูฅ</span><span class="frac-bar"></span><span>ูฃ</span></span></span>.</p>
                                <p class="math-eq text-center mt-2"><span class="highlight-change"><span class="fraction"><span>ูฅ</span><span class="frac-bar"></span><span>ูฃ</span></span></span> ร <span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูฅ</span></span> ู = -ูฉ ร <span class="highlight-change"><span class="fraction"><span>ูฅ</span><span class="frac-bar"></span><span>ูฃ</span></span></span></p>
                                </div>
                                <div class="p-4 bg-green-100 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ู = -ูกูฅ</span></p></div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุฑุงุจุนุงู: ูุชุงุจุฉ ุงููุนุงุฏูุงุช ูุญููุง</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="p-6 bg-gray-50 rounded-lg">
                            <p class="text-lg font-semibold mb-4 h-20">ูุซุงู: ุงูุชุจ ูุนุงุฏูุฉ ุชูุซู ุงูุฌููุฉ "ุณุชุฉ ุฃูุซุงู ุนุฏุฏ ุชุณุงูู ูกูฃูข"ุ ุซู ุญููุง.</p>
                            <div class="space-y-4">
                                <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุฑุฌูุฉ ุงูุฌููุฉ</h4><p>"ุณุชุฉ ุฃูุซุงู ุนุฏุฏ" ุชุชุฑุฌู ุฅูู <span class="math-eq">ูฆุณ</span>. "ุชุณุงูู ูกูฃูข" ุชุชุฑุฌู ุฅูู <span class="math-eq">= ูกูฃูข</span>.</p><p class="mt-2">ุฅุฐูุ ุงููุนุงุฏูุฉ ูู: <span class="math-eq">ูฆุณ = ูกูฃูข</span></p></div>
                                <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุญู ุงููุนุงุฏูุฉ</h4><p>ูุญู ุงููุนุงุฏูุฉุ ููุณู ููุง ุงูุทุฑููู ุนูู <span class="math-eq">ูฆ</span>.</p>
                                <p class="math-eq text-center mt-2 flex justify-center items-center"><span class="fraction"><span>ูฆุณ</span><span class="frac-bar"></span><span>ูฆ</span></span> = <span class="fraction"><span>ูกูฃูข</span><span class="frac-bar"></span><span>ูฆ</span></span></p>
                                </div>
                                <div class="p-4 bg-green-100 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ุจุนุฏ ุงูุชุจุณูุทุ ูุฌุฏ ุฃู <span class="math-eq">ุณ = ูขูข</span></p></div>
                            </div>
                        </div>
                        <div class="p-6 bg-blue-50 rounded-lg">
                            <p class="text-lg font-semibold mb-4 h-20">ูุซุงู: ุงูุชุจ ูุนุงุฏูุฉ ุชูุซู ุงูุฌููุฉ "ุฃูู ูู ุนุฏุฏ ุจุนุดุฑุฉ ูุณุงูู ูขูฅ"ุ ุซู ุญููุง.</p>
                            <div class="space-y-4">
                                <div class="p-4 bg-white rounded-lg step-box border-blue-600"><h4 class="font-bold text-blue-800">ุงูุฎุทูุฉ 1: ุชุฑุฌูุฉ ุงูุฌููุฉ</h4><p>"ุฃูู ูู ุนุฏุฏ ุจุนุดุฑุฉ" ุชุชุฑุฌู ุฅูู <span class="math-eq">ุณ - ูกู</span>. "ูุณุงูู ูขูฅ" ุชุชุฑุฌู ุฅูู <span class="math-eq">= ูขูฅ</span>.</p><p class="mt-2">ุฅุฐูุ ุงููุนุงุฏูุฉ ูู: <span class="math-eq text-blue-700">ุณ - ูกู = ูขูฅ</span></p></div>
                                <div class="p-4 bg-white rounded-lg step-box border-blue-600"><h4 class="font-bold text-blue-800">ุงูุฎุทูุฉ 2: ุญู ุงููุนุงุฏูุฉ</h4><p>ูุญู ุงููุนุงุฏูุฉุ ูุถูู <span class="math-eq">ูกู</span> ุฅูู ููุง ุงูุทุฑููู.</p>
                                <p class="math-eq text-center mt-2">ุณ - ูกู <span class="highlight-change">+ ูกู</span> = ูขูฅ <span class="highlight-change">+ ูกู</span></p>
                                </div>
                                <div class="p-4 bg-green-100 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ุจุนุฏ ุงูุชุจุณูุทุ ูุฌุฏ ุฃู <span class="math-eq">ุณ = ูฃูฅ</span></p></div>
                            </div>
                        </div>
                    </div>
                </section>
            `, 
            generateQuiz: () => {
                const questionBank = [
                    { type: 'mcq', level: 'โญ', topic: 'addition', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ุณ + ูกู = ูฃูฅ</span>', options: [ { display: '<span class="math-eq">ูคูฅ</span>', value: 'ูคูฅ' }, { display: '<span class="math-eq">ูขูฅ</span>', value: 'ูขูฅ' }, { display: '<span class="math-eq">ูฃ.ูฅ</span>', value: 'ูฃ.ูฅ' }, { display: '<span class="math-eq">-ูขูฅ</span>', value: '-ูขูฅ' } ], correct: 'ูขูฅ', explanation: `<p class='mb-2'>ูุญู ุงููุนุงุฏูุฉุ ูุทุฑุญ <span class="math-eq">ูกู</span> ูู ููุง ุงูุทุฑููู.</p><div class='text-right space-y-2'><p>ุฃููุงู: <span class='math-eq'>ุณ + ูกู <span class='highlight-change'>- ูกู</span> = ูฃูฅ <span class='highlight-change'>- ูกู</span></span></p><p>ุซุงููุงู: <span class='math-eq'>ุณ = ูขูฅ</span></p></div>` },
                    { type: 'mcq', level: 'โญ', topic: 'subtraction', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ู - ูกูฃ = ูฅ</span>', options: [ { display: '<span class="math-eq">ูจ</span>', value: 'ูจ' }, { display: '<span class="math-eq">-ูจ</span>', value: '-ูจ' }, { display: '<span class="math-eq">ูกูจ</span>', value: 'ูกูจ' }, { display: '<span class="math-eq">-ูกูจ</span>', value: '-ูกูจ' } ], correct: 'ูกูจ', explanation: `<p class='mb-2'>ูุญู ุงููุนุงุฏูุฉุ ูุถูู <span class="math-eq">ูกูฃ</span> ุฅูู ููุง ุงูุทุฑููู.</p><div class='text-right space-y-2'><p>ุฃููุงู: <span class='math-eq'>ู - ูกูฃ <span class='highlight-change'>+ ูกูฃ</span> = ูฅ <span class='highlight-change'>+ ูกูฃ</span></span></p><p>ุซุงููุงู: <span class='math-eq'>ู = ูกูจ</span></p></div>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'division', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">-ูจุณ = ูฉูฆ</span>', options: [ { display: '<span class="math-eq">ูกูข</span>', value: 'ูกูข' }, { display: '<span class="math-eq">ูกููค</span>', value: 'ูกููค' }, { display: '<span class="math-eq">-ูกูข</span>', value: '-ูกูข' }, { display: '<span class="math-eq">-ูจูจ</span>', value: '-ูจูจ' } ], correct: '-ูกูข', explanation: `<p class='mb-2'>ูุญู ุงููุนุงุฏูุฉุ ููุณู ููุง ุงูุทุฑููู ุนูู <span class="math-eq">-ูจ</span>.</p><div class='text-right space-y-2 flex justify-center items-center'><p>ุฃููุงู: <span class='math-eq'><span class="fraction"><span>-ูจุณ</span><span class="frac-bar"></span><span class='highlight-change'>-ูจ</span></span> = <span class="fraction"><span>ูฉูฆ</span><span class="frac-bar"></span><span class='highlight-change'>-ูจ</span></span></span></p></div><p class='text-center mt-2'>ุซุงููุงู: <span class='math-eq'>ุณ = -ูกูข</span></p>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'multiplication', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq"><span class="fraction"><span>ุต</span><span class="frac-bar"></span><span>ูง</span></span> = -ูค</span>', options: [ { display: '<span class="math-eq">ูฃ</span>', value: 'ูฃ' }, { display: '<span class="math-eq">-ูขูจ</span>', value: '-ูขูจ' }, { display: '<span class="math-eq">ูขูจ</span>', value: 'ูขูจ' }, { display: '<span class="math-eq">-ูกูก</span>', value: '-ูกูก' } ], correct: '-ูขูจ', explanation: `<p class='mb-2'>ูุญู ุงููุนุงุฏูุฉุ ูุถุฑุจ ููุง ุงูุทุฑููู ูู <span class="math-eq">ูง</span>.</p><div class='text-right space-y-2 flex justify-center items-center'><p>ุฃููุงู: <span class='math-eq'><span class="fraction"><span>ุต</span><span class="frac-bar"></span><span>ูง</span></span> <span class='highlight-change'>ร ูง</span> = -ูค <span class='highlight-change'>ร ูง</span></span></p></div><p class='text-center mt-2'>ุซุงููุงู: <span class='math-eq'>ุต = -ูขูจ</span></p>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'writing', text: 'ูุง ุญู ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู "ุซูุซุง ุนุฏุฏ ูุณุงูู ุณุงูุจ ุซูุงููุฉ"ุ', options: [ { display: '<span class="math-eq">-ูกูข</span>', value: '-ูกูข' }, { display: '<span class="math-eq">-ูกูฆ</span>', value: '-ูกูฆ' }, { display: '<span class="math-eq flex justify-center items-center">-ูฅ<span class="fraction"><span>ูก</span><span class="frac-bar"></span><span>ูฃ</span></span></span>', value: '-16/3' }, { display: '<span class="math-eq">ูกูข</span>', value: 'ูกูข' } ], correct: '-ูกูข', explanation: `<p class='mb-2'>ุฃููุงูุ ููุชุจ ุงููุนุงุฏูุฉ: <span class="math-eq"><span class="fraction"><span>ูข</span><span class="frac-bar"></span><span>ูฃ</span></span>ุณ = -ูจ</span></p><p class='mb-2'>ุซุงููุงูุ ูุญู ุจุถุฑุจ ุงูุทุฑููู ูู ููููุจ ุงููุณุฑ <span class="math-eq"><span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span></span></p><p class='math-eq text-center'>ุณ = -ูจ ร <span class="highlight-change"><span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span></span></p><p class='math-eq text-center'>ุณ = <span class="fraction"><span>-ูขูค</span><span class="frac-bar"></span><span>ูข</span></span> = -ูกูข</p>` },
                    { type: 'mcq', level: 'โญ', topic: 'subtraction', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ู - ูฆ = -ูกูฅ</span>', options: [ { display: '<span class="math-eq">-ูฉ</span>', value: '-ูฉ' }, { display: '<span class="math-eq">-ูขูก</span>', value: '-ูขูก' }, { display: '<span class="math-eq">ูฉ</span>', value: 'ูฉ' }, { display: '<span class="math-eq">ูขูก</span>', value: 'ูขูก' } ], correct: '-ูฉ', explanation: `<p class='mb-2'>ูุญู ุงููุนุงุฏูุฉุ ูุถูู <span class="math-eq">ูฆ</span> ุฅูู ููุง ุงูุทุฑููู.</p><div class='text-right space-y-2'><p>ุฃููุงู: <span class='math-eq'>ู - ูฆ <span class='highlight-change'>+ ูฆ</span> = -ูกูฅ <span class='highlight-change'>+ ูฆ</span></span></p><p>ุซุงููุงู: <span class='math-eq'>ู = -ูฉ</span></p></div>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'multiplication', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">-ูฃู = -ูขูง</span>', options: [ { display: '<span class="math-eq">-ูฉ</span>', value: '-ูฉ' }, { display: '<span class="math-eq">ูฉ</span>', value: 'ูฉ' }, { display: '<span class="math-eq">-ูฃู</span>', value: '-ูฃู' }, { display: '<span class="math-eq">-ูขูค</span>', value: '-ูขูค' } ], correct: 'ูฉ', explanation: `<p class='mb-2'>ูุญู ุงููุนุงุฏูุฉุ ููุณู ููุง ุงูุทุฑููู ุนูู <span class="math-eq">-ูฃ</span>.</p><div class='text-right space-y-2 flex justify-center items-center'><p>ุฃููุงู: <span class='math-eq'><span class="fraction"><span>-ูฃู</span><span class="frac-bar"></span><span class='highlight-change'>-ูฃ</span></span> = <span class="fraction"><span>-ูขูง</span><span class="frac-bar"></span><span class='highlight-change'>-ูฃ</span></span></span></p></div><p class='text-center mt-2'>ุซุงููุงู: <span class='math-eq'>ู = ูฉ</span></p>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'division', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq"><span class="fraction"><span>ุจ</span><span class="frac-bar"></span><span>-ูค</span></span> = -ูกูข</span>', options: [ { display: '<span class="math-eq">ูฃ</span>', value: 'ูฃ' }, { display: '<span class="math-eq">-ูฃ</span>', value: '-ูฃ' }, { display: '<span class="math-eq">ูคูจ</span>', value: 'ูคูจ' }, { display: '<span class="math-eq">-ูคูจ</span>', value: '-ูคูจ' } ], correct: 'ูคูจ', explanation: `<p class='mb-2'>ูุญู ุงููุนุงุฏูุฉุ ูุถุฑุจ ููุง ุงูุทุฑููู ูู <span class="math-eq">-ูค</span>.</p><div class='text-right space-y-2 flex justify-center items-center'><p>ุฃููุงู: <span class='math-eq'><span class="fraction"><span>ุจ</span><span class="frac-bar"></span><span>-ูค</span></span> <span class='highlight-change'>ร -ูค</span> = -ูกูข <span class='highlight-change'>ร -ูค</span></span></p></div><p class='text-center mt-2'>ุซุงููุงู: <span class='math-eq'>ุจ = ูคูจ</span></p>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'writing', text: 'ุนุฏุฏ ููุต ุจููุฏุงุฑ ูจ ูุฃุตุจุญ ูกูฅ. ูุง ูู ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ูุฐู ุงูุฌููุฉุ', options: [ { display: '<span class="math-eq">ุณ + ูจ = ูกูฅ</span>', value: 'ุณ + ูจ = ูกูฅ' }, { display: '<span class="math-eq">ุณ - ูจ = ูกูฅ</span>', value: 'ุณ - ูจ = ูกูฅ' }, { display: '<span class="math-eq">ูจ - ุณ = ูกูฅ</span>', value: 'ูจ - ุณ = ูกูฅ' }, { display: '<span class="math-eq">ูจุณ = ูกูฅ</span>', value: 'ูจุณ = ูกูฅ' } ], correct: 'ุณ - ูจ = ูกูฅ', explanation: `<p class='mb-2'>"ุนุฏุฏ" ููุซู ุจู <span class="math-eq">ุณ</span>. "ููุต ุจููุฏุงุฑ ูจ" ูุนูู ูุทุฑุญ <span class="math-eq">ูจ</span>. "ูุฃุตุจุญ ูกูฅ" ูุนูู ูุณุงูู <span class="math-eq">ูกูฅ</span>. ุฅุฐู ุงููุนุงุฏูุฉ ูู <span class="math-eq">ุณ - ูจ = ูกูฅ</span></p>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'fractions', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq"><span class="fraction"><span>ูค</span><span class="frac-bar"></span><span>ูฅ</span></span> ู = ูขูจ</span>', options: [ { display: '<span class="math-eq">ูฃูฅ</span>', value: 'ูฃูฅ' }, { display: '<span class="math-eq">ูขูข.ูค</span>', value: 'ูขูข.ูค' }, { display: '<span class="math-eq">ูขูจ.ูจ</span>', value: 'ูขูจ.ูจ' }, { display: '<span class="math-eq">ูฃูข</span>', value: 'ูฃูข' } ], correct: 'ูฃูฅ', explanation: `<p class='mb-2'>ูุญู ุงููุนุงุฏูุฉุ ูุถุฑุจ ููุง ุงูุทุฑููู ูู ููููุจ ุงููุณุฑ ููู <span class="math-eq"><span class="fraction"><span>ูฅ</span><span class="frac-bar"></span><span>ูค</span></span></span></p><p class='math-eq text-center'>ู = ูขูจ ร <span class="highlight-change"><span class="fraction"><span>ูฅ</span><span class="frac-bar"></span><span>ูค</span></span></span></p><p class='math-eq text-center'>ู = <span class="fraction"><span>ูขูจ ร ูฅ</span><span class="frac-bar"></span><span>ูค</span></span> = <span class="fraction"><span>ูกูคู</span><span class="frac-bar"></span><span>ูค</span></span> = ูฃูฅ</p>` },
                    { type: 'mcq', level: 'โญ', topic: 'writing', text: 'ูุง ูู ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ุงูุฌููุฉ: "ุนุฏุฏ ูุถุงู ุฅููู ูกูค ูุณุงูู ูฃ"ุ', options: [ { display: '<span class="math-eq">ุณ + ูกูค = ูฃ</span>', value: 'ุณ + ูกูค = ูฃ' }, { display: '<span class="math-eq">ุณ - ูกูค = ูฃ</span>', value: 'ุณ - ูกูค = ูฃ' }, { display: '<span class="math-eq">ูกูคุณ = ูฃ</span>', value: 'ูกูคุณ = ูฃ' }, { display: '<span class="math-eq">ูฃ + ุณ = ูกูค</span>', value: 'ูฃ + ุณ = ูกูค' } ], correct: 'ุณ + ูกูค = ูฃ', explanation: `<p class='mb-2'>"ุนุฏุฏ ูุถุงู ุฅููู ูกูค" ูุชุฑุฌู ุฅูู <span class="math-eq">ุณ + ูกูค</span>. "ูุณุงูู ูฃ" ูุชุฑุฌู ุฅูู <span class="math-eq">= ูฃ</span>. ุฅุฐู ุงููุนุงุฏูุฉ ูู <span class="math-eq">ุณ + ูกูค = ูฃ</span></p>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'writing', text: 'ูุง ูู ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ุงูุฌููุฉ: "ูุงุชุฌ ูุณูุฉ ุนุฏุฏ ุนูู ูฅ ูุณุงูู -ูกู"ุ', options: [ { display: '<span class="math-eq">ุณ + ูฅ = -ูกู</span>', value: 'ุณ + ูฅ = -ูกู' }, { display: '<span class="math-eq"><span class="fraction"><span>ุณ</span><span class="frac-bar"></span><span>ูฅ</span></span> = -ูกู</span>', value: 'ุณ/ูฅ = -ูกู' }, { display: '<span class="math-eq">ูฅุณ = -ูกู</span>', value: 'ูฅุณ = -ูกู' }, { display: '<span class="math-eq">ุณ - ูฅ = -ูกู</span>', value: 'ุณ - ูฅ = -ูกู' } ], correct: 'ุณ/ูฅ = -ูกู', explanation: `<p class='mb-2'>"ูุงุชุฌ ูุณูุฉ ุนุฏุฏ ุนูู ูฅ" ูุชุฑุฌู ุฅูู <span class="math-eq"><span class="fraction"><span>ุณ</span><span class="frac-bar"></span><span>ูฅ</span></span></span>. "ูุณุงูู -ูกู" ูุชุฑุฌู ุฅูู <span class="math-eq">= -ูกู</span>. ุฅุฐู ุงููุนุงุฏูุฉ ูู <span class="math-eq"><span class="fraction"><span>ุณ</span><span class="frac-bar"></span><span>ูฅ</span></span> = -ูกู</span></p>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'writing', text: 'ุชุฑุฌู ุงูุฌููุฉ ุงูุชุงููุฉ ุฅูู ูุนุงุฏูุฉ: "ูุงุชุฌ ุถุฑุจ ุนุฏุฏ ูู ุณุงูุจ ุณุจุนุฉ ูู ูคูฉ".', options: [ { display: '<span class="math-eq">ุณ - ูง = ูคูฉ</span>', value: 'ุณ - ูง = ูคูฉ' }, { display: '<span class="math-eq">ุณ + (-ูง) = ูคูฉ</span>', value: 'ุณ + (-ูง) = ูคูฉ' }, { display: '<span class="math-eq">-ูงุณ = ูคูฉ</span>', value: '-ูงุณ = ูคูฉ' }, { display: '<span class="math-eq"><span class="fraction"><span>ุณ</span><span class="frac-bar"></span><span>-ูง</span></span> = ูคูฉ</span>', value: 'ุณ/-ูง = ูคูฉ' } ], correct: '-ูงุณ = ูคูฉ', explanation: `<p class='mb-2'>"ูุงุชุฌ ุถุฑุจ ุนุฏุฏ ูู ุณุงูุจ ุณุจุนุฉ" ูุชุฑุฌู ุฅูู <span class="math-eq">-ูงุณ</span>. "ูู ูคูฉ" ูุชุฑุฌู ุฅูู <span class="math-eq">= ูคูฉ</span>. ุฅุฐู ุงููุนุงุฏูุฉ ูู <span class="math-eq">-ูงุณ = ูคูฉ</span></p>` }
                ];
                return [...questionBank].sort(() => Math.random() - 0.5).slice(0, 5);
            } },
        'c1_l3': { title: 'ุงูุฏุฑุณ ูก-ูฃ: ุญู ุงููุนุงุฏูุงุช ูุชุนุฏุฏุฉ ุงูุฎุทูุงุช', content:`
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููููู ุงูุฃุณุงุณู</h2>
                    <div class="p-4 bg-blue-50 rounded-lg space-y-3">
                        <p>ูู ูุฐุง ุงูุฏุฑุณุ ุณูุญู <span class="vocab-term">ูุนุงุฏูุงุช ูุชุนุฏุฏุฉ ุงูุฎุทูุงุช</span>ุ ููู ูุนุงุฏูุงุช ุชุชุทูุจ ุฃูุซุฑ ูู ุนูููุฉ ูุงุญุฏุฉ ูุญููุง. ุงูููุชุงุญ ูู <strong class="text-red-600">ุงูุชุฎูุต ูู ุนูููุงุช ุงูุฌูุน ูุงูุทุฑุญ ุฃููุงู</strong>ุ ุซู ุงูุชุฎูุต ูู ุนูููุงุช ุงูุถุฑุจ ูุงููุณูุฉ.</p>
                        <p>ุณูุชุนูู ุฃูุถุงู ุนู <span class="vocab-term">ูุธุฑูุฉ ุงูุฃุนุฏุงุฏ</span> ูุญู ูุณุงุฆู ุชุชุถูู <span class="vocab-term">ุฃุนุฏุงุฏุงู ุตุญูุญุฉ ูุชุชุงููุฉ</span>.</p>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงููุงู: ุญู ูุนุงุฏูุฉ ูุชุนุฏุฏุฉ ุงูุฎุทูุงุช</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <!-- Example 1 -->
                            <div>
                                <p class="text-lg font-semibold mb-4">ูุซุงู ูก: ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ูฅุณ + ูฉ = ูขูค</span>.</p>
                                <div class="space-y-4">
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุงูุชุฎูุต ูู ุงูุฌูุน</h4><p>ูุทุฑุญ <span class="math-eq">ูฉ</span> ูู ููุง ุงูุทุฑููู.</p><p class="math-eq text-center mt-2">ูฅุณ + ูฉ <span class="highlight-change">- ูฉ</span> = ูขูค <span class="highlight-change">- ูฉ</span></p><p class="math-eq text-center mt-2">ูฅุณ = ูกูฅ</p></div>
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุฎูุต ูู ุงูุถุฑุจ</h4><p>ููุณู ููุง ุงูุทุฑููู ุนูู <span class="math-eq">ูฅ</span>.</p><p class="math-eq text-center mt-2 flex justify-center items-center"><span class="fraction"><span>ูฅุณ</span><span class="frac-bar"></span><span>ูฅ</span></span> = <span class="fraction"><span>ูกูฅ</span><span class="frac-bar"></span><span>ูฅ</span></span></p></div>
                                    <div class="p-4 bg-green-200 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ุณ = ูฃ</span>.</p></div>
                                </div>
                            </div>
                            <!-- Example 2: Fractions -->
                            <div>
                                <p class="text-lg font-semibold mb-4">ูุซุงู ูข: ูุนุงุฏูุฉ ุชุชุถูู ูุณูุฑุงู <span class="math-eq"><span class="fraction"><span>ูข</span><span class="frac-bar"></span><span>ูฃ</span></span>ุณ + ูค = ูข</span>.</p>
                                <div class="space-y-4">
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุงูุชุฎูุต ูู ุงูุฌูุน</h4><p>ูุทุฑุญ <span class="math-eq">ูค</span> ูู ููุง ุงูุทุฑููู.</p><p class="math-eq text-center mt-2"><span class="fraction"><span>ูข</span><span class="frac-bar"></span><span>ูฃ</span></span>ุณ + ูค <span class="highlight-change">- ูค</span> = ูข <span class="highlight-change">- ูค</span></p><p class="math-eq text-center mt-2"><span class="fraction"><span>ูข</span><span class="frac-bar"></span><span>ูฃ</span></span>ุณ = -ูข</p></div>
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุฎูุต ูู ุงููุณุฑ</h4><p>ูุถุฑุจ ุงูุทุฑููู ูู ููููุจ ุงููุณุฑ <span class="math-eq"><span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span></span>.</p><p class="math-eq text-center mt-2 flex justify-center items-center"><span class="highlight-change"><span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span> ร </span><span class="fraction"><span>ูข</span><span class="frac-bar"></span><span>ูฃ</span></span>ุณ = -ูข <span class="highlight-change">ร <span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span></span></p></div>
                                    <div class="p-4 bg-green-200 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ุณ = -ูฃ</span>.</p></div>
                                </div>
                            </div>
                        </div>
                        <hr class="border-gray-300 my-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <!-- Example 3: Distribution -->
                            <div>
                                <p class="text-lg font-semibold mb-4">ูุซุงู ูฃ: ุฎุงุตูุฉ ุงูุชูุฒูุน <span class="math-eq">ูฃ(ุณ - ูฅ) = ูกูข</span>.</p>
                                <div class="space-y-4">
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุงูุชูุฒูุน</h4><p>ูุถุฑุจ <span class="math-eq">ูฃ</span> ูู ูู ุญุฏ ุฏุงุฎู ุงูููุณ.</p><p class="math-eq text-center mt-2">ูฃุณ - ูกูฅ = ูกูข</p></div>
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุฎูุต ูู ุงูุทุฑุญ</h4><p>ูุถูู <span class="math-eq">ูกูฅ</span> ุฅูู ููุง ุงูุทุฑููู.</p><p class="math-eq text-center mt-2">ูฃุณ - ูกูฅ <span class="highlight-change">+ ูกูฅ</span> = ูกูข <span class="highlight-change">+ ูกูฅ</span></p><p class="math-eq text-center mt-2">ูฃุณ = ูขูง</p></div>
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุชุฎูุต ูู ุงูุถุฑุจ</h4><p>ููุณู ููุง ุงูุทุฑููู ุนูู <span class="math-eq">ูฃ</span>.</p><p class="math-eq text-center mt-2 flex justify-center items-center"><span class="fraction"><span>ูฃุณ</span><span class="frac-bar"></span><span>ูฃ</span></span> = <span class="fraction"><span>ูขูง</span><span class="frac-bar"></span><span>ูฃ</span></span></p></div>
                                    <div class="p-4 bg-green-200 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 4: ุงูุญู ุงูููุงุฆู</h4><p><span class="math-eq">ุณ = ูฉ</span>.</p></div>
                                </div>
                            </div>
                            <!-- Example 4: Variables on both sides -->
                            <div>
                                <p class="text-lg font-semibold mb-4">ูุซุงู ูค: ูุชุบูุฑุงุช ูู ุงูุทุฑููู <span class="math-eq">ูฆ(ู - ูข) = ูขู</span>.</p>
                                <div class="space-y-4">
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุงูุชูุฒูุน</h4><p>ูุทุจู ุฎุงุตูุฉ ุงูุชูุฒูุน ุนูู ุงูุทุฑู ุงูุฃููู.</p><p class="math-eq text-center mt-2">ูฆู - ูกูข = ูขู</p></div>
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุชุฌููุน ุงููุชุบูุฑุงุช</h4><p>ูุทุฑุญ <span class="math-eq">ูขู</span> ูู ููุง ุงูุทุฑููู.</p><p class="math-eq text-center mt-2">ูฆู <span class="highlight-change">- ูขู</span> - ูกูข = ูขู <span class="highlight-change">- ูขู</span></p><p class="math-eq text-center mt-2">ูคู - ูกูข = ู</p></div>
                                    <div class="p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุญู ุงููุนุงุฏูุฉ</h4><p>ูุถูู ูกูข ููุทุฑููู ุซู ููุณู ุนูู ูค.</p><p class="math-eq text-center mt-2">ูคู = ูกูข</p><p class="math-eq text-center mt-2 flex justify-center items-center"><span class="fraction"><span>ูคู</span><span class="frac-bar"></span><span>ูค</span></span> = <span class="fraction"><span>ูกูข</span><span class="frac-bar"></span><span>ูค</span></span></p></div>
                                    <div class="p-4 bg-green-200 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 4: ุงูุญู ุงูููุงุฆู</h4><p><span class="math-eq">ู = ูฃ</span>.</p></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงูุซุงู: ุญู ูุณุงุฆู ุงูุฃุนุฏุงุฏ ุงููุชุชุงููุฉ</h2>
                    <div class="p-4 bg-indigo-50 rounded-lg mb-6 text-gray-700 space-y-3">
                        <p><strong class="text-indigo-800">ุชูุถูุญ ูุงู:</strong></p>
                        <ul class="list-disc pr-6 space-y-2">
                            <li><span class="bg-blue-100 text-blue-800 px-2 py-1 rounded"><strong>ุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ ุงููุชุชุงููุฉ:</strong></span> ุงููุงุฑู ุจูููุง ูก (ูุซู: ูุ ู+ูกุ ู+ูข).</li>
                            <li><span class="bg-purple-100 text-purple-800 px-2 py-1 rounded"><strong>ุงูุฃุนุฏุงุฏ ุงูุฒูุฌูุฉ ุฃู ุงููุฑุฏูุฉ ุงููุชุชุงููุฉ:</strong></span> ุงููุงุฑู ุจูููุง ูข (ูุซู: ูุ ู+ูขุ ู+ูค).</li>
                        </ul>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Interactive Example 1 -->
                        <div id="interactive-example-1" class="p-6 bg-blue-50 rounded-lg border-2 border-blue-200">
                            <p class="text-lg font-semibold mb-4">ูุซุงู ูก: ุฃูุฌุฏ ุซูุงุซุฉ ุฃุนุฏุงุฏ ุตุญูุญุฉ ูุชุชุงููุฉ ูุฌููุนูุง <span class="math-eq">ูฆูฃ</span>.</p>
                            <div class="space-y-4">
                                <div class="step-interactive active p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุนุฑูู ุงููุชุบูุฑุงุช</h4><p>ููุฑุถ ุฃู ุงูุฃุนุฏุงุฏ ูู: <span class="math-eq">ู</span>ุ <span class="math-eq">ู + ูก</span>ุ <span class="math-eq">ู + ูข</span>.</p></div>
                                <div class="step-interactive p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ูุชุงุจุฉ ุงููุนุงุฏูุฉ</h4><p class="math-eq text-center mt-2">ู + (ู + ูก) + (ู + ูข) = ูฆูฃ</p></div>
                                <div class="step-interactive p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุญู ุงููุนุงุฏูุฉ</h4><p>ูุจุณุท ุจุฌูุน ุงูุญุฏูุฏ ุงููุชุดุงุจูุฉ: <span class="math-eq">ูฃู + ูฃ = ูฆูฃ</span></p><p>ูุทุฑุญ ูฃ ูู ุงูุทุฑููู: <span class="math-eq">ูฃู = ูฆู</span></p><p>ููุณู ุนูู ูฃ: <span class="math-eq">ู = ูขู</span></p></div>
                                <div class="step-interactive p-4 bg-green-200 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 4: ุฅูุฌุงุฏ ุงูุฃุนุฏุงุฏ</h4><p>ุงูุฃุนุฏุงุฏ ูู: <span class="math-eq">ูขูุ ูขูกุ ูขูข</span>.</p></div>
                            </div>
                            <div class="flex justify-between mt-6">
                                <button data-example="1" class="prev-btn bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed">ุฑุฌูุน</button>
                                <button data-example="1" class="next-btn bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed">ุงูุชุงูู</button>
                            </div>
                        </div>
                        <!-- Interactive Example 2 -->
                        <div id="interactive-example-2" class="p-6 bg-purple-50 rounded-lg border-2 border-purple-200">
                            <p class="text-lg font-semibold mb-4">ูุซุงู ูข: ุฃูุฌุฏ ุซูุงุซุฉ ุฃุนุฏุงุฏ ูุฑุฏูุฉ ูุชุชุงููุฉ ูุฌููุนูุง <span class="math-eq">ูงูฅ</span>.</p>
                            <div class="space-y-4">
                                <div class="step-interactive active p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุนุฑูู ุงููุชุบูุฑุงุช</h4><p>ููุฑุถ ุฃู ุงูุฃุนุฏุงุฏ ูู: <span class="math-eq">ู</span>ุ <span class="math-eq">ู + ูข</span>ุ <span class="math-eq">ู + ูค</span>.</p></div>
                                <div class="step-interactive p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ูุชุงุจุฉ ุงููุนุงุฏูุฉ</h4><p class="math-eq text-center mt-2">ู + (ู + ูข) + (ู + ูค) = ูงูฅ</p></div>
                                <div class="step-interactive p-4 bg-white rounded-lg step-box"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุญู ุงููุนุงุฏูุฉ</h4><p>ูุจุณุท ุจุฌูุน ุงูุญุฏูุฏ ุงููุชุดุงุจูุฉ: <span class="math-eq">ูฃู + ูฆ = ูงูฅ</span></p><p>ูุทุฑุญ ูฆ ูู ุงูุทุฑููู: <span class="math-eq">ูฃู = ูฆูฉ</span></p><p>ููุณู ุนูู ูฃ: <span class="math-eq">ู = ูขูฃ</span></p></div>
                                <div class="step-interactive p-4 bg-green-200 rounded-lg step-box border-green-600"><h4 class="font-bold">ุงูุฎุทูุฉ 4: ุฅูุฌุงุฏ ุงูุฃุนุฏุงุฏ</h4><p>ุงูุฃุนุฏุงุฏ ูู: <span class="math-eq">ูขูฃุ ูขูฅุ ูขูง</span>.</p></div>
                            </div>
                            <div class="flex justify-between mt-6">
                                <button data-example="2" class="prev-btn bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed">ุฑุฌูุน</button>
                                <button data-example="2" class="next-btn bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed">ุงูุชุงูู</button>
                            </div>
                        </div>
                    </div>
                </section>
            `, 
            generateQuiz: () => {
                const questionBank = [
                    { type: 'mcq', level: 'โญ', topic: 'multi-step', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูขุณ + ูก = ูง</span>', 
                      options: [ { display: '<span class="math-eq">ูค</span>', value: 'ูค' }, { display: '<span class="math-eq">ูฃ</span>', value: 'ูฃ' }, { display: '<span class="math-eq">ูฅ</span>', value: 'ูฅ' }, { display: '<span class="math-eq">ูฆ</span>', value: 'ูฆ' } ], 
                      correct: 'ูฃ', 
                      explanation: `<p class='mb-2'>ูุชุฎูุต ูู ุงูุฌูุน ุฃููุงู ุซู ุงูุถุฑุจ.</p><div class='text-right space-y-2'><p>ุฃููุงู: ูุทุฑุญ ูก ูู ุงูุทุฑููู: <span class='math-eq'>ูขุณ + ูก <span class='highlight-change'>- ูก</span> = ูง <span class='highlight-change'>- ูก</span></span></p><p>ุซุงููุงู: ูุจุณุท: <span class='math-eq'>ูขุณ = ูฆ</span></p><p>ุซุงูุซุงู: ููุณู ุงูุทุฑููู ุนูู ูข: <span class='math-eq flex justify-center items-center'><span class="fraction"><span>ูขุณ</span><span class="frac-bar"></span><span>ูข</span></span> = <span class="fraction"><span>ูฆ</span><span class="frac-bar"></span><span>ูข</span></span></span></p><p>ุฑุงุจุนุงู: ุงูุญู ุงูููุงุฆู: <span class='math-eq'>ุณ = ูฃ</span></p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญ', topic: 'multi-step', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">-ูก = ูฅ + ูขู</span>', 
                      options: [ { display: '<span class="math-eq">-ูฃ</span>', value: '-ูฃ' }, { display: '<span class="math-eq">ูฃ</span>', value: 'ูฃ' }, { display: '<span class="math-eq">-ูข</span>', value: '-ูข' }, { display: '<span class="math-eq">ูข</span>', value: 'ูข' } ], 
                      correct: '-ูฃ', 
                      explanation: `<p class='mb-2'>ูุชุฎูุต ูู ุงูุฌูุน ุฃููุงู ุซู ุงูุถุฑุจ.</p><div class='text-right space-y-2'><p>ุฃููุงู: ูุทุฑุญ ูฅ ูู ุงูุทุฑููู: <span class='math-eq'>-ูก <span class='highlight-change'>- ูฅ</span> = ูฅ + ูขู <span class='highlight-change'>- ูฅ</span></span></p><p>ุซุงููุงู: ูุจุณุท: <span class='math-eq'>-ูฆ = ูขู</span></p><p>ุซุงูุซุงู: ููุณู ุงูุทุฑููู ุนูู ูข: <span class='math-eq flex justify-center items-center'><span class="fraction"><span>-ูฆ</span><span class="frac-bar"></span><span>ูข</span></span> = <span class="fraction"><span>ูขู</span><span class="frac-bar"></span><span>ูข</span></span></span></p><p>ุฑุงุจุนุงู: ุงูุญู ุงูููุงุฆู: <span class='math-eq'>-ูฃ = ู</span></p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญ', topic: 'consecutive', text: 'ุฃูุฌุฏ ุซูุงุซุฉ ุฃุนุฏุงุฏ ุตุญูุญุฉ ูุชุชุงููุฉ ูุฌููุนูุง <span class="math-eq">ูฃูฃ</span>.', 
                      options: [ { display: 'ูฉุ ูกูุ ูกูก', value: 'ูฉุ ูกูุ ูกูก' }, { display: 'ูกูกุ ูกูขุ ูกูฃ', value: 'ูกูกุ ูกูขุ ูกูฃ' }, { display: 'ูกูุ ูกูกุ ูกูข', value: 'ูกูุ ูกูกุ ูกูข' }, { display: 'ูฃูขุ ูฃูฃุ ูฃูค', value: 'ูฃูขุ ูฃูฃุ ูฃูค' } ], 
                      correct: 'ูกูุ ูกูกุ ูกูข', 
                      explanation: `<p class='mb-2'>ููุฑุถ ุงูุฃุนุฏุงุฏ: <span class="math-eq">ู</span>ุ <span class="math-eq">ู+ูก</span>ุ <span class="math-eq">ู+ูข</span>.</p><div class='text-right space-y-2'><p>ุฃููุงู: ุงููุนุงุฏูุฉ: <span class='math-eq'>ู + (ู+ูก) + (ู+ูข) = ูฃูฃ</span></p><p>ุซุงููุงู: ูุจุณุท ุจุฌูุน ุงูุญุฏูุฏ ุงููุชุดุงุจูุฉ: <span class='math-eq'>ูฃู + ูฃ = ูฃูฃ</span></p><p>ุซุงูุซุงู: ูุทุฑุญ ูฃ ูู ุงูุทุฑููู: <span class='math-eq'>ูฃู + ูฃ <span class='highlight-change'>- ูฃ</span> = ูฃูฃ <span class='highlight-change'>- ูฃ</span></span></p><p>ุฑุงุจุนุงู: ูุจุณุท: <span class='math-eq'>ูฃู = ูฃู</span></p><p>ุฎุงูุณุงู: ููุณู ุนูู ูฃ: <span class='math-eq'>ู = ูกู</span></p><p class='mt-2 p-2 bg-green-100 rounded-md'>ุฅุฐู ุงูุฃุนุฏุงุฏ ูู ูกูุ ูกูกุ ูกูข.</p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'multi-step', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq flex justify-center items-center"><span class="fraction"><span>ู - ูฅ</span><span class="frac-bar"></span><span>-ูข</span></span> = ูจ</span>', 
                      options: [ { display: '<span class="math-eq">-ูกูก</span>', value: '-ูกูก' }, { display: '<span class="math-eq">-ูขูก</span>', value: '-ูขูก' }, { display: '<span class="math-eq">ูขูก</span>', value: 'ูขูก' }, { display: '<span class="math-eq">ูกูก</span>', value: 'ูกูก' } ], 
                      correct: '-ูกูก', 
                      explanation: `<p class='mb-2'>ูุชุฎูุต ูู ุงููุณูุฉ ุฃููุงู ุซู ุงูุทุฑุญ.</p><div class='text-right space-y-2'>
                                  <p>ุฃููุงู: ูุถุฑุจ ููุง ุงูุทุฑููู ูู <span class="math-eq">-ูข</span>:</p>
                                  <p class="math-eq text-center flex justify-center items-center">
                                     <span class="fraction"><span>ู - ูฅ</span><span class="frac-bar"></span><span>-ูข</span></span> <span class="highlight-change">ร (-ูข)</span> = ูจ <span class="highlight-change">ร (-ูข)</span>
                                  </p>
                                  <p>ุซุงููุงู: ูุจุณุท:</p>
                                  <p class="math-eq text-center">ู - ูฅ = -ูกูฆ</p>
                                  <p>ุซุงูุซุงู: ูุถูู <span class="math-eq">ูฅ</span> ูููุง ุงูุทุฑููู:</p>
                                  <p class="math-eq text-center">ู - ูฅ <span class="highlight-change">+ ูฅ</span> = -ูกูฆ <span class="highlight-change">+ ูฅ</span></p>
                                  <p>ุฑุงุจุนุงู: ุงูุญู ุงูููุงุฆู:</p>
                                  <p class="math-eq text-center">ู = -ูกูก</p>
                                </div>` 
                    },
                    { 
                      type: 'mcq', 
                      level: 'โญโญโญ', 
                      topic: 'consecutive-equation', 
                      text: 'ุซูุงุซุฉ ุฃุนุฏุงุฏ <strong>ูุฑุฏูุฉ</strong> ูุชุชุงููุฉ ูุฌููุนูุง ูงูฅ. ูุง ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ูุฐู ุงููุณุฃูุฉุ (ุงูุฑุถ ุฃู ุฃุตุบุฑ ุนุฏุฏ ูู ู)', 
                      options: [
                          { display: '<span class="math-eq">ู + (ู+ูก) + (ู+ูข) = ูงูฅ</span>', value: 'q1_opt1' },
                          { display: '<span class="math-eq">ู + (ู+ูข) + (ู+ูค) = ูงูฅ</span>', value: 'q1_opt2' },
                          { display: '<span class="math-eq">ูฃู = ูงูฅ</span>', value: 'q1_opt3' },
                          { display: '<span class="math-eq">ู(ู+ูข)(ู+ูค) = ูงูฅ</span>', value: 'q1_opt4' }
                      ], 
                      correct: 'q1_opt2', 
                      explanation: `<p class='mb-2'>ูุฃู ุงูุฃุนุฏุงุฏ <strong>ูุฑุฏูุฉ</strong> ูุชุชุงููุฉุ ูุฅู ุงููุงุฑู ุจูู ูู ุนุฏุฏ ูุงูุฐู ูููู ูู ูข. ุฅุฐุง ูุงู ุงูุนุฏุฏ ุงูุฃูู ูู <span class="math-eq">ู</span>ุ ูุงูุนุฏุฏ ุงูุซุงูู ูู <span class="math-eq">ู+ูข</span>ุ ูุงูุซุงูุซ ูู <span class="math-eq">ู+ูค</span>. ูุฌููุนูู ูู ุงููุนุงุฏูุฉ ุงูุตุญูุญุฉ.</p>`
                    },
                    { 
                      type: 'mcq', 
                      level: 'โญโญ', 
                      topic: 'consecutive-equation', 
                      text: 'ูุง ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ุงููุณุฃูุฉ: \'ุซูุงุซุฉ ุฃุนุฏุงุฏ ุตุญูุญุฉ ูุชุชุงููุฉ ูุฌููุนูุง ูฃูฃ\'ุ', 
                      options: [
                          { display: '<span class="math-eq">ูฃู = ูฃูฃ</span>', value: 'q2_opt1' },
                          { display: '<span class="math-eq">ู + (ู+ูข) + (ู+ูค) = ูฃูฃ</span>', value: 'q2_opt2' },
                          { display: '<span class="math-eq">ู + (ู+ูก) + (ู+ูข) = ูฃูฃ</span>', value: 'q2_opt3' },
                          { display: '<span class="math-eq">ู + (ู-ูก) + (ู-ูข) = ูฃูฃ</span>', value: 'q2_opt4' }
                      ], 
                      correct: 'q2_opt3', 
                      explanation: `<p class='mb-2'>ูุฃู ุงูุฃุนุฏุงุฏ <strong>ุตุญูุญุฉ</strong> ูุชุชุงููุฉุ ูุฅู ุงููุงุฑู ุจูู ูู ุนุฏุฏ ูุงูุฐู ูููู ูู ูก. ุฅุฐุง ูุงู ุงูุนุฏุฏ ุงูุฃูู ูู <span class="math-eq">ู</span>ุ ูุงูุนุฏุฏ ุงูุซุงูู ูู <span class="math-eq">ู+ูก</span>ุ ูุงูุซุงูุซ ูู <span class="math-eq">ู+ูข</span>. ูุฌููุนูู ูู ุงููุนุงุฏูุฉ ุงูุตุญูุญุฉ.</p><p>ุงููุนุงุฏูุฉ <span class="math-eq">ู + (ู+ูก) + (ู+ูข) = ูฃูฃ</span> ุชุจุณุท ุฅูู <span class="math-eq">ูฃู + ูฃ = ูฃูฃ</span>.</p>`
                    },
                    { 
                      type: 'mcq', 
                      level: 'โญโญ', 
                      topic: 'fraction-equation', 
                      text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq"><span class="fraction"><span>ูข</span><span class="frac-bar"></span><span>ูฃ</span></span>ุณ + ูค = ูข</span>', 
                      options: [
                          { display: '<span class="math-eq">-ูฃ</span>', value: '-ูฃ' },
                          { display: '<span class="math-eq">ูฃ</span>', value: 'ูฃ' },
                          { display: '<span class="math-eq">-ูฉ</span>', value: '-ูฉ' },
                          { display: '<span class="math-eq">ูฉ</span>', value: 'ูฉ' }
                      ], 
                      correct: '-ูฃ', 
                      explanation: `<p class='mb-2'>ุฃููุงู ูุทุฑุญ ูค ูู ุงูุทุฑููู: <span class="math-eq"><span class="fraction"><span>ูข</span><span class="frac-bar"></span><span>ูฃ</span></span>ุณ = -ูข</span>. ุซู ูุถุฑุจ ุงูุทุฑููู ูู ููููุจ ุงููุณุฑ ููู <span class="math-eq"><span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span></span>. ููููู ุงูุญู <span class="math-eq">ุณ = -ูข ร <span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูข</span></span> = -ูฃ</span>.</p>`
                    },
                    { 
                      type: 'mcq', 
                      level: 'โญโญโญ', 
                      topic: 'distribution-equation', 
                      text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูฃ(ุณ - ูฅ) = ูกูข</span>', 
                      options: [
                          { display: '<span class="math-eq">ูฉ</span>', value: 'ูฉ' },
                          { display: '<span class="math-eq">-ูก</span>', value: '-ูก' },
                          { display: '<span class="math-eq">ูฅ.ูฆ</span>', value: 'ูฅ.ูฆ' },
                          { display: '<span class="math-eq">ูขูง</span>', value: 'ูขูง' }
                      ], 
                      correct: 'ูฉ', 
                      explanation: `<p class='mb-2'>ุฃููุงู ููุฒุน ุงูุถุฑุจ ุนูู ุงูููุณ: <span class="math-eq">ูฃุณ - ูกูฅ = ูกูข</span>. ุซู ูุถูู ูกูฅ ููุทุฑููู: <span class="math-eq">ูฃุณ = ูขูง</span>. ุฃุฎูุฑุงู ููุณู ุนูู ูฃ ููุฌุฏ ุฃู <span class="math-eq">ุณ = ูฉ</span>.</p>`
                    },
                    {
                      type: 'mcq',
                      level: 'โญโญโญ',
                      topic: 'real-life',
                      text: 'ุงุดุชุฑู ุฃุญูุฏ ูู ูุงุฏู ุฑูุงุถู ุจุฑุณูู ุชุณุฌูู ูฅู ุฑูุงูุงู ูุงุดุชุฑุงู ุดูุฑู ูขูฅ ุฑูุงูุงู. ุฅุฐุง ูุงูุช ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ ุงูุชู ุฏูุนูุง ุฃุญูุฏ ูู ูขูขูฅ ุฑูุงูุงูุ ููุง ุนุฏุฏ ุงูุฃุดูุฑ ุงูุชู ุงุดุชุฑู ูููุงุ',
                      options: [
                          { display: 'ูฆ ุฃุดูุฑ', value: '6' },
                          { display: 'ูง ุฃุดูุฑ', value: '7' },
                          { display: 'ูจ ุฃุดูุฑ', value: '8' },
                          { display: 'ูฉ ุฃุดูุฑ', value: '9' }
                      ],
                      correct: '7',
                      explanation: `<p class='mb-2'>ุงููุนุงุฏูุฉ ูู: <span class='math-eq'>ูขูฅุณ + ูฅู = ูขูขูฅ</span>ุ ุญูุซ ุณ ูู ุนุฏุฏ ุงูุฃุดูุฑ.</p><p>ูุทุฑุญ ูฅู ูู ุงูุทุฑููู: <span class='math-eq'>ูขูฅุณ = ูกูงูฅ</span>.</p><p>ููุณู ุงูุทุฑููู ุนูู ูขูฅ: <span class='math-eq'>ุณ = ูง</span>.</p><p>ุฅุฐูุ ุงุดุชุฑู ุฃุญูุฏ ููุฏุฉ ูง ุฃุดูุฑ.</p>`
                    },
                    {
                      type: 'mcq',
                      level: 'โญโญโญ',
                      topic: 'distribution-negative',
                      text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">-ูข(ุณ + ูฃ) = -ูกูค</span>',
                      options: [
                          { display: '<span class="math-eq">ูค</span>', value: '4' },
                          { display: '<span class="math-eq">-ูกู</span>', value: '-10' },
                          { display: '<span class="math-eq">ูฅ</span>', value: '5' },
                          { display: '<span class="math-eq">-ูฅ</span>', value: '-5' }
                      ],
                      correct: '4',
                      explanation: `<p class='mb-2'>ุฃููุงูุ ููุฒุน -ูข ุนูู ุงูููุณ: <span class='math-eq'>-ูขุณ - ูฆ = -ูกูค</span>.</p><p>ุซุงููุงูุ ูุถูู ูฆ ููุทุฑููู: <span class='math-eq'>-ูขุณ = -ูจ</span>.</p><p>ุซุงูุซุงูุ ููุณู ุงูุทุฑููู ุนูู -ูข: <span class='math-eq'>ุณ = ูค</span>.</p>`
                    },
                    {
                      type: 'mcq',
                      level: 'โญโญ',
                      topic: 'fraction-equation',
                      text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูกู = <span class="fraction"><span>ุณ</span><span class="frac-bar"></span><span>ูค</span></span> + ูฃ</span>',
                      options: [
                          { display: '<span class="math-eq">ูขูจ</span>', value: '28' },
                          { display: '<span class="math-eq">ูง</span>', value: '7' },
                          { display: '<span class="math-eq">ูกูฃ</span>', value: '13' },
                          { display: '<span class="math-eq">ูฅูข</span>', value: '52' }
                      ],
                      correct: '28',
                      explanation: `<p class='mb-2'>ุฃููุงูุ ูุทุฑุญ ูฃ ูู ุงูุทุฑููู: <span class='math-eq'>ูง = <span class="fraction"><span>ุณ</span><span class="frac-bar"></span><span>ูค</span></span></span>.</p><p>ุซุงููุงูุ ูุถุฑุจ ุงูุทุฑููู ูู ูค ููุชุฎูุต ูู ุงููุณูุฉ: <span class='math-eq'>ูง ร ูค = ุณ</span>.</p><p>ุฅุฐูุ ุงูุญู ูู <span class='math-eq'>ุณ = ูขูจ</span>.</p>`
                    },
                    {
                      type: 'mcq',
                      level: 'โญ',
                      topic: 'multi-step',
                      text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูงุณ - ูกูก = -ูคูฆ</span>',
                      options: [
                        { display: '<span class="math-eq">-ูฅ</span>', value: '-5' },
                        { display: '<span class="math-eq">ูฅ</span>', value: '5' },
                        { display: '<span class="math-eq">-ูจ</span>', value: '-8' },
                        { display: '<span class="math-eq">ูจ</span>', value: '8' }
                      ],
                      correct: '-5',
                      explanation: `<p class='mb-2'>ุฃููุงูุ ูุถูู ูกูก ููุทุฑููู: <span class='math-eq'>ูงุณ = -ูฃูฅ</span>.</p><p>ุซุงููุงูุ ููุณู ุงูุทุฑููู ุนูู ูง: <span class='math-eq'>ุณ = -ูฅ</span>.</p>`
                    }
                ];
                return [...questionBank].sort(() => Math.random() - 0.5).slice(0, 5);
            }  },
        'c1_l4': {
            title: 'ุงูุฏุฑุณ ูก-ูค: ุญู ุงููุนุงุฏูุงุช ุงูุชู ุชุญุชูู ูุชุบูุฑุงู ูู ุทุฑูููุง',
            content: `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููููู ุงูุฃุณุงุณู</h2>
                    <div class="p-4 bg-blue-50 rounded-lg space-y-3">
                        <p>ูุญู ูุนุงุฏูุฉ ุชุญุชูู ูุชุบูุฑุงู ูู ุทุฑูููุงุ ูุฏููุง ูู <strong class="text-red-600">ุฌูุน ุญุฏูุฏ ุงููุชุบูุฑุงุช ูู ุทุฑูุ ูุงูุฃุนุฏุงุฏ ุงูุซุงุจุชุฉ ูู ุงูุทุฑู ุงูุขุฎุฑ</strong>ุ ุซู ูุญู ุงููุนุงุฏูุฉ ููุง ุชุนูููุง ูู ุงูุฏุฑูุณ ุงูุณุงุจูุฉ.</p>
                    </div>
                </section>

                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงููุงู: ุญู ูุนุงุฏูุงุช ุจุณูุทุฉ</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:items-start">
                        <!-- Example 1 -->
                        <div class="p-6 bg-gray-50 rounded-lg interactive-example flex flex-col">
                            <p class="text-lg font-semibold mb-4 text-center">ูุซุงู ูก: ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ูงุณ + ูกูข = ูฃุณ - ูค</span></p>
                            <div class="steps-container space-y-4 flex-grow">
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุฌูุน ุงููุชุบูุฑุงุช</h4><p>ูุทุฑุญ <span class="math-eq">ูฃุณ</span> ูู ููุง ุงูุทุฑููู.</p><div class="math-steps text-center mt-2 space-y-1"><div class="math-eq">ูงุณ <span class="highlight-change">- ูฃุณ</span> + ูกูข = ูฃุณ <span class="highlight-change">- ูฃุณ</span> - ูค</div><div class="math-eq">ูคุณ + ูกูข = -ูค</div></div></div>
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุฌูุน ุงูุซูุงุจุช</h4><p>ูุทุฑุญ <span class="math-eq">ูกูข</span> ูู ููุง ุงูุทุฑููู.</p><div class="math-steps text-center mt-2 space-y-1"><div class="math-eq">ูคุณ + ูกูข <span class="highlight-change">- ูกูข</span> = -ูค <span class="highlight-change">- ูกูข</span></div><div class="math-eq">ูคุณ = -ูกูฆ</div></div></div>
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุนุฒู ุงููุชุบูุฑ</h4><p>ููุณู ููุง ุงูุทุฑููู ุนูู <span class="math-eq">ูค</span>.</p><div class="math-eq text-center mt-2 flex justify-center items-center"><span class="fraction"><span>ูคุณ</span><span class="frac-bar"></span><span>ูค</span></span> = <span class="fraction"><span>-ูกูฆ</span><span class="frac-bar"></span><span>ูค</span></span></div></div>
                                <div class="step-box hidden p-4 bg-green-100 rounded-lg border-green-500"><h4 class="font-bold">ุงูุฎุทูุฉ 4: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ุณ = -ูค</span>.</p></div>
                            </div>
                            <div class="flex justify-center items-center space-x-4 mt-4">
                                <button class="prev-btn control-btn bg-gray-300 text-gray-700 font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุณุงุจู</button>
                                <div class="step-counter text-gray-600 font-semibold w-24 text-center"></div>
                                <button class="next-btn control-btn bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุชุงูู</button>
                            </div>
                        </div>
                        <!-- Example 2 -->
                        <div class="p-6 bg-gray-50 rounded-lg interactive-example flex flex-col">
                            <p class="text-lg font-semibold mb-4 text-center">ูุซุงู ูข: ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ูขู + ูจ = ูฅู + ูข</span></p>
                               <div class="steps-container space-y-4 flex-grow">
                                    <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุฌูุน ุงููุชุบูุฑุงุช</h4><p>ูุทุฑุญ <span class="math-eq">ูขู</span> ูู ููุง ุงูุทุฑููู.</p><div class="math-steps text-center mt-2 space-y-1"><div class="math-eq">ูขู <span class="highlight-change">- ูขู</span> + ูจ = ูฅู <span class="highlight-change">- ูขู</span> + ูข</div><div class="math-eq">ูจ = ูฃู + ูข</div></div></div>
                                    <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุฌูุน ุงูุซูุงุจุช</h4><p>ูุทุฑุญ <span class="math-eq">ูข</span> ูู ููุง ุงูุทุฑููู.</p><div class="math-steps text-center mt-2 space-y-1"><div class="math-eq">ูจ <span class="highlight-change">- ูข</span> = ูฃู + ูข <span class="highlight-change">- ูข</span></div><div class="math-eq">ูฆ = ูฃู</div></div></div>
                                    <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุนุฒู ุงููุชุบูุฑ</h4><p>ููุณู ููุง ุงูุทุฑููู ุนูู <span class="math-eq">ูฃ</span>.</p><div class="math-eq text-center mt-2 flex justify-center items-center"><span class="fraction"><span>ูฆ</span><span class="frac-bar"></span><span>ูฃ</span></span> = <span class="fraction"><span>ูฃู</span><span class="frac-bar"></span><span>ูฃ</span></span></div></div>
                                    <div class="step-box hidden p-4 bg-green-100 rounded-lg border-green-500"><h4 class="font-bold">ุงูุฎุทูุฉ 4: ุงูุญู ุงูููุงุฆู</h4><p>ูุจุณุท ุงููุนุงุฏูุฉ ููุฌุฏ ุงูุญู: <span class="math-eq">ูข = ู</span>.</p></div>
                                </div>
                            <div class="flex justify-center items-center space-x-4 mt-4">
                                <button class="prev-btn control-btn bg-gray-300 text-gray-700 font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุณุงุจู</button>
                                <div class="step-counter text-gray-600 font-semibold w-24 text-center"></div>
                                <button class="next-btn control-btn bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุชุงูู</button>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงูุซุงู: ูุนุงุฏูุงุช ุฎุงุตุฉ (ุงููุชุทุงุจูุฉ ูุงููุณุชุญููุฉ)</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:items-start">
                        <!-- Example 3 -->
                        <div class="p-6 bg-gray-50 rounded-lg interactive-example flex flex-col">
                            <p class="text-lg font-semibold mb-4 text-center">ูุซุงู ูฃ (ูุชุทุงุจูุฉ): ุญู <span class="math-eq">ูฆ(ู + ูค) = ูข(ูกูข + ูฃู)</span></p>
                            <div class="steps-container space-y-4 flex-grow">
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ูู ุงูุฃููุงุณ</h4><p>ููุฒุน ุงูุถุฑุจ ุนูู ุงูุฌูุน ูู ููุง ุงูุทุฑููู.</p><p class="math-eq text-center mt-2">ูฆู + ูขูค = ูขูค + ูฆู</p></div>
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุชุญููู ุงููุนุงุฏูุฉ</h4><p>ูุงุญุธ ุฃู ุงูุทุฑู ุงูุฃููู ูููุนุงุฏูุฉ ูุทุงุจู ุงูุทุฑู ุงูุฃูุณุฑ ุชูุงูุงู.</p></div>
                                <div class="step-box hidden p-4 bg-green-100 rounded-lg border-green-500"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูุฐุง ูุนูู ุฃู ุงููุนุงุฏูุฉ ุตุญูุญุฉ ุฏุงุฆูุงู <strong class="text-red-600">ูุฃู ูููุฉ</strong> ูููุชุบูุฑ <span class="math-eq">ู</span>. ูุฌููุนุฉ ุงูุญู ูู <span class="vocab-term">ุฌููุน ุงูุฃุนุฏุงุฏ ุงูุญููููุฉ</span>.</p></div>
                            </div>
                            <div class="flex justify-center items-center space-x-4 mt-4">
                                <button class="prev-btn control-btn bg-gray-300 text-gray-700 font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุณุงุจู</button>
                                <div class="step-counter text-gray-600 font-semibold w-24 text-center"></div>
                                <button class="next-btn control-btn bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุชุงูู</button>
                            </div>
                        </div>
                        <!-- Example 4 -->
                        <div class="p-6 bg-gray-50 rounded-lg interactive-example flex flex-col">
                            <p class="text-lg font-semibold mb-4 text-center">ูุซุงู ูค (ูุณุชุญููุฉ ุงูุญู): ุญู <span class="math-eq">ูฃ(ูขู - ูก) = ูฆู + ูฅ</span></p>
                            <div class="steps-container space-y-4 flex-grow">
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ูู ุงูุฃููุงุณ</h4><p>ููุฒุน ุงูุถุฑุจ ุนูู ุงูุฌูุน ูู ุงูุทุฑู ุงูุฃููู.</p><p class="math-eq text-center mt-2">ูฆู - ูฃ = ูฆู + ูฅ</p></div>
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุฌูุน ุงููุชุบูุฑุงุช</h4><p>ูุทุฑุญ <span class="math-eq">ูฆู</span> ูู ููุง ุงูุทุฑููู.</p><div class="math-steps text-center mt-2 space-y-1"><div class="math-eq">ูฆู <span class="highlight-change">- ูฆู</span> - ูฃ = ูฆู <span class="highlight-change">- ูฆู</span> + ูฅ</div><div class="math-eq">-ูฃ = ูฅ</div></div></div>
                                <div class="step-box hidden p-4 bg-red-100 rounded-lg border-red-500"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ุงูุนุจุงุฑุฉ ุงููุงุชุฌุฉ <strong class="text-red-600">ุฎุงุทุฆุฉ ุฏุงุฆูุงู</strong>. ูุฐุง ูุนูู ุฃูู ูุง ุชูุฌุฏ ูููุฉ ูููุชุบูุฑ <span class="math-eq">ู</span> ุชุฌุนู ุงููุนุงุฏูุฉ ุตุญูุญุฉ. ูุฌููุนุฉ ุงูุญู ูู <span class="vocab-term">ุงููุฌููุนุฉ ุงูุฎุงููุฉ (โ)</span>.</p></div>
                            </div>
                            <div class="flex justify-center items-center space-x-4 mt-4">
                                <button class="prev-btn control-btn bg-gray-300 text-gray-700 font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุณุงุจู</button>
                                <div class="step-counter text-gray-600 font-semibold w-24 text-center"></div>
                                <button class="next-btn control-btn bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุชุงูู</button>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุฑุงุจุนุงู: ุชุทุจููุงุช ุนูู ูุธุฑูุฉ ุงูุฃุนุฏุงุฏ</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:items-start">
                        <!-- Example 5 -->
                        <div class="p-6 bg-gray-50 rounded-lg interactive-example flex flex-col">
                            <p class="text-lg font-semibold mb-4 text-center">ูุซุงู ูฅ</p>
                            <p class="text-center mb-4">ุนุฏุฏุงู ุฒูุฌูุงู ูุชุชุงููุงูุ ููู ุฃุฑุจุนุฉ ุฃูุซุงู ุฃุตุบุฑููุง ุนู ูุซูู ุฃูุจุฑููุง ุจููุฏุงุฑ ูกูข. ููุง ุงูุนุฏุฏุงูุ</p>
                            <div class="steps-container space-y-4 flex-grow">
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงููุชุบูุฑุงุช</h4><p>ููุฑุถ ุฃู ุงูุนุฏุฏ ุงูุฃุตุบุฑ ูู <span class="math-eq">ู</span>ุ ูุงูุฃูุจุฑ ูู <span class="math-eq">ู + ูข</span>.</p></div>
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ูุชุงุจุฉ ุงููุนุงุฏูุฉ</h4><p class="math-eq text-center mt-2">ูคู = ูข(ู + ูข) - ูกูข</p></div>
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุญู ุงููุนุงุฏูุฉ</h4><div class="text-sm space-y-2"><p>ุฃููุงูุ ููู ุงูููุณ: <span class="math-eq">ูคู = ูขู + ูค - ูกูข</span></p><p>ุซุงููุงูุ ูุจุณุท: <span class="math-eq">ูคู = ูขู - ูจ</span></p><p>ุซุงูุซุงูุ ูุทุฑุญ <span class="math-eq">ูขู</span>: <span class="math-eq">ูขู = -ูจ</span></p><p>ุฃุฎูุฑุงูุ ููุณู ุนูู <span class="math-eq">ูข</span>: <span class="math-eq">ู = -ูค</span></p></div></div>
                                <div class="step-box hidden p-4 bg-green-100 rounded-lg border-green-500"><h4 class="font-bold">ุงูุฎุทูุฉ 4: ุงูุญู ุงูููุงุฆู</h4><p>ุงูุนุฏุฏ ุงูุฃุตุบุฑ ูู <span class="math-eq">-ูค</span>ุ ูุงูุฃูุจุฑ ูู <span class="math-eq">-ูข</span>.</p></div>
                            </div>
                            <div class="flex justify-center items-center space-x-4 mt-4">
                                <button class="prev-btn control-btn bg-gray-300 text-gray-700 font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุณุงุจู</button>
                                <div class="step-counter text-gray-600 font-semibold w-24 text-center"></div>
                                <button class="next-btn control-btn bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุชุงูู</button>
                            </div>
                        </div>
                        <!-- Example 6 -->
                        <div class="p-6 bg-gray-50 rounded-lg interactive-example flex flex-col">
                            <p class="text-lg font-semibold mb-4 text-center">ูุซุงู ูฆ</p>
                            <p class="text-center mb-4">ุนูุฑ ุฃุญูุฏ ูุฒูุฏ ูฆ ุณููุงุช ุนู ุนูุฑ ุฃุฎูู ุนูู. ุจุนุฏ ูค ุณููุงุชุ ุณูุตุจุญ ูุฌููุน ุนูุฑูููุง ูคู ุณูุฉ. ููุง ุนูุฑ ูู ููููุง ุงูุขูุ</p>
                            <div class="steps-container space-y-4 flex-grow">
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงููุชุบูุฑุงุช</h4><div class="math-steps space-y-1"><p>ุนูุฑ ุนูู ุงูุขู = <span class="math-eq">ุณ</span></p><p>ุนูุฑ ุฃุญูุฏ ุงูุขู = <span class="math-eq">ุณ + ูฆ</span></p></div></div>
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ูุชุงุจุฉ ุงููุนุงุฏูุฉ</h4><p>ุนูุฑ ุนูู ุจุนุฏ ูค ุณููุงุช: <span class="math-eq">ุณ + ูค</span></p><p>ุนูุฑ ุฃุญูุฏ ุจุนุฏ ูค ุณููุงุช: <span class="math-eq">(ุณ + ูฆ) + ูค</span></p><p class="math-eq text-center mt-2">(ุณ + ูค) + (ุณ + ูกู) = ูคู</p></div>
                                <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุญู ุงููุนุงุฏูุฉ</h4><div class="text-sm space-y-2"><p>ุฃููุงูุ ูุฌูุน ุงูุญุฏูุฏ ุงููุชุดุงุจูุฉ: <span class="math-eq">ูขุณ + ูกูค = ูคู</span></p><p>ุซุงููุงูุ ูุทุฑุญ <span class="math-eq">ูกูค</span>: <span class="math-eq">ูขุณ = ูขูฆ</span></p><p>ุฃุฎูุฑุงูุ ููุณู ุนูู <span class="math-eq">ูข</span>: <span class="math-eq">ุณ = ูกูฃ</span></p></div></div>
                                <div class="step-box hidden p-4 bg-green-100 rounded-lg border-green-500"><h4 class="font-bold">ุงูุฎุทูุฉ 4: ุงูุญู ุงูููุงุฆู</h4><p>ุนูุฑ ุนูู ุงูุขู <span class="math-eq">ูกูฃ</span> ุณูุฉุ ูุนูุฑ ุฃุญูุฏ <span class="math-eq">ูกูฉ</span> ุณูุฉ.</p></div>
                            </div>
                            <div class="flex justify-center items-center space-x-4 mt-4">
                                <button class="prev-btn control-btn bg-gray-300 text-gray-700 font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุณุงุจู</button>
                                <div class="step-counter text-gray-600 font-semibold w-24 text-center"></div>
                                <button class="next-btn control-btn bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุชุงูู</button>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุฎุงูุณุงู: ุชุทุจููุงุช ุนูู ุงูููุฏุณุฉ</h2>
                    <div class="p-6 bg-gray-50 rounded-lg interactive-example max-w-lg mx-auto flex flex-col">
                        <p class="text-lg font-semibold mb-4 text-center">ูุซุงู ูง</p>
                        <p class="text-center mb-2">ุฃูุฌุฏ ูููุฉ <span class="math-eq">ุณ</span> ุงูุชู ุชุฌุนู ูุณุงุญุชู ุงููุณุชุทูููู ูุชุณุงููุชูู.</p>
                        <div class="flex justify-center my-2 space-x-4 space-x-reverse">
                            <div class="border-2 p-2 text-center text-sm">ุงููุณุชุทูู ุฃ<br>ุงูุทูู: <span class="math-eq">ูกูข</span><br>ุงูุนุฑุถ: <span class="math-eq">ุณ</span></div>
                            <div class="border-2 p-2 text-center text-sm">ุงููุณุชุทูู ุจ<br>ุงูุทูู: <span class="math-eq">ูกูฆ</span><br>ุงูุนุฑุถ: <span class="math-eq">ุณ - ูข</span></div>
                        </div>
                        <div class="steps-container space-y-4 flex-grow">
                            <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ูุชุงุจุฉ ุงููุนุงุฏูุฉ</h4><p>ูุณุงุญุฉ ุฃ = ูุณุงุญุฉ ุจ</p><p class="math-eq text-center mt-2">ูกูขุณ = ูกูฆ(ุณ - ูข)</p></div>
                            <div class="step-box hidden p-4 bg-white rounded-lg"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุญู ุงููุนุงุฏูุฉ</h4><div class="text-sm space-y-2"><p>ุฃููุงูุ ููู ุงูููุณ: <span class="math-eq">ูกูขุณ = ูกูฆุณ - ูฃูข</span></p><p>ุซุงููุงูุ ูุทุฑุญ <span class="math-eq">ูกูฆุณ</span> ูู ุงูุทุฑููู: <span class="math-eq">ูกูขุณ <span class="highlight-change">- ูกูฆุณ</span> = ูกูฆุณ - ูฃูข <span class="highlight-change">- ูกูฆุณ</span></span></p><p>ูุจุณุท: <span class="math-eq">-ูคุณ = -ูฃูข</span></p><p>ุฃุฎูุฑุงูุ ููุณู ุนูู <span class="math-eq">-ูค</span>: <span class="math-eq flex justify-center items-center"><span class="fraction"><span>-ูคุณ</span><span class="frac-bar"></span><span>-ูค</span></span> = <span class="fraction"><span>-ูฃูข</span><span class="frac-bar"></span><span>-ูค</span></span></span></p></div></div>
                            <div class="step-box hidden p-4 bg-green-100 rounded-lg border-green-500"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุงูุญู ุงูููุงุฆู</h4><p>ูููุฉ <span class="math-eq">ุณ</span> ูู <span class="math-eq">ูจ</span>.</p></div>
                        </div>
                        <div class="flex justify-center items-center space-x-4 mt-4">
                            <button class="prev-btn control-btn bg-gray-300 text-gray-700 font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุณุงุจู</button>
                            <div class="step-counter text-gray-600 font-semibold w-24 text-center"></div>
                            <button class="next-btn control-btn bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200">ุงูุชุงูู</button>
                        </div>
                    </div>
                </section>
            `, 
            generateQuiz: () => {
                const questionBank = [
                    { 
                      id: 'number-theory-equation',
                      type: 'mcq', 
                      level: 'โญโญโญ', 
                      topic: 'word-to-equation', 
                      text: 'ุนุฏุฏุงู ูุฑุฏูุงู ูุชุชุงููุงูุ ููู ูุซูู ุฃุตุบุฑููุง ุนู ุซูุงุซุฉ ุฃูุซุงู ุฃูุจุฑููุง ุจููุฏุงุฑ ูฉ. ุฃู ุงููุนุงุฏูุงุช ุงูุชุงููุฉ ุชูุซู ูุฐู ุงููุณุฃูุฉุ (ุงูุฑุถ ุฃู ุฃุตุบุฑ ุนุฏุฏ ูู ู)', 
                      options: [ 
                          { display: '<span class="math-eq">ูขู = ูฃ(ู+ูข) - ูฉ</span>', value: '2n = 3(n+2) - 9' }, 
                          { display: '<span class="math-eq">ูฃู = ูข(ู+ูข) + ูฉ</span>', value: '3n = 2(n+2) + 9' }, 
                          { display: '<span class="math-eq">ูขู = ูฃ(ู+ูก) - ูฉ</span>', value: '2n = 3(n+1) - 9' }, 
                          { display: '<span class="math-eq">ูขู = ูฃู + ูข - ูฉ</span>', value: '2n = 3n+2-9' } 
                      ], 
                      correct: '2n = 3(n+2) - 9', 
                      explanation: `<p class='mb-2'>ูุชุฑุฌูุฉ ุงููุณุฃูุฉุ ูููููุง ูุงูุชุงูู:</p>
                                      <ul class='list-disc list-inside text-right space-y-1'>
                                        <li>ุงูุนุฏุฏ ุงููุฑุฏู ุงูุฃุตุบุฑ: <span class='math-eq'>ู</span></li>
                                        <li>ุงูุนุฏุฏ ุงููุฑุฏู ุงูุฃูุจุฑ (ุงูุชุงูู ูู): <span class='math-eq'>ู + ูข</span></li>
                                        <li>"ูุซูู ุฃุตุบุฑููุง": <span class='math-eq'>ูขู</span></li>
                                        <li>"ุซูุงุซุฉ ุฃูุซุงู ุฃูุจุฑููุง": <span class='math-eq'>ูฃ(ู + ูข)</span></li>
                                        <li>ุนุจุงุฑุฉ "ููู ุนู ... ุจููุฏุงุฑ ูฉ" ุชุนูู ุฃู ุงูุทุฑู ุงูุฃูู ูุณุงูู ุงูุทุฑู ุงูุซุงูู ูุทุฑูุญุงู ููู ูฉ.</li>
                                      </ul>
                                      <p class='mt-3 p-2 bg-green-100 rounded-md'>ุฅุฐูุ ุงููุนุงุฏูุฉ ุงูุตุญูุญุฉ ูู: <span class='math-eq'>ูขู = ูฃ(ู + ูข) - ูฉ</span>.</p>`
                    },
                    { 
                      id: 'number-theory-equation-2',
                      type: 'mcq', 
                      level: 'โญโญโญ', 
                      topic: 'word-to-equation', 
                      text: 'ุนุฏุฏุงู ุฒูุฌูุงู ูุชุชุงููุงูุ ููู ุฎูุณุฉ ุฃูุซุงู ุฃูุจุฑููุง ุนู ุณุจุนุฉ ุฃูุซุงู ุฃุตุบุฑููุง ุจููุฏุงุฑ ูค. ุฃู ุงููุนุงุฏูุงุช ุงูุชุงููุฉ ุชูุซู ูุฐู ุงููุณุฃูุฉุ (ุงูุฑุถ ุฃู ุฃุตุบุฑ ุนุฏุฏ ูู ู)', 
                      options: [ 
                          { display: '<span class="math-eq">ูฅ(ู+ูข) = ูงู - ูค</span>', value: '5(n+2) = 7n - 4' }, 
                          { display: '<span class="math-eq">ูฅ(ู+ูข) + ูค = ูงู</span>', value: '5(n+2) + 4 = 7n' }, 
                          { display: '<span class="math-eq">ูงู = ูฅ(ู+ูข) - ูค</span>', value: '7n = 5(n+2) - 4' }, 
                          { display: '<span class="math-eq">ูฅู = ูง(ู+ูข) - ูค</span>', value: '5n = 7(n+2) - 4' } 
                      ], 
                      correct: '5(n+2) = 7n - 4', 
                      explanation: `<p class='mb-2'>ูุชุฑุฌูุฉ ุงููุณุฃูุฉุ ูููููุง ูุงูุชุงูู:</p>
                                      <ul class='list-disc list-inside text-right space-y-1'>
                                        <li>ุงูุนุฏุฏ ุงูุฒูุฌู ุงูุฃุตุบุฑ: <span class='math-eq'>ู</span></li>
                                        <li>ุงูุนุฏุฏ ุงูุฒูุฌู ุงูุฃูุจุฑ (ุงูุชุงูู ูู): <span class='math-eq'>ู + ูข</span></li>
                                        <li>"ุฎูุณุฉ ุฃูุซุงู ุฃูุจุฑููุง": <span class='math-eq'>ูฅ(ู + ูข)</span></li>
                                        <li>"ุณุจุนุฉ ุฃูุซุงู ุฃุตุบุฑููุง": <span class='math-eq'>ูงู</span></li>
                                        <li>ุนุจุงุฑุฉ "ููู ... ุนู ... ุจููุฏุงุฑ ูค" ุชุนูู ุฃู ุงูุทุฑู ุงูุฃูู (ุฎูุณุฉ ุฃูุซุงู ุฃูุจุฑููุง) ูุณุงูู ุงูุทุฑู ุงูุซุงูู (ุณุจุนุฉ ุฃูุซุงู ุฃุตุบุฑููุง) ูุทุฑูุญุงู ููู ูค.</li>
                                      </ul>
                                      <p class='mt-3 p-2 bg-green-100 rounded-md'>ุฅุฐูุ ุงููุนุงุฏูุฉ ุงูุตุญูุญุฉ ูู: <span class='math-eq'>ูฅ(ู + ูข) = ูงู - ูค</span>.</p>`
                    },
                    { type: 'mcq', level: 'โญ', topic: 'both-sides', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูฅุณ + ูข = ูขุณ + ูกูค</span>', 
                      options: [ { display: '<span class="math-eq">ูค</span>', value: 'ูค' }, { display: '<span class="math-eq">ูฆ</span>', value: 'ูฆ' }, { display: '<span class="math-eq">ูฃ</span>', value: 'ูฃ' }, { display: '<span class="math-eq">ูกูข</span>', value: 'ูกูข' } ], 
                      correct: 'ูค', 
                      explanation: `<p class='mb-2'>ูุฌูุน ุงููุชุบูุฑุงุช ูู ุทุฑู ูุงูุซูุงุจุช ูู ุงูุทุฑู ุงูุขุฎุฑ.</p><div class='text-right space-y-2'><p>ุฃููุงู: ูุทุฑุญ ูขุณ ูู ุงูุทุฑููู: <span class='math-eq'>ูฅุณ <span class='highlight-change'>- ูขุณ</span> + ูข = ูขุณ <span class='highlight-change'>- ูขุณ</span> + ูกูค</span></p><p>ุซุงููุงู: ูุจุณุท: <span class='math-eq'>ูฃุณ + ูข = ูกูค</span></p><p>ุซุงูุซุงู: ูุทุฑุญ ูข ูู ุงูุทุฑููู: <span class='math-eq'>ูฃุณ + ูข <span class='highlight-change'>- ูข</span> = ูกูค <span class='highlight-change'>- ูข</span></span></p><p>ุฑุงุจุนุงู: ูุจุณุท: <span class='math-eq'>ูฃุณ = ูกูข</span></p><p>ุฎุงูุณุงู: ููุณู ุงูุทุฑููู ุนูู ูฃ: <span class='math-eq flex justify-center items-center'><span class="fraction"><span>ูฃุณ</span><span class="frac-bar"></span><span>ูฃ</span></span> = <span class="fraction"><span>ูกูข</span><span class="frac-bar"></span><span>ูฃ</span></span></span></p><p>ุงูุญู: <span class='math-eq'>ุณ = ูค</span></p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญ', topic: 'parentheses', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูฃ(ู - ูฅ) = ูข(ู + ูก)</span>', 
                      options: [ { display: '<span class="math-eq">ูกูง</span>', value: 'ูกูง' }, { display: '<span class="math-eq">-ูกูฃ</span>', value: '-ูกูฃ' }, { display: '<span class="math-eq">ูกูฆ</span>', value: 'ูกูฆ' }, { display: '<span class="math-eq">ูค</span>', value: 'ูค' } ], 
                      correct: 'ูกูง', 
                      explanation: `<p class='mb-2'>ูุณุชุฎุฏู ุฎุงุตูุฉ ุงูุชูุฒูุน ุฃููุงู.</p><div class='text-right space-y-2'><p>ุฃููุงู: ูู ุงูุฃููุงุณ: <span class='math-eq'>ูฃู - ูกูฅ = ูขู + ูข</span></p><p>ุซุงููุงู: ูุทุฑุญ ูขู ูู ุงูุทุฑููู: <span class='math-eq'>ูฃู <span class='highlight-change'>- ูขู</span> - ูกูฅ = ูขู <span class='highlight-change'>- ูขู</span> + ูข</span></p><p>ุซุงูุซุงู: ูุจุณุท: <span class='math-eq'>ู - ูกูฅ = ูข</span></p><p>ุฑุงุจุนุงู: ูุถูู ูกูฅ ููุทุฑููู: <span class='math-eq'>ู - ูกูฅ <span class='highlight-change'>+ ูกูฅ</span> = ูข <span class='highlight-change'>+ ูกูฅ</span></span></p><p>ุฎุงูุณุงู: ุงูุญู ุงูููุงุฆู: <span class='math-eq'>ู = ูกูง</span></p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'no-solution', text: 'ูุง ูู ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูจ + ูคู = ูคู - ูก</span>ุ', 
                      options: [ { display: '<span class="math-eq">ู = ูข</span>', value: '2' }, { display: '<span class="math-eq">ุฌููุน ุงูุฃุนุฏุงุฏ ุงูุญููููุฉ</span>', value: 'all' }, { display: '<span class="math-eq">ูุณุชุญููุฉ ุงูุญู (โ)</span>', value: 'none' }, { display: '<span class="math-eq">ู = -ูข</span>', value: '-2' } ], 
                      correct: 'none', 
                      explanation: `<p class='mb-2'>ูุญุงูู ุฌูุน ุงููุชุบูุฑุงุช ูู ุทุฑู.</p><div class='text-right space-y-2'><p>ุงููุนุงุฏูุฉ: <span class='math-eq'>ูจ + ูคู = ูคู - ูก</span></p><p>ูุทุฑุญ ูคู ูู ุงูุทุฑููู: <span class='math-eq'>ูจ + ูคู <span class='highlight-change'>- ูคู</span> = ูคู - ูก <span class='highlight-change'>- ูคู</span></span></p><p>ูุจุณุท ููุฌุฏ: <span class='math-eq'>ูจ = -ูก</span></p><p class='mt-2 p-2 bg-red-100 rounded-md'>ุจูุง ุฃู ุงูุนุจุงุฑุฉ "ูจ = -ูก" ุฎุงุทุฆุฉ ุฏุงุฆูุงูุ ููุฐู ุงููุนุงุฏูุฉ ููุณ ููุง ุญู. ูุชุณูู ูุนุงุฏูุฉ ูุณุชุญููุฉ ุงูุญู.</p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญ', topic: 'fractions', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq flex justify-center items-center"><span class="fraction"><span>ูก</span><span class="frac-bar"></span><span>ูข</span></span>ุน - ูค = <span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูค</span></span>ุน</span>', 
                      options: [ { display: '<span class="math-eq">ุน = ูกูฆ</span>', value: '16' }, { display: '<span class="math-eq">ุน = -ูกูฆ</span>', value: '-16' }, { display: '<span class="math-eq">ุน = ูจ</span>', value: '8' }, { display: '<span class="math-eq">ุน = -ูจ</span>', value: '-8' } ], 
                      correct: '-16', 
                      explanation: `<p class='mb-2'>ููุชุฎูุต ูู ุงููุณูุฑุ ูุถุฑุจ ุทุฑูู ุงููุนุงุฏูุฉ ูู ุงููุถุงุนู ุงููุดุชุฑู ุงูุฃุตุบุฑ ููููุงูุงุช (ููู ูค).</p><div class='text-right space-y-2'><p>ุงููุนุงุฏูุฉ: <span class='math-eq'>ูค ร (<span class="fraction"><span>ูก</span><span class="frac-bar"></span><span>ูข</span></span>ุน - ูค ) = ูค ร ( <span class="fraction"><span>ูฃ</span><span class="frac-bar"></span><span>ูค</span></span>ุน )</span></p><p>ููุฒุน ุงูุถุฑุจ: <span class='math-eq'>ูขุน - ูกูฆ = ูฃุน</span></p><p>ูุทุฑุญ ูขุน ูู ุงูุทุฑููู: <span class='math-eq'>ูขุน <span class='highlight-change'>- ูขุน</span> - ูกูฆ = ูฃุน <span class='highlight-change'>- ูขุน</span></span></p><p>ูุจุณุท: <span class='math-eq'>-ูกูฆ = ุน</span></p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญ', topic: 'parentheses-2', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูง(ุฃ - ูข) = ูค(ุฃ + ูก)</span>', 
                      options: [ { display: '<span class="math-eq">ุฃ = ูฆ</span>', value: '6' }, { display: '<span class="math-eq">ุฃ = -ูฆ</span>', value: '-6' }, { display: '<span class="math-eq">ุฃ = ูฃ</span>', value: '3' }, { display: '<span class="math-eq">ุฃ = ูกูจ</span>', value: '18' } ], 
                      correct: '6', 
                      explanation: `<p class='mb-2'>ูุจุฏุฃ ุจูู ุงูุฃููุงุณ ูู ุงูุทุฑููู.</p><div class='text-right space-y-2'><p>ุงููุนุงุฏูุฉ: <span class='math-eq'>ูงุฃ - ูกูค = ูคุฃ + ูค</span></p><p>ูุทุฑุญ ูคุฃ ูู ุงูุทุฑููู: <span class='math-eq'>ูฃุฃ - ูกูค = ูค</span></p><p>ูุถูู ูกูค ููุทุฑููู: <span class='math-eq'>ูฃุฃ = ูกูจ</span></p><p>ููุณู ุงูุทุฑููู ุนูู ูฃ: <span class='math-eq flex justify-center items-center'><span class="fraction"><span>ูฃุฃ</span><span class="frac-bar"></span><span>ูฃ</span></span> = <span class="fraction"><span>ูกูจ</span><span class="frac-bar"></span><span>ูฃ</span></span></span></p><p>ุงูุญู: <span class='math-eq'>ุฃ = ูฆ</span></p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'identity', text: 'ูุง ูู ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูฃ(ูขุจ - ูก) - ูฅ = ูฆุจ - ูจ</span>ุ', 
                      options: [ { display: '<span class="math-eq">ุจ = ูก</span>', value: '1' }, { display: '<span class="math-eq">ุฌููุน ุงูุฃุนุฏุงุฏ ุงูุญููููุฉ</span>', value: 'all' }, { display: '<span class="math-eq">ูุณุชุญููุฉ ุงูุญู (โ)</span>', value: 'none' }, { display: '<span class="math-eq">ุจ = ู</span>', value: '0' } ], 
                      correct: 'all', 
                      explanation: `<p class='mb-2'>ูุจุฏุฃ ุจูู ุงูููุณ ูุชุจุณูุท ุงูุทุฑู ุงูุฃูุณุฑ.</p><div class='text-right space-y-2'><p>ุงููุนุงุฏูุฉ: <span class='math-eq'>ูฃ(ูขุจ - ูก) - ูฅ = ูฆุจ - ูจ</span></p><p>ููู ุงูููุณ: <span class='math-eq'>ูฆุจ - ูฃ - ูฅ = ูฆุจ - ูจ</span></p><p>ูุจุณุท ุงูุทุฑู ุงูุฃูุณุฑ: <span class='math-eq'>ูฆุจ - ูจ = ูฆุจ - ูจ</span></p><p class='mt-2 p-2 bg-green-100 rounded-md'>ุจูุง ุฃู ุงูุทุฑููู ูุชุทุงุจูุงูุ ูุงููุนุงุฏูุฉ ุตุญูุญุฉ ูุฃู ูููุฉ ูููุชุบูุฑ ุจ. ูุฐู ุงููุนุงุฏูุฉ ูู ูุชุทุงุจูุฉ.</p></div>`
                    },
                    { type: 'mcq', level: 'โญ', topic: 'simple-negatives', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูฃ - ูคุณ = ูกูจ + ุณ</span>', 
                      options: [ { display: '<span class="math-eq">-ูฃ</span>', value: '-3' }, { display: '<span class="math-eq">ูฃ</span>', value: '3' }, { display: '<span class="math-eq">-ูฅ</span>', value: '-5' }, { display: '<span class="math-eq">ูง</span>', value: '7' } ], 
                      correct: '-3', 
                      explanation: `<p class='mb-2'>ูุฌูุน ุงููุชุบูุฑุงุช ูู ุทุฑู ูุงูุซูุงุจุช ูู ุงูุทุฑู ุงูุขุฎุฑ.</p><div class='text-right space-y-2'><p>ูุถูู ูคุณ ููุทุฑููู: <span class='math-eq'>ูฃ - ูคุณ <span class='highlight-change'>+ ูคุณ</span> = ูกูจ + ุณ <span class='highlight-change'>+ ูคุณ</span></span></p><p>ูุจุณุท: <span class='math-eq'>ูฃ = ูกูจ + ูฅุณ</span></p><p>ูุทุฑุญ ูกูจ ูู ุงูุทุฑููู: <span class='math-eq'>ูฃ <span class='highlight-change'>- ูกูจ</span> = ูกูจ + ูฅุณ <span class='highlight-change'>- ูกูจ</span></span></p><p>ูุจุณุท: <span class='math-eq'>-ูกูฅ = ูฅุณ</span></p><p>ููุณู ุนูู ูฅ: <span class='math-eq'>-ูฃ = ุณ</span></p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญ', topic: 'parentheses-negatives', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูข(ุต - ูฆ) = ูฃ(ุต - ูค)</span>', 
                      options: [ { display: '<span class="math-eq">ุต = ู</span>', value: '0' }, { display: '<span class="math-eq">ุต = ูขูค</span>', value: '24' }, { display: '<span class="math-eq">ุต = -ูขูค</span>', value: '-24' }, { display: '<span class="math-eq">ุต = ูค</span>', value: '4' } ], 
                      correct: '0', 
                      explanation: `<p class='mb-2'>ูุจุฏุฃ ุจูู ุงูุฃููุงุณ.</p><div class='text-right space-y-2'><p>ุงููุนุงุฏูุฉ: <span class='math-eq'>ูขุต - ูกูข = ูฃุต - ูกูข</span></p><p>ูุทุฑุญ ูขุต ูู ุงูุทุฑููู: <span class='math-eq'>-ูกูข = ุต - ูกูข</span></p><p>ูุถูู ูกูข ููุทุฑููู: <span class='math-eq'>-ูกูข <span class='highlight-change'>+ ูกูข</span> = ุต - ูกูข <span class='highlight-change'>+ ูกูข</span></span></p><p>ุงูุญู: <span class='math-eq'>ู = ุต</span></p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'geometry-perimeter', text: 'ูุณุชุทูู ููุฑุจุน ูููุง ููุณ ุงููุญูุท. ุทูู ุงููุณุชุทูู ูกู ุณู ูุนุฑุถู (ุณ) ุณู. ุทูู ุถูุน ุงููุฑุจุน (ุณ+ูข) ุณู. ูุง ูููุฉ ุณุ', 
                      options: [ { display: '<span class="math-eq">ุณ = ูฆ</span>', value: '6' }, { display: '<span class="math-eq">ุณ = ูค</span>', value: '4' }, { display: '<span class="math-eq">ุณ = ูจ</span>', value: '8' }, { display: '<span class="math-eq">ุณ = ูกูข</span>', value: '12' } ], 
                      correct: '6', 
                      explanation: `<p class='mb-2'>ูุญูุท ุงููุณุชุทูู = ูข(ุงูุทูู + ุงูุนุฑุถ). ูุญูุท ุงููุฑุจุน = ูค ร ุทูู ุงูุถูุน.</p><div class='text-right space-y-2'><p>ูุญูุท ุงููุณุชุทูู: <span class='math-eq'>ูข(ูกู + ุณ)</span></p><p>ูุญูุท ุงููุฑุจุน: <span class='math-eq'>ูค(ุณ + ูข)</span></p><p>ุงููุนุงุฏูุฉ: <span class='math-eq'>ูข(ูกู + ุณ) = ูค(ุณ + ูข)</span></p><p>ููู ุงูุฃููุงุณ: <span class='math-eq'>ูขู + ูขุณ = ูคุณ + ูจ</span></p><p>ูุทุฑุญ ูขุณ: <span class='math-eq'>ูขู = ูขุณ + ูจ</span></p><p>ูุทุฑุญ ูจ: <span class='math-eq'>ูกูข = ูขุณ</span></p><p>ููุณู ุนูู ูข: <span class='math-eq'>ูฆ = ุณ</span></p></div>` 
                    },
                    { type: 'mcq', level: 'โญโญ', topic: 'decimals-2', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-eq">ูก.ูฅู + ูฉ = ูฃู</span>', 
                      options: [ { display: '<span class="math-eq">ู = ูฆ</span>', value: '6' }, { display: '<span class="math-eq">ู = ูฃ</span>', value: '3' }, { display: '<span class="math-eq">ู = -ูฆ</span>', value: '-6' }, { display: '<span class="math-eq">ู = ูค.ูฅ</span>', value: '4.5' } ], 
                      correct: '6', 
                      explanation: `<p class='mb-2'>ูุฌูุน ุงููุชุบูุฑุงุช ูู ุทุฑู.</p><div class='text-right space-y-2'><p>ูุทุฑุญ ูก.ูฅู ูู ุงูุทุฑููู: <span class='math-eq'>ูก.ูฅู <span class='highlight-change'>- ูก.ูฅู</span> + ูฉ = ูฃู <span class='highlight-change'>- ูก.ูฅู</span></span></p><p>ูุจุณุท: <span class='math-eq'>ูฉ = ูก.ูฅู</span></p><p>ููุณู ุงูุทุฑููู ุนูู ูก.ูฅ: <span class='math-eq flex justify-center items-center'><span class="fraction"><span>ูฉ</span><span class="frac-bar"></span><span>ูก.ูฅ</span></span> = <span class="fraction"><span>ูก.ูฅู</span><span class="frac-bar"></span><span>ูก.ูฅ</span></span></span></p><p>ุงูุญู: <span class='math-eq'>ูฆ = ู</span></p></div>` 
                    }
                ];
                return [...questionBank].sort(() => Math.random() - 0.5).slice(0, 5);
            }
        },
        'c1_l5': {
            title: 'ุงูุฏุฑุณ ูก-ูฅ: ุญู ุงููุนุงุฏูุงุช ุงูุชู ุชุชุถูู ุงููููุฉ ุงููุทููุฉ',
            content:`<section class="mb-12">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ููููู ุงููููุฉ ุงููุทููุฉ</h2>
                <div class="p-4 bg-blue-50 rounded-lg space-y-3">
                    <p>ุงููููุฉ ุงููุทููุฉ ูุนุฏุฏ ูู ุงููุณุงูุฉ ุจูู ุฐูู ุงูุนุฏุฏ ูุงูุตูุฑ ุนูู ุฎุท ุงูุฃุนุฏุงุฏ. ูุจูุง ุฃููุง ูุณุงูุฉุ ููู <strong class="text-red-600">ุฏุงุฆูุงู ููุฌุจุฉ ุฃู ุตูุฑ</strong>.</p>
                    <div class="text-center">
                        <p>ูุฑูุฒ ูููููุฉ ุงููุทููุฉ ุจุงูุฑูุฒ <span class="math-eq">| |</span>. ูุซุงู:</p>
                        <p class="math-block">| -ูฅ | = ูฅ</p>
                        <p class="math-block">| ูฅ | = ูฅ</p>
                    </div>
                </div>
            </section>
            <section class="mb-12">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                    <span class="text-3xl ml-2">๐</span> ุซุงููุงู: ุฃูุซูุฉ ุชูุงุนููุฉ
                </h2>
                <div class="space-y-8">
                    <!-- Part A -->
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 mb-2">ุฃ) ุญุณุงุจ ูููุฉ ุนุจุงุฑุงุช ุงููููุฉ ุงููุทููุฉ</h3>
                        <div class="p-4 bg-indigo-50 rounded-lg mb-4">
                            <p class="font-semibold text-center text-indigo-800">ุงุญุณุจ ูููุฉ ูู ุนุจุงุฑุฉุ ุฅุฐุง ูุงูุช: <span class="math-eq">ู = -ูฃ</span>ุ <span class="math-eq">ูู = ูฅ</span>ุ <span class="math-eq">ุฏ = -ูค</span></p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div id="eval-ex1" class="interactive-card"></div>
                            <div id="eval-ex2" class="interactive-card"></div>
                            <div id="eval-ex3" class="interactive-card"></div>
                            <div id="eval-ex4" class="interactive-card"></div>
                        </div>
                    </div>
                    <!-- Part B -->
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 mb-4">ุจ) ุญู ูุนุงุฏูุงุช ุงููููุฉ ุงููุทููุฉ</h3>
                        <div class="grid grid-cols-1 gap-8">
                            <div id="solve-ex1" class="interactive-card"></div>
                            <div id="solve-ex2" class="interactive-card"></div>
                        </div>
                    </div>
                    <!-- Part C -->
                    <div>
                        <h3 class="text-xl font-bold text-gray-700 mb-4">ุฌ) ูุชุงุจุฉ ูุนุงุฏูุฉ ุงููููุฉ ุงููุทููุฉ</h3>
                        <div class="grid grid-cols-1">
                            <div id="write-ex1" class="interactive-card"></div>
                        </div>
                    </div>
                </div>
            </section>`, 
            generateQuiz: () => {
                const questionBank = [
                    { type: 'mcq', level: 'โญ', topic: 'evaluate', text: 'ุฅุฐุง ูุงูุช <span class="math-eq">ู = -ูฃ</span>ุ <span class="math-eq">ุฏ = -ูค</span>ุ ููุง ูููุฉ <span class="math-eq">| ู + ุฏ |</span>ุ', options: [ { display: '<span class="math-eq">ูง</span>', value: '7' }, { display: '<span class="math-eq">-ูง</span>', value: '-7' }, { display: '<span class="math-eq">ูก</span>', value: '1' }, { display: '<span class="math-eq">-ูก</span>', value: '-1' } ], correct: '7', explanation: `<p class='mb-2'>ูุนูุถ ุนู ุงููุชุบูุฑุงุช ุจููููุง.</p><div class='text-right space-y-2'><p>ุฃููุงู: <span class='math-block'>| (-ูฃ) + (-ูค) |</span></p><p>ุซุงููุงู: <span class='math-block'>| -ูง | = ูง</span></p></div>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'solve', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-block">| ู + ูฅ | = ูกูง</span>', options: [ { display: '<span class="math-eq">{ูกูข}</span>', value: '{12}' }, { display: '<span class="math-eq">{ูกูข, -ูขูข}</span>', value: '{12, -22}' }, { display: '<span class="math-eq">{-ูกูข, ูขูข}</span>', value: '{-12, 22}' }, { display: '<span class="math-eq">{ูขูข}</span>', value: '{22}' } ], correct: '{12, -22}', explanation: `<p class='mb-2'>ููุตู ุงููุนุงุฏูุฉ ุฅูู ุญุงูุชูู ูุฃู ูุง ุจุฏุงุฎู ุงููููุฉ ุงููุทููุฉ ูููู ุฃู ูููู ููุฌุจุงู ุฃู ุณุงูุจุงู:</p><div class='grid grid-cols-1 md:grid-cols-2 gap-2 text-center mt-2'><div class='space-y-1 p-2 bg-gray-100 rounded'><p class='font-bold'>ุงูุญุงูุฉ ุงูุฃููู (ููุฌุจ)</p><p class='math-block'>ู + ูฅ = ูกูง</p><p>ูุทุฑุญ ูฅ ูู ุงูุทุฑููู:</p><p class='math-block'>ู = ูกูง - ูฅ</p><p class='math-block'>ู = ูกูข</p></div><div class='space-y-1 p-2 bg-gray-100 rounded'><p class='font-bold'>ุงูุญุงูุฉ ุงูุซุงููุฉ (ุณุงูุจ)</p><p class='math-block'>ู + ูฅ = -ูกูง</p><p>ูุทุฑุญ ูฅ ูู ุงูุทุฑููู:</p><p class='math-block'>ู = -ูกูง - ูฅ</p><p class='math-block'>ู = -ูขูข</p></div></div><p class='mt-3 p-2 bg-green-100 rounded-md text-center'>ุฅุฐูุ ูุฌููุนุฉ ุงูุญู ูู {ูกูขุ -ูขูข}.</p>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'no-solution', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-block">| ูขุณ - ูฃ | = -ูกูก</span>', options: [ { display: '<span class="math-eq">{ูง, -ูค}</span>', value: '{7, -4}' }, { display: '<span class="math-eq">{-ูง, ูค}</span>', value: '{-7, 4}' }, { display: '<span class="math-eq">ูุฌููุนุฉ ุฎุงููุฉ (โ)</span>', value: 'โ' }, { display: '<span class="math-eq">{ูง}</span>', value: '{7}' } ], correct: 'โ', explanation: `<p class='mb-2'>ุงููููุฉ ุงููุทููุฉ ูุง ูููู ุฃู ุชุณุงูู ุนุฏุฏุงู ุณุงูุจุงู ุฃุจุฏุงูุ ูุฃููุง ุชูุซู ูุณุงูุฉ.</p><p class='mt-2 p-2 bg-yellow-100 rounded-md'>ูุฐููุ ูุง ููุฌุฏ ุญู ููุฐู ุงููุนุงุฏูุฉุ ููุฌููุนุฉ ุงูุญู ูู ุงููุฌููุนุฉ ุงูุฎุงููุฉ (โ).</p></div>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'writing', text: 'ุงูุชุจ ูุนุงุฏูุฉ ุชุชุถูู ูููุฉ ูุทููุฉ ููุชูุซูู ุงูุฐู ููุทุฉ ููุชุตูู <span class="math-eq">ูขูง</span> ูุงููุณุงูุฉ ูู ุงูููุชุตู ููู ุทุฑู ูู <span class="math-eq">ูข</span>.', options: [ { display: '<span class="math-eq">|ุณ - ูข| = ูขูง</span>', value: '|ุณ - 2| = 27' }, { display: '<span class="math-eq">|ุณ + ูขูง| = ูข</span>', value: '|ุณ + 27| = 2' }, { display: '<span class="math-eq">|ุณ - ูขูง| = ูข</span>', value: '|ุณ - 27| = 2' }, { display: '<span class="math-eq">|ุณ + ูข| = ูขูง</span>', value: '|ุณ + 2| = 27' } ], correct: '|ุณ - 27| = 2', explanation: `<p class='mb-2'>ุงูุตูุบุฉ ุงูุนุงูุฉ ูู: |ุงููุชุบูุฑ - ููุทุฉ ุงูููุชุตู| = ุงููุณุงูุฉ.</p><div class='text-right space-y-2'><p>ููุทุฉ ุงูููุชุตู = ูขูง</p><p>ุงููุณุงูุฉ = ูข</p><p class='mt-2 p-2 bg-green-100 rounded-md'>ุฅุฐูุ ุงููุนุงุฏูุฉ ูู: |ุณ - ูขูง| = ูข</p></div>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'writing-from-graph', text: 'ุงูุชุจ ูุนุงุฏูุฉ ุงููููุฉ ุงููุทููุฉ ููุชูุซูู ุงูุจูุงูู ุงูุชุงูู:', options: [ { display: '<span class="math-eq">|ุณ - ูฆ| = ูค</span>', value: '|ุณ - 6| = 4' }, { display: '<span class="math-eq">|ุณ - ูค| = ูฆ</span>', value: '|ุณ - 4| = 6' }, { display: '<span class="math-eq">|ุณ + ูค| = ูฆ</span>', value: '|ุณ + 4| = 6' }, { display: '<span class="math-eq">|ุณ + ูฆ| = ูค</span>', value: '|ุณ + 6| = 4' } ], correct: '|ุณ - 6| = 4', explanation: `<p class='mb-2'>ุฃููุงูุ ููุฌุฏ ููุทุฉ ุงูููุชุตู ุจูู ูข ู ูกู: <span class="math-block"><span class="fraction"><span>ูข + ูกู</span><span class="frac-bar"></span><span>ูข</span></span> = <span class="fraction"><span>ูกูข</span><span class="frac-bar"></span><span>ูข</span></span> = ูฆ</span>.</p><p class='mb-2'>ุซุงููุงูุ ููุฌุฏ ุงููุณุงูุฉ ูู ุงูููุชุตู (ูฆ) ุฅูู ุฃู ูู ุงูููุทุชูู: <span class="math-block">ูกู - ูฆ = ูค</span>.</p><p class='mt-2 p-2 bg-green-100 rounded-md'>ุฅุฐูุ ุงููุนุงุฏูุฉ ูู |ุณ - ูฆ| = ูค.</p>`, graph: `<svg viewBox="0 0 200 60" class="mx-auto my-2 w-full max-w-xs h-auto"><defs><marker id="arrowhead-1-5" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#4a5568"/></marker></defs><line x1="10" y1="30" x2="190" y2="30" stroke="#4a5568" stroke-width="2" marker-start="url(#arrowhead-1-5)" marker-end="url(#arrowhead-1-5)" /><g font-size="10" font-family="sans-serif" fill="#4a5568" text-anchor="middle"><text x="30" y="50">ูข</text><line x1="30" y1="25" x2="30" y2="35" stroke="#4a5568" stroke-width="1.5" /><text x="170" y="50">ูกู</text><line x1="170" y1="25" x2="170" y2="35" stroke="#4a5568" stroke-width="1.5" /></g><circle cx="30" cy="30" r="4" fill="#3b82f6" /><circle cx="170" cy="30" r="4" fill="#3b82f6" /></svg>` },
                    { type: 'mcq', level: 'โญ', topic: 'evaluate', text: 'ุฅุฐุง ูุงูุช <span class="math-eq">ูู = ูฅ</span>ุ <span class="math-eq">ุฏ = -ูค</span>ุ ููุง ูููุฉ <span class="math-block">| ูขุฏ - ูู |</span>ุ', options: [ { display: '<span class="math-eq">ูกูฃ</span>', value: '13' }, { display: '<span class="math-eq">-ูกูฃ</span>', value: '-13' }, { display: '<span class="math-eq">ูฃ</span>', value: '3' }, { display: '<span class="math-eq">-ูฃ</span>', value: '-3' } ], correct: '13', explanation: `<p class='mb-2'>ูุนูุถ ุนู ุงููุชุบูุฑุงุช ุจููููุง.</p><div class='text-right space-y-2'><p><span class='math-block'>| ูข(-ูค) - ูฅ |</span></p><p><span class='math-block'>| -ูจ - ูฅ |</span></p><p><span class='math-block'>| -ูกูฃ | = ูกูฃ</span></p></div>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'solve', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-block">| ุณ - ูจ | = ูฃ</span>', options: [ { display: '<span class="math-eq">{ูกูก, ูฅ}</span>', value: '{11, 5}' }, { display: '<span class="math-eq">{-ูกูก, -ูฅ}</span>', value: '{-11, -5}' }, { display: '<span class="math-eq">{ูกูก}</span>', value: '{11}' }, { display: '<span class="math-eq">{ูฅ}</span>', value: '{5}' } ], correct: '{11, 5}', explanation: `<p class='mb-2'>ููุตู ุงููุนุงุฏูุฉ ุฅูู ุญุงูุชูู:</p><div class='grid grid-cols-1 md:grid-cols-2 gap-2 text-center mt-2'><div class='space-y-1 p-2 bg-gray-100 rounded'><p class='font-bold'>ุงูุญุงูุฉ ุงูุฃููู</p><p class='math-block'>ุณ - ูจ = ูฃ</p><p class='math-block'>ุณ = ูฃ + ูจ</p><p class='math-block'>ุณ = ูกูก</p></div><div class='space-y-1 p-2 bg-gray-100 rounded'><p class='font-bold'>ุงูุญุงูุฉ ุงูุซุงููุฉ</p><p class='math-block'>ุณ - ูจ = -ูฃ</p><p class='math-block'>ุณ = -ูฃ + ูจ</p><p class='math-block'>ุณ = ูฅ</p></div></div><p class='mt-3 p-2 bg-green-100 rounded-md text-center'>ุฅุฐูุ ูุฌููุนุฉ ุงูุญู ูู {ูกูกุ ูฅ}.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'solve', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-block">ูฃ|ุณ + ูฆ| = ูฉ</span>', options: [ { display: '<span class="math-eq">{-ูฃ, -ูฉ}</span>', value: '{-3, -9}' }, { display: '<span class="math-eq">{ูฃ, ูฉ}</span>', value: '{3, 9}' }, { display: '<span class="math-eq">{-ูฃ}</span>', value: '{-3}' }, { display: '<span class="math-eq">ูุฌููุนุฉ ุฎุงููุฉ (โ)</span>', value: 'โ' } ], correct: '{-3, -9}', explanation: `<p class='mb-2'>ุฃููุงูุ ููุณู ุงูุทุฑููู ุนูู ูฃ ูุนุฒู ุงููููุฉ ุงููุทููุฉ:</p><p class='math-block text-center'>|ุณ + ูฆ| = ูฃ</p><p class='mb-2'>ุซู ููุตู ุงููุนุงุฏูุฉ ุฅูู ุญุงูุชูู:</p><div class='grid grid-cols-1 md:grid-cols-2 gap-2 text-center mt-2'><div class='space-y-1 p-2 bg-gray-100 rounded'><p class='font-bold'>ุงูุญุงูุฉ ุงูุฃููู</p><p class='math-block'>ุณ + ูฆ = ูฃ</p><p class='math-block'>ุณ = ูฃ - ูฆ</p><p class='math-block'>ุณ = -ูฃ</p></div><div class='space-y-1 p-2 bg-gray-100 rounded'><p class='font-bold'>ุงูุญุงูุฉ ุงูุซุงููุฉ</p><p class='math-block'>ุณ + ูฆ = -ูฃ</p><p class='math-block'>ุณ = -ูฃ - ูฆ</p><p class='math-block'>ุณ = -ูฉ</p></div></div><p class='mt-3 p-2 bg-green-100 rounded-md text-center'>ุฅุฐูุ ูุฌููุนุฉ ุงูุญู ูู {-ูฃุ -ูฉ}.</p>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'solve', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-block">|ูคุณ - ูจ| = ู</span>', options: [ { display: '<span class="math-eq">{ูข}</span>', value: '{2}' }, { display: '<span class="math-eq">{-ูข}</span>', value: '{-2}' }, { display: '<span class="math-eq">{ูข, -ูข}</span>', value: '{2, -2}' }, { display: '<span class="math-eq">ูุฌููุนุฉ ุฎุงููุฉ (โ)</span>', value: 'โ' } ], correct: '{2}', explanation: `<p class='mb-2'>ุนูุฏูุง ุชุณุงูู ุงููููุฉ ุงููุทููุฉ ุตูุฑุงูุ ููุงู ุญู ูุงุญุฏ ููุท.</p><div class='text-right space-y-2'><p><span class='math-block'>ูคุณ - ูจ = ู</span></p><p><span class='math-block'>ูคุณ = ูจ</span></p><p><span class='math-block'>ุณ = ูข</span></p></div>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'writing-from-points', text: 'ุงูุชุจ ูุนุงุฏูุฉ ุงููููุฉ ุงููุทููุฉ ุงูุชู ุญููููุง ูู <span class="math-eq">-ูข</span> ู <span class="math-eq">ูจ</span>.', options: [ { display: '<span class="math-eq">|ุณ - ูฃ| = ูฅ</span>', value: '|ุณ - 3| = 5' }, { display: '<span class="math-eq">|ุณ - ูฅ| = ูฃ</span>', value: '|ุณ - 5| = 3' }, { display: '<span class="math-eq">|ุณ + ูฃ| = ูฅ</span>', value: '|ุณ + 3| = 5' }, { display: '<span class="math-eq">|ุณ + ูฅ| = ูฃ</span>', value: '|ุณ + 5| = 3' } ], correct: '|ุณ - 3| = 5', explanation: `<p class='mb-2'>ุฃููุงูุ ููุฌุฏ ููุทุฉ ุงูููุชุตู: <span class="math-block"><span class="fraction"><span>(-ูข) + ูจ</span><span class="frac-bar"></span><span>ูข</span></span> = <span class="fraction"><span>ูฆ</span><span class="frac-bar"></span><span>ูข</span></span> = ูฃ</span>.</p><p class='mb-2'>ุซุงููุงูุ ููุฌุฏ ุงููุณุงูุฉ ูู ุงูููุชุตู (ูฃ) ุฅูู ุฃู ูู ุงูููุทุชูู: <span class="math-block">ูจ - ูฃ = ูฅ</span>.</p><p class='mt-2 p-2 bg-green-100 rounded-md'>ุฅุฐูุ ุงููุนุงุฏูุฉ ูู |ุณ - ูฃ| = ูฅ.</p>` },
                    { type: 'mcq', level: 'โญ', topic: 'evaluate', text: 'ุฅุฐุง ูุงูุช <span class="math-eq">ู = -ูฃ</span>ุ <span class="math-eq">ูู = ูฅ</span>ุ ููุง ูููุฉ <span class="math-block">-|ู + ูู|</span>ุ', options: [ { display: '<span class="math-eq">-ูข</span>', value: '-2' }, { display: '<span class="math-eq">ูข</span>', value: '2' }, { display: '<span class="math-eq">ูจ</span>', value: '8' }, { display: '<span class="math-eq">-ูจ</span>', value: '-8' } ], correct: '-2', explanation: `<p class='mb-2'>ูุญุณุจ ูุง ุจุฏุงุฎู ุงููููุฉ ุงููุทููุฉ ุฃููุงู ุซู ูุทุจู ุงูุฅุดุงุฑุฉ ุงูุณุงูุจุฉ.</p><div class='text-right space-y-2'><p><span class='math-block'>-|(-ูฃ) + ูฅ|</span></p><p><span class='math-block'>-|ูข|</span></p><p><span class='math-block'>= -ูข</span></p></div>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'solve', text: 'ุญู ุงููุนุงุฏูุฉ: <span class="math-block">-|ุณ| = -ูฅ</span>', options: [ { display: '<span class="math-eq">{ูฅ, -ูฅ}</span>', value: '{5, -5}' }, { display: '<span class="math-eq">{ูฅ}</span>', value: '{5}' }, { display: '<span class="math-eq">{-ูฅ}</span>', value: '{-5}' }, { display: '<span class="math-eq">ูุฌููุนุฉ ุฎุงููุฉ (โ)</span>', value: 'โ' } ], correct: '{5, -5}', explanation: `<p class='mb-2'>ุฃููุงูุ ูุถุฑุจ ุงูุทุฑููู ูู -ูก ููุชุฎูุต ูู ุงูุฅุดุงุฑุฉ ุงูุณุงูุจุฉ ุฎุงุฑุฌ ุงููููุฉ ุงููุทููุฉ.</p><p class='math-block text-center'>|ุณ| = ูฅ</p><p class='mt-2'>ููุฐุง ูุนูู ุฃู <span class='math-eq'>ุณ = ูฅ</span> ุฃู <span class='math-eq'>ุณ = -ูฅ</span>.</p>` }
                ];
                const shuffledBank = [...questionBank].sort(() => Math.random() - 0.5);
                return shuffledBank.slice(0, 5); // Select 5 random questions
            }  },
        
        // === ุงููุตู ุงูุซุงูู: ุงูุนูุงูุงุช ูุงูุฏูุงู ุงูุฎุทูุฉ ===
        'c2_l1': { title: 'ุงูุฏุฑุณ ูข-ูก: ุงูุนูุงูุงุช', content: '<!-- ุณูุชู ุฅุถุงูุฉ ูุญุชูู ุงูุฏุฑุณ ููุง -->', generateQuiz: () => { /* ุณูุชู ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุงูุฏุฑุณ ููุง */ return []; } },
        'c2_l2': { title: 'ุงูุฏุฑุณ ูข-ูข: ุงูุฏูุงู', content: '<!-- ุณูุชู ุฅุถุงูุฉ ูุญุชูู ุงูุฏุฑุณ ููุง -->', generateQuiz: () => { /* ุณูุชู ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุงูุฏุฑุณ ููุง */ return []; } },
        'c2_l3': { title: 'ุงูุฏุฑุณ ูข-ูฃ: ุชูุซูู ุงููุนุงุฏูุงุช ุงูุฎุทูุฉ ุจูุงููุงู', content: '<!-- ุณูุชู ุฅุถุงูุฉ ูุญุชูู ุงูุฏุฑุณ ููุง -->', generateQuiz: () => { /* ุณูุชู ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุงูุฏุฑุณ ููุง */ return []; } },
        
        'c2_l4': { 
            title: 'ุงูุฏุฑุณ ูข-ูค: ุญู ุงููุนุงุฏูุงุช ุงูุฎุทูุฉ ุจูุงููุงู', 
            content: `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููุงููู ุงูุฃุณุงุณูุฉ</h2>
                    <div class="p-6 bg-blue-50 rounded-lg space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุงูุฏุงูุฉ ุงูููููุฏุฉ (ุงูุฃู) ููุฏูุงู ุงูุฎุทูุฉ</h3>
                            <p>ุฃุจุณุท ุฏุงูุฉ ุฎุทูุฉ ูู <span class="math-eq">ุฏ(ุณ) = ุณ</span>. ูุชูุณูู <span class="vocab-term">ุงูุฏุงูุฉ ุงููููุฏุฉ (ุงูุฃู)</span> ููุฌููุนุฉ ุงูุฏูุงู ุงูุฎุทูุฉ. ุฌููุน ุงูุฏูุงู ุงูุฎุทูุฉ ุงูุฃุฎุฑู ูุง ูู ุฅูุง ุชุญูููุงุช ููุฐู ุงูุฏุงูุฉ ุงูุฃู.</p>
                            <div class="mt-4 p-4 bg-white rounded-lg border grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
                                <div class="space-y-2">
                                   <p><strong>ุงูุชูุซูู ุงูุจูุงูู:</strong> ุฎุท ูุณุชููู ููุฑ ุจููุทุฉ ุงูุฃุตู.</p>
                                   <p><strong>ุงููุฌุงู:</strong> ุฌููุน ุงูุฃุนุฏุงุฏ ุงูุญููููุฉ.</p>
                                   <p><strong>ุงููุฏู:</strong> ุฌููุน ุงูุฃุนุฏุงุฏ ุงูุญููููุฉ.</p>
                                </div>
                                <div>
                                    <svg viewBox="-5 -5 10 10" class="w-full h-40 bg-white border rounded-lg">
                                        <path d="M -5,1 L 5,1 M -5,2 L 5,2 M -5,3 L 5,3 M -5,4 L 5,4 M -5,-1 L 5,-1 M -5,-2 L 5,-2 M -5,-3 L 5,-3 M -5,-4 L 5,-4" stroke="#d1d5db" stroke-width="0.15" />
                                        <path d="M 1,-5 L 1,5 M 2,-5 L 2,5 M 3,-5 L 3,5 M 4,-5 L 4,5 M -1,-5 L -1,5 M -2,-5 L -2,5 M -3,-5 L -3,5 M -4,-5 L -4,5" stroke="#d1d5db" stroke-width="0.15" />
                                        <line x1="-5" y1="0" x2="5" y2="0" stroke="#9ca3af" stroke-width="0.2"/><line x1="0" y1="-5" x2="0" y2="5" stroke="#9ca3af" stroke-width="0.2"/>
                                        <text x="4.5" y="-0.5" font-size="0.8" fill="#9ca3af">ุณ</text><text x="0.5" y="-4.5" font-size="0.8" fill="#9ca3af">ุต</text>
                                        <line x1="-4.5" y1="-4.5" x2="4.5" y2="4.5" stroke="#3b82f6" stroke-width="0.4"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุญู ุงููุนุงุฏูุฉุ ุงูุฌุฐุฑุ ูุงูุตูุฑ</h3>
                            <p>ุญู ุงููุนุงุฏูุฉ ูู ุฃู ูููุฉ ูููุชุบูุฑ ุชุฌุนู ุงููุนุงุฏูุฉ ุตุญูุญุฉ. ูููุณูู ุญู ุงููุนุงุฏูุฉ ุฃูุถุงู <span class="vocab-term">ุงูุฌุฐุฑ</span>.</p>
                            <p>ูุฅูุฌุงุฏ ุฌุฐุฑ ุงููุนุงุฏูุฉุ ูุฑุจุทูุง ุจุฏุงูุฉ. ููุซูุงูุ ุงูุฏุงูุฉ ุงููุฑุชุจุทุฉ ุจุงููุนุงุฏูุฉ <span class="math-eq">ูขุณ - ูจ = ู</span> ูู <span class="math-eq">ุฏ(ุณ) = ูขุณ - ูจ</span>.</p>
                            <p class="font-bold mt-2">ุฌุฐุฑ ุงููุนุงุฏูุฉ ูู ููุณู <span class="vocab-term">ุตูุฑ ุงูุฏุงูุฉ</span>ุ ููู ูููุฉ <span class="math-eq">ุณ</span> ุงูุชู ุชุฌุนู <span class="math-eq">ุฏ(ุณ) = ู</span>. ุจูุงููุงูุ ูู ุงูููุทุน ุงูุณููู ููุฑุณู ุงูุจูุงูู ููุฏุงูุฉ.</p>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงููุงู: ุฅูุฌุงุฏ ุงูุญู ุจูุงููุงู (ุจุดูู ุชูุงุนูู)</h2>
                    <div class="p-6 bg-gray-50 rounded-lg">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                            <div>
                                <h3 class="font-bold text-lg mb-2">ุงูุฎุทูุฉ ูก: ุชูููู ุฌุฏูู</h3>
                                <p class="mb-4 text-sm text-gray-600">ุงุถุบุท ุนูู ุงูุฃุฒุฑุงุฑ ูุจูุงุก ุงูุญู ุฎุทูุฉ ุจุฎุทูุฉ.</p>
                                <table class="w-full border-collapse border border-slate-400 text-center">
                                    <thead class="bg-blue-100">
                                        <tr>
                                            <th class="p-2 border border-slate-300 highlight-s">ุณ</th>
                                            <th class="p-2 border border-slate-300">ูข<span class="highlight-s">ุณ</span> - ูจ</th>
                                            <th class="p-2 border border-slate-300">(ุณ, ุต)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="interactive-table-body"></tbody>
                                </table>
                                 <div class="mt-4 grid grid-cols-3 gap-2">
                                    <button id="prev-step-btn" class="w-full bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors btn-disabled" disabled>ุงูุณุงุจู</button>
                                    <button id="next-step-btn" class="w-full bg-blue-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">ุงูุชุงูู</button>
                                    <button id="reset-step-btn" class="w-full bg-red-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-red-700 transition-colors">ุฅุนุงุฏุฉ</button>
                                </div>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg mb-2">ุงูุฎุทูุฉ ูข: ุงูุชูุซูู ุงูุจูุงูู</h3>
                                <svg id="interactive-graph" viewBox="-10 -10 20 20" class="w-full h-72 bg-white border rounded-lg"></svg>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฅ ุซุงูุซุงู: ูุซุงู ูู ูุงูุน ุงูุญูุงุฉ (ูุดููุฉ ุงูุฌุฒุฑ)</h2>
                    <div class="p-6 bg-yellow-50 rounded-lg border-2 border-yellow-200">
                        <p class="mb-4 text-lg"><strong>ุงููุณุฃูุฉ:</strong> ุชูุซู ุงูุฏุงูุฉ <span class="math-eq">ู = ูฆู - ูขู</span> ูุชูุฉ ุงูุฌุฒุฑ ุงููุชุจูู ุจุงูููููุฌุฑุงู ูู ูุญู ุฃุญูุฏ ุจุนุฏ ุจูุนู <span class="math-eq">ู</span> ููุณุงู. ุฃูุฌุฏ ุตูุฑ ุงูุฏุงูุฉุ ููุถูุญ ูุง ูุนููู ูู ูุฐุง ุงูุณูุงู.</p>
                        <h3 class="text-xl font-semibold mb-3">ุดุฑุญ ูุจุณุท:</h3>
                        <div class="explanation-step">
                            <h4 class="font-bold text-lg mb-1">1. ูุง ูู "ุตูุฑ ุงูุฏุงูุฉ"ุ</h4>
                            <p>ุจุจุณุงุทุฉุ ูู ุฃู ูุฌุฏ ุนุฏุฏ ุงูุฃููุงุณ (<span class="math-eq">ู</span>) ุงูุชู ุชุฌุนู ูููุฉ ุงูุฌุฒุฑ ุงููุชุจููุฉ (<span class="math-eq">ู</span>) ุชุณุงูู ุตูุฑูุง. ุฃูุ ูุชู ูุจูุน ุฃุญูุฏ ูู ุงูุฌุฒุฑุ</p>
                        </div>
                        <div class="explanation-step">
                            <h4 class="font-bold text-lg mb-1">2. ููู ูุฌุฏ ุงูุญูุ</h4>
                            <p>ูุถุน ูููุฉ (<span class="math-eq">ู</span>) ุชุณุงูู 0 ูู ุงููุนุงุฏูุฉ ููุญููุง:</p>
                            <p class="text-center my-2 p-2 bg-white rounded-md text-xl math-eq">ู = ูฆู - ูขู</p>
                            <p>ูุญููุงุ ุงููู <span class="math-eq">ูขู</span> ููุทุฑู ุงูุขุฎุฑ (ุชุชุบูุฑ ุฅุดุงุฑุชูุง):</p>
                            <p class="text-center my-2 p-2 bg-white rounded-md text-xl math-eq">ูขู = ูฆู</p>
                            <p>ุงูุขูุ ูุฅูุฌุงุฏ ูููุฉ <span class="math-eq">ู</span>ุ ููุณู ูฆู ุนูู ูข:</p>
                            <p class="text-center my-2 p-2 bg-green-100 rounded-md text-2xl math-eq">ู = ูฃู</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg mb-1">3. ูุงุฐุง ูุนูู ุงูุญูุ</h4>
                            <p class="mt-2 p-4 bg-green-100 border-r-4 border-green-500 text-lg">ุงูุญู ูู <span class="math-eq">ูฃู</span>. ููุฐุง ูุนูู ุฃู ุฃุญูุฏ ูุฌุจ ุฃู ูุจูุน <strong>ูฃู ููุณุงู</strong> ุญุชู ุชูุชูู ูู ูููุฉ ุงูุฌุฒุฑ ูุฏูู.</p>
                        </div>
                    </div>
                </section>
                <script>
                (function() {
                    const nextStepBtn = document.getElementById('next-step-btn');
                    const prevStepBtn = document.getElementById('prev-step-btn');
                    const resetStepBtn = document.getElementById('reset-step-btn');
                    const tableBody = document.getElementById('interactive-table-body');
                    const graph = document.getElementById('interactive-graph');
                    
                    if (!nextStepBtn) return;

                    let animationStep = 0;
                    const animationData = [
                        { s: 'ูข', calc: 'ูข(<span class="highlight-s">ูข</span>) - ูจ = -ูค', res: '-ูค', point: {x: 2, y: -4}, color: '#1d4ed8'},
                        { s: 'ูค', calc: 'ูข(<span class="highlight-s">ูค</span>) - ูจ = ู', res: 'ู', point: {x: 4, y: 0}, color: '#ef4444'},
                        { s: 'ูฅ', calc: 'ูข(<span class="highlight-s">ูฅ</span>) - ูจ = ูข', res: 'ูข', point: {x: 5, y: 2}, color: '#1d4ed8'}
                    ];
                    
                    function drawGraphState() {
                        initializeGraph();
                        for (let i = 0; i < animationStep; i++) {
                            const data = animationData[i];
                            const px = data.point.x;
                            const py = -data.point.y;
                            const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                            circle.setAttribute('cx', px);
                            circle.setAttribute('cy', py);
                            circle.setAttribute('r', 0.3);
                            circle.setAttribute('fill', data.color);
                            graph.appendChild(circle);
                        }
                        if (animationStep === animationData.length) {
                            const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                            line.setAttribute('x1', 1); line.setAttribute('y1', 6);
                            line.setAttribute('x2', 6); line.setAttribute('y2', -4);
                            line.setAttribute('stroke', '#3b82f6');
                            line.setAttribute('stroke-width', '0.4');
                            graph.insertBefore(line, graph.firstChild);
                        }
                    }

                    function updateTable() {
                        tableBody.innerHTML = '';
                        for (let i = 0; i < animationStep; i++) {
                            const data = animationData[i];
                            const newRow = tableBody.insertRow();
                            newRow.innerHTML = \`
                                <td class="border border-slate-300 p-2 font-bold highlight-s">\${data.s}</td>
                                <td class="border border-slate-300 p-2 math-eq">\${data.calc}</td>
                                <td class="border border-slate-300 p-2 math-eq">(\${data.s}, \${data.res})</td>
                            \`;
                        }
                    }

                    function updateButtons() {
                        prevStepBtn.disabled = animationStep === 0;
                        nextStepBtn.disabled = animationStep === animationData.length;
                        prevStepBtn.classList.toggle('btn-disabled', prevStepBtn.disabled);
                        nextStepBtn.classList.toggle('btn-disabled', nextStepBtn.disabled);
                        nextStepBtn.textContent = (animationStep === animationData.length) ? 'ุงูุชูู' : 'ุงูุชุงูู';
                    }

                    function handleNextStep() { if (animationStep < animationData.length) { animationStep++; updateTable(); drawGraphState(); updateButtons(); } }
                    function handlePrevStep() { if (animationStep > 0) { animationStep--; updateTable(); drawGraphState(); updateButtons(); } }
                    function resetAnimation() { animationStep = 0; updateTable(); initializeGraph(); updateButtons(); }

                    function initializeGraph() {
                        graph.innerHTML = '';
                        let gridHtml = '';
                        for(let i = -9; i <= 9; i++) {
                            if (i === 0) continue;
                            gridHtml += \`<line x1="-10" y1="\${i}" x2="10" y2="\${i}" stroke="#d1d5db" stroke-width="0.15" />\`;
                            gridHtml += \`<line x1="\${i}" y1="-10" x2="\${i}" y2="10" stroke="#d1d5db" stroke-width="0.15" />\`;
                        }
                        gridHtml += '<line x1="-10" y1="0" x2="10" y2="0" stroke="#6b7280" stroke-width="0.2"/>';
                        gridHtml += '<line x1="0" y1="-10" x2="0" y2="10" stroke="#6b7280" stroke-width="0.2"/>';
                        gridHtml += '<text x="9.5" y="-0.5" font-size="0.8" fill="#374151" font-weight="bold">ุณ</text>';
                        gridHtml += '<text x="0.5" y="-9.5" font-size="0.8" fill="#374151" font-weight="bold">ุต</text>';
                        graph.innerHTML = gridHtml;
                    }

                    nextStepBtn.addEventListener('click', handleNextStep);
                    prevStepBtn.addEventListener('click', handlePrevStep);
                    resetStepBtn.addEventListener('click', resetAnimation);
                    
                    initializeGraph();
                })();
                <\/script>
            `, 
            generateQuiz: () => { 
                const questionBank = [
                    { type: 'mcq', level: 'โญ', topic: 'concept', text: 'ูุงุฐุง ููุซู "ุตูุฑ ุงูุฏุงูุฉ" ูู ุงูุฑุณู ุงูุจูุงููุ', options: [ { display: 'ุงูููุทุน ุงูุตุงุฏู', value: 'A' }, { display: 'ุงูููุทุน ุงูุณููู', value: 'B' }, { display: 'ููุทุฉ ุงูุฃุตู', value: 'C' }, { display: 'ููู ุงูุฎุท', value: 'D' } ], correct: 'B', explanation: '<p>ุตูุฑ ุงูุฏุงูุฉ ูู ูููุฉ (ุณ) ุงูุชู ุชุฌุนู ูููุฉ ุงูุฏุงูุฉ (ุต) ุชุณุงูู ุตูุฑูุง. ุนูู ุงูุฑุณู ุงูุจูุงููุ ูุฐู ูู ุงูููุทุฉ ุงูุชู ููุทุน ูููุง ุงูุฎุท ูุญูุฑ ุงูุณููุงุชุ ูุชูุนุฑู ุจู "ุงูููุทุน ุงูุณููู".</p>' },
                    { type: 'mcq', level: 'โญ', topic: 'parent-function', text: 'ูุง ูู ุงูุฏุงูุฉ ุงููููุฏุฉ (ุงูุฃู) ูุฌููุน ุงูุฏูุงู ุงูุฎุทูุฉุ', options: [ { display: '<span class="math-eq">ุฏ(ุณ) = ุณยฒ</span>', value: 'A' }, { display: '<span class="math-eq">ุฏ(ุณ) = ุณ</span>', value: 'B' }, { display: '<span class="math-eq">ุฏ(ุณ) = |ุณ|</span>', value: 'C' }, { display: '<span class="math-eq">ุฏ(ุณ) = ูก</span>', value: 'D' } ], correct: 'B', explanation: '<p>ุงูุฏุงูุฉ <span class="math-eq">ุฏ(ุณ) = ุณ</span> ูู ุฃุจุณุท ุตูุฑุฉ ููุฏุงูุฉ ุงูุฎุทูุฉ ูุชุนุชุจุฑ ุงูุฏุงูุฉ ุงูุฃู ุงูุชู ุชูุจูู ุนูููุง ุฌููุน ุงูุฏูุงู ุงูุฎุทูุฉ ุงูุฃุฎุฑู ูู ุฎูุงู ุงูุชุญูููุงุช (ุฅุฒุงุญุฉุ ุชูุฏุฏุ ุงูุนูุงุณ).</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'solve-equation', text: 'ูุง ูู ุญู ุงููุนุงุฏูุฉ <span class="math-eq">ูฃุณ + ูกูฅ = ู</span>ุ', options: [ { display: '<span class="math-eq">ูฅ</span>', value: 'A' }, { display: '<span class="math-eq">ูกูฅ</span>', value: 'B' }, { display: '<span class="math-eq">-ูฅ</span>', value: 'C' }, { display: '<span class="math-eq">-ูกูฅ</span>', value: 'D' } ], correct: 'C', explanation: '<p>ูุญู ุงููุนุงุฏูุฉ <span class="math-eq">ูฃุณ + ูกูฅ = ู</span>ุ ูุทุฑุญ ูกูฅ ูู ุงูุทุฑููู: <span class="math-eq">ูฃุณ = -ูกูฅ</span>. ุซู ููุณู ุงูุทุฑููู ุนูู ูฃ ููุฌุฏ ุฃู ุณ = -ูฅ.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'graph-reading', text: 'ูู ุงูุฑุณู ุงูุจูุงููุ ูุง ูู ุตูุฑ ุงูุฏุงูุฉุ', graph: '<svg viewBox="-5 -5 10 10" class="w-full h-40 bg-white border rounded-lg mt-2"><path d="M -5,1 L 5,1 M -5,2 L 5,2 M -5,3 L 5,3 M -5,4 L 5,4 M -5,-1 L 5,-1 M -5,-2 L 5,-2 M -5,-3 L 5,-3 M -5,-4 L 5,-4" stroke="#d1d5db" stroke-width="0.15" /><path d="M 1,-5 L 1,5 M 2,-5 L 2,5 M 3,-5 L 3,5 M 4,-5 L 4,5 M -1,-5 L -1,5 M -2,-5 L -2,5 M -3,-5 L -3,5 M -4,-5 L -4,5" stroke="#d1d5db" stroke-width="0.15" /><line x1="-5" y1="0" x2="5" y2="0" stroke="#9ca3af" stroke-width="0.2" /><line x1="0" y1="-5" x2="0" y2="5" stroke="#9ca3af" stroke-width="0.2" /><line x1="0" y1="4" x2="4" y2="-4" stroke="#3b82f6" stroke-width="0.4" /><circle cx="2" cy="0" r="0.3" fill="#ef4444" /></svg>', options: [ { display: '<span class="math-eq">ุณ = ู</span>', value: 'A' }, { display: '<span class="math-eq">ุณ = ูข</span>', value: 'B' }, { display: '<span class="math-eq">ุณ = -ูข</span>', value: 'C' }, { display: '<span class="math-eq">ุณ = ูค</span>', value: 'D' } ], correct: 'B', explanation: '<p>ูุจุญุซ ุนู ุงูููุทุฉ ุงูุชู ููุทุน ูููุง ุงูุฎุท ุงููุณุชููู ูุญูุฑ ุงูุณููุงุช (ุงููุญูุฑ ุงูุฃููู). ูู ูุฐุง ุงูุฑุณูุ ููุทุน ุงูุฎุท ูุญูุฑ ุงูุณููุงุช ุนูุฏ ุงูููุทุฉ ุงูุชู ุชููู ูููุง <span class="math-eq">ุณ = ูข</span>.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'solve-equation', text: 'ุฃูุฌุฏ ุฌุฐุฑ ุงููุนุงุฏูุฉ <span class="math-eq">ูกู - ูฅุณ = ู</span>.', options: [ { display: '<span class="math-eq">ูข</span>', value: 'A' }, { display: '<span class="math-eq">-ูข</span>', value: 'B' }, { display: '<span class="math-eq">ู.ูฅ</span>', value: 'C' }, { display: '<span class="math-eq">ูฅ</span>', value: 'D' } ], correct: 'A', explanation: '<p>ูุฅูุฌุงุฏ ุงูุฌุฐุฑุ ูุญู ุงููุนุงุฏูุฉ. <span class="math-eq">ูกู - ูฅุณ = ู</span>. ูุถูู ูฅุณ ููุทุฑููู: <span class="math-eq">ูกู = ูฅุณ</span>. ุซู ููุณู ูกู ุนูู ูฅ ููุฌุฏ ุฃู ุณ = ูข.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'table-estimation', text: `ูุง ุงูุชูุฏูุฑ ุงูุฃูุถู ููููุทุน ุงูุณููู ููุฏุงูุฉ ุงูุฎุทูุฉ ุงูููุซูุฉ ูู ุงูุฌุฏูู ุงูุชุงููุ<div class="flex justify-center my-2"><table class="w-1/2 text-center border"> <thead class="bg-gray-200"><tr><th class="p-1 border">ุณ</th><th class="p-1 border">ุต</th></tr></thead><tbody><tr><td class="p-1 border">ู</td><td class="p-1 border">ูฅ</td></tr><tr><td class="p-1 border">ูก</td><td class="p-1 border">ูฃ</td></tr><tr><td class="p-1 border">ูข</td><td class="p-1 border">ูก</td></tr><tr><td class="p-1 border">ูฃ</td><td class="p-1 border">-ูก</td></tr><tr><td class="p-1 border">ูค</td><td class="p-1 border">-ูฃ</td></tr></tbody></table></div>`, options: [ { display: 'ุจูู ู ู ูก', value: 'A' }, { display: 'ุจูู ูข ู ูฃ', value: 'B' }, { display: 'ุจูู ูก ู ูข', value: 'C' }, { display: 'ุจูู ูฃ ู ูค', value: 'D' } ], correct: 'B', explanation: `<p class="mb-2">ุงูููุทุน ุงูุณููู (ุตูุฑ ุงูุฏุงูุฉ) ูุญุฏุซ ุนูุฏูุง ุชุชุบูุฑ ุฅุดุงุฑุฉ (ุต) ูู ููุฌุจุฉ ุฅูู ุณุงูุจุฉ. ุจุงููุธุฑ ุฅูู ุงูุฌุฏููุ ูุฌุฏ ุฃู ูููุฉ (ุต) ูุงูุช ูก (ููุฌุจุฉ) ุนูุฏูุง ูุงูุช ุณ = ูขุ ูุฃุตุจุญุช -ูก (ุณุงูุจุฉ) ุนูุฏูุง ุฃุตุจุญุช ุณ = ูฃ. ูุฐููุ ูุง ุจุฏ ุฃู ุงูุฎุท ูุฏ ูุทุน ูุญูุฑ ุงูุณููุงุช ูู ููุทุฉ ูุง ุจูู ุณ=ูข ู ุณ=ูฃ.</p><h4 class="font-bold mt-4 mb-2">ุชูุถูุญ ูุฑุฆู:</h4><div class="bg-gray-100 p-2 rounded-lg"><svg data-interactive-graph="modal" viewBox="-2 -6 8 12" class="w-full h-64 bg-white border rounded-lg"></svg><div class="mt-2 grid grid-cols-3 gap-2"><button data-action="modal-prev" class="w-full bg-blue-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">ุงูุณุงุจู</button><button data-action="modal-next" class="w-full bg-blue-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">ุงูุชุงูู</button><button data-action="modal-reset" class="w-full bg-red-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-red-700 transition-colors">ุฅุนุงุฏุฉ</button></div></div>` },
                    { type: 'mcq', level: 'โญ', topic: 'concept', text: 'ูุง ูู ุงูุฏุงูุฉ ุงููุฑุชุจุทุฉ ุจุงููุนุงุฏูุฉ <span class="math-eq">ูคุณ - ูขู = ู</span>ุ', options: [ { display: '<span class="math-eq">ุฏ(ุณ) = ูคุณ</span>', value: 'A' }, { display: '<span class="math-eq">ุฏ(ุณ) = ูขู</span>', value: 'B' }, { display: '<span class="math-eq">ุฏ(ุณ) = ูคุณ - ูขู</span>', value: 'C' }, { display: '<span class="math-eq">ุฏ(ุณ) = ูฅ</span>', value: 'D' } ], correct: 'C', explanation: '<p>ูุชุญููู ูุนุงุฏูุฉ ุตูุฑูุฉ ุฅูู ุฏุงูุฉ ูุฑุชุจุทุฉุ ูุณุชุจุฏู ุงูุตูุฑ ุจู <span class="math-eq">ุฏ(ุณ)</span> ุฃู <span class="math-eq">ุต</span>. ูุชุตุจุญ ุงูุฏุงูุฉ <span class="math-eq">ุฏ(ุณ) = ูคุณ - ูขู</span>.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'graph-reading', text: 'ูู ุงูุฑุณู ุงูุจูุงููุ ูุง ูู ุตูุฑ ุงูุฏุงูุฉุ', graph: '<svg viewBox="-5 -5 10 10" class="w-full h-40 bg-white border rounded-lg mt-2"><path d="M -5,1 L 5,1 M -5,2 L 5,2 M -5,3 L 5,3 M -5,4 L 5,4 M -5,-1 L 5,-1 M -5,-2 L 5,-2 M -5,-3 L 5,-3 M -5,-4 L 5,-4" stroke="#d1d5db" stroke-width="0.15" /><path d="M 1,-5 L 1,5 M 2,-5 L 2,5 M 3,-5 L 3,5 M 4,-5 L 4,5 M -1,-5 L -1,5 M -2,-5 L -2,5 M -3,-5 L -3,5 M -4,-5 L -4,5" stroke="#d1d5db" stroke-width="0.15" /><line x1="-5" y1="0" x2="5" y2="0" stroke="#9ca3af" stroke-width="0.2" /><line x1="0" y1="-5" x2="0" y2="5" stroke="#9ca3af" stroke-width="0.2" /><line x1="-5" y1="2" x2="1" y2="-4" stroke="#3b82f6" stroke-width="0.4" /><circle cx="-3" cy="0" r="0.3" fill="#ef4444" /></svg>', options: [ { display: '<span class="math-eq">ุณ = ูข</span>', value: 'A' }, { display: '<span class="math-eq">ุณ = -ูฃ</span>', value: 'B' }, { display: '<span class="math-eq">ุณ = -ูก</span>', value: 'C' }, { display: '<span class="math-eq">ุณ = ู</span>', value: 'D' } ], correct: 'B', explanation: '<p>ุจุงููุธุฑ ุฅูู ุงูุฑุณู ุงูุจูุงููุ ูุฌุฏ ุฃู ุงูุฎุท ุงููุณุชููู ูุชูุงุทุน ูุน ูุญูุฑ ุงูุณููุงุช ุนูุฏ ุงูููุทุฉ <span class="math-eq">ุณ = -ูฃ</span>. ูุฐุงุ ุตูุฑ ูุฐู ุงูุฏุงูุฉ ูู -ูฃ.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'solve-equation', text: 'ุฅุฐุง ูุงู ุตูุฑ ุงูุฏุงูุฉ <span class="math-eq">ุฏ(ุณ) = ู ุณ - ูกูข</span> ูู ูคุ ููุง ูููุฉ ุงูุซุงุจุช (ู)ุ', options: [ { display: '<span class="math-eq">ูฃ</span>', value: 'A' }, { display: '<span class="math-eq">-ูฃ</span>', value: 'B' }, { display: '<span class="math-eq">ูค</span>', value: 'C' }, { display: '<span class="math-eq">ูกูข</span>', value: 'D' } ], correct: 'A', explanation: '<p>ูุนูู ุฃู ุตูุฑ ุงูุฏุงูุฉ ูู ูคุ ุฃูู ุนูุฏ <span class="math-eq">ุณ = ูค</span>ุ ุชููู <span class="math-eq">ุฏ(ุณ) = ู</span>. ูุนูุถ ูู ุงููุนุงุฏูุฉ: <span class="math-eq">ู = ู(ูค) - ูกูข</span>. ูุถูู ูกูข ููุทุฑููู: <span class="math-eq">ูกูข = ูคู</span>. ูุฅูุฌุงุฏ ูููุฉ ูุ ููุณู ูกูข ุนูู ูคุ ูุชููู ูููุฉ ู = ูฃ.</p>' },
                    { type: 'mcq', level: 'โญ', topic: 'concept', text: 'ูุฑุงุฏู ูููุฉ "ุฌุฐุฑ" ุงููุนุงุฏูุฉ ูู...', options: [ { display: 'ููู ุงูุฏุงูุฉ', value: 'A' }, { display: 'ุตูุฑ ุงูุฏุงูุฉ', value: 'B' }, { display: 'ูุฏู ุงูุฏุงูุฉ', value: 'C' }, { display: 'ูุฌุงู ุงูุฏุงูุฉ', value: 'D' } ], correct: 'B', explanation: '<p>ุฌุฐุฑ ุงููุนุงุฏูุฉุ ูุญู ุงููุนุงุฏูุฉุ ูุตูุฑ ุงูุฏุงูุฉ ุงููุฑุชุจุทุฉ ุจูุงุ ูููุง ูุตุทูุญุงุช ุชุดูุฑ ุฅูู ููุณ ุงููููุฉุ ููู ุงูููุทุน ุงูุณููู ููุฑุณู ุงูุจูุงูู.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'solve-equation', text: 'ุญู ุงููุนุงุฏูุฉ <span class="inline-flex flex-col text-center leading-tight align-middle"><span>ุณ</span><span class="border-t border-current w-full"></span><span>ูข</span></span> + ูฅ = ู ูู:', options: [ { display: '<span class="math-eq">ูกู</span>', value: 'A' }, { display: '<span class="math-eq">-ูฅ</span>', value: 'B' }, { display: '<span class="math-eq">-ูข.ูฅ</span>', value: 'C' }, { display: '<span class="math-eq">-ูกู</span>', value: 'D' } ], correct: 'D', explanation: '<p>ูุญู ุงููุนุงุฏูุฉุ ูุทุฑุญ ูฅ ูู ุงูุทุฑููู: <span class="inline-flex flex-col text-center leading-tight align-middle"><span>ุณ</span><span class="border-t border-current w-full"></span><span>ูข</span></span> = -ูฅ. ุซู ูุถุฑุจ ุงูุทุฑููู ูู ูข ููุชุฎูุต ูู ุงูููุงู: ุณ = -ูกู.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'real-life', text: 'ูููุต ุฎุฒุงู ูุงุก ุจูุนุฏู ุซุงุจุช. ูููู ุชูุซูู ูููุฉ ุงููุงุก (ู) ุจุงููุชุฑ ุจุนุฏ (ุฒ) ุณุงุนุฉ ุจุงูุฏุงูุฉ <span class="math-eq">ู(ุฒ) = ูฅูู - ูขูฅุฒ</span>. ูุงุฐุง ููุซู ุตูุฑ ูุฐู ุงูุฏุงูุฉุ', options: [ { display: 'ูููุฉ ุงููุงุก ุงูุฃูููุฉ', value: 'A' }, { display: 'ูุนุฏู ุงูููุตุงู ูู ุงูุณุงุนุฉ', value: 'B' }, { display: 'ุงูููุช ุงูุฐู ููุฑุบ ููู ุงูุฎุฒุงู', value: 'C' }, { display: 'ูุตู ูููุฉ ุงููุงุก', value: 'D' } ], correct: 'C', explanation: '<p>ุตูุฑ ุงูุฏุงูุฉ ูู ูููุฉ (ุฒ) ุงูุชู ุชุฌุนู ูููุฉ ุงููุงุก (ู) ุชุณุงูู ุตูุฑูุง. ูู ูุฐุง ุงูุณูุงูุ ูู ููุซู ุงูุฒูู ุงููุงุฒู ุญุชู ุชุตุจุญ ูููุฉ ุงููุงุก ูู ุงูุฎุฒุงู ุตูุฑูุงุ ุฃู ุงูููุช ุงูุฐู ููุฑุบ ููู ุงูุฎุฒุงู ุชูุงููุง.</p>' }
                ];
                return [...questionBank].sort(() => 0.5 - Math.random()).slice(0, 5);
            } 
        },

        'c2_l5': { title: 'ุงูุฏุฑุณ ูข-ูฅ: ูุนุฏู ุงูุชุบูุฑ ูุงูููู', content: `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููุงููู ุงูุฃุณุงุณูุฉ</h2>
                    <div class="p-6 bg-blue-50 rounded-lg space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ูุนุฏู ุงูุชุบูุฑ</h3>
                            <p>ูุนุฏู ุงูุชุบูุฑ ูู ูุณุจุฉ ุชุตู ููู ุชุชุบูุฑ ูููุฉ ูุง ุจุงููุณุจุฉ ูุชุบูุฑ ูููุฉ ุฃุฎุฑู. ุฅูู ูุฎุจุฑูุง ุจูุฏู ุณุฑุนุฉ ุชุบูุฑ ุดูุก ูุง.</p>
                            <div class="mt-4 p-4 bg-white rounded-lg border">
                                <p class="text-lg text-center font-bold">ุตูุบุฉ ูุนุฏู ุงูุชุบูุฑ</p>
                                <p class="text-center my-2 p-3 bg-indigo-50 rounded-md text-xl">
                                    <span class="math-eq">ูุนุฏู ุงูุชุบูุฑ = <span class="fraction"><span>ุงูุชุบูุฑ ูู ุต</span><span>ุงูุชุบูุฑ ูู ุณ</span></span> = <span class="fraction"><span>ุตโ - ุตโ</span><span>ุณโ - ุณโ</span></span></span>
                                </p>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุงูููู</h3>
                            <p>ูู ุงูุฏูุงู ุงูุฎุทูุฉุ ูููู ูุนุฏู ุงูุชุบูุฑ ุซุงุจุชูุง. ูููุณูู ูุนุฏู ุงูุชุบูุฑ ุงูุซุงุจุช ูุฐุง <span class="vocab-term">ุงูููู</span>.</p>
                            <p class="font-bold mt-2">ููู ุงูุฎุท ุงููุณุชููู ูู ูุณุจุฉ ุงูุชุบูุฑ ุงูุฑุฃุณู (ุงูุงุฑุชูุงุน) ุฅูู ุงูุชุบูุฑ ุงูุฃููู (ุงูุงูุชุฏุงุฏ).</p>
                        </div>
                        <div class="mt-6">
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ููุฎุต ุญุงูุงุช ุงูููู</h3>
                            <div id="slope-summary-container" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 text-center"></div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงููุงู: ุญุณุงุจ ูุนุฏู ุงูุชุบูุฑ ูู ุฌุฏูู</h2>
                    <div class="p-6 bg-gray-50 rounded-lg">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-12">
                            <div class="space-y-4">
                                <h3 class="text-xl font-bold text-gray-700">ุงููุซุงู 1: ูุนุฏู ุงูุชุบูุฑ ุงูุซุงุจุช</h3>
                                <p>ููุถุญ ุงูุฌุฏูู ุงููุฌุงูุฑ ุนุฏุฏ ุงููููููุชุฑุงุช ุงูุชู ูุทุนูุง ุฎุงูุฏ ุจุฏุฑุงุฌุชู. ูู ูุนุฏู ุงูุชุบูุฑ ุซุงุจุชุ</p>
                                <div class="grid grid-cols-[3rem_1fr_3rem] gap-x-1 items-center">
                                    <div class="relative h-full">
                                        <div id="table-const-vis-1a" class="absolute inset-0 opacity-0 transition-opacity duration-300">
                                            <svg class="absolute w-6 h-6 text-green-600" style="top: 33%; left: 1rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
                                            <span class="absolute highlight-x font-mono" style="top: 33%; left: -0.5rem;">+ูฃู</span>
                                        </div>
                                        <div id="table-const-vis-2a" class="absolute inset-0 opacity-0 transition-opacity duration-300">
                                            <svg class="absolute w-6 h-6 text-green-600" style="top: 66%; left: 1rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
                                            <span class="absolute highlight-x font-mono" style="top: 66%; left: -0.5rem;">+ูฃู</span>
                                        </div>
                                    </div>
                                    <table class="w-full border-collapse border border-slate-400 text-center">
                                        <thead class="bg-blue-100"><tr><th class="p-2 border border-slate-300">ุงูุฒูู (ุณ)</th><th class="p-2 border border-slate-300">ุงููุณุงูุฉ (ุต)</th></tr></thead>
                                        <tbody><tr id="table-const-row-1"><td class="p-2 border border-slate-300 font-mono">ูฃู</td><td class="p-2 border border-slate-300 font-mono">ูกู</td></tr><tr id="table-const-row-2"><td class="p-2 border border-slate-300 font-mono">ูฆู</td><td class="p-2 border border-slate-300 font-mono">ูขู</td></tr><tr id="table-const-row-3"><td class="p-2 border border-slate-300 font-mono">ูฉู</td><td class="p-2 border border-slate-300 font-mono">ูฃู</td></tr></tbody>
                                    </table>
                                    <div class="relative h-full">
                                        <div id="table-const-vis-1b" class="absolute inset-0 opacity-0 transition-opacity duration-300">
                                            <svg class="absolute w-6 h-6 text-red-600" style="top: 33%; right: 1rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
                                            <span class="absolute highlight-y font-mono" style="top: 33%; right: -0.5rem;">+ูกู</span>
                                        </div>
                                        <div id="table-const-vis-2b" class="absolute inset-0 opacity-0 transition-opacity duration-300">
                                            <svg class="absolute w-6 h-6 text-red-600" style="top: 66%; right: 1rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
                                            <span class="absolute highlight-y font-mono" style="top: 66%; right: -0.5rem;">+ูกู</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-white p-4 rounded-lg border min-h-[200px]"><div id="table-const-explanation" class="text-right"></div></div>
                                <div class="mt-4 flex justify-between items-center"><button id="table-const-back" class="nav-btn bg-gray-500 text-white font-medium py-2 px-6 rounded-lg hover:bg-gray-600">ุฑุฌูุน</button><span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="table-const-step-counter">0</span> / 4</span><button id="table-const-next" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-indigo-700">ุงูุชุงูู</button></div>
                            </div>
                            <div class="space-y-4">
                                <h3 class="text-xl font-bold text-gray-700">ุงููุซุงู 2: ูุนุฏู ุงูุชุบูุฑ ุบูุฑ ุงูุซุงุจุช</h3>
                                <p>ููุถุญ ุงูุฌุฏูู ุงูุชุงูู ุฃุฑุจุงุญ ูุชุฌุฑ ุตุบูุฑ ุจุงูุฃูุงู. ูู ูุนุฏู ุงูุชุบูุฑ ุซุงุจุชุ</p>
                                <div class="grid grid-cols-[3rem_1fr_3rem] gap-x-1 items-center">
                                    <div class="relative h-full">
                                        <div id="table-nonconst-vis-1a" class="absolute inset-0 opacity-0 transition-opacity duration-300">
                                            <svg class="absolute w-6 h-6 text-green-600" style="top: 33%; left: 1rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
                                            <span class="absolute highlight-x font-mono" style="top: 33%; left: -0.5rem;">+ูค</span>
                                        </div>
                                        <div id="table-nonconst-vis-2a" class="absolute inset-0 opacity-0 transition-opacity duration-300">
                                            <svg class="absolute w-6 h-6 text-green-600" style="top: 66%; left: 1rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
                                            <span class="absolute highlight-x font-mono" style="top: 66%; left: -0.5rem;">+ูข</span>
                                        </div>
                                    </div>
                                    <table class="w-full border-collapse border border-slate-400 text-center">
                                        <thead class="bg-orange-100"><tr><th class="p-2 border border-slate-300">ุงูููู (ุณ)</th><th class="p-2 border border-slate-300">ุงูุฃุฑุจุงุญ (ุต)</th></tr></thead>
                                        <tbody><tr id="table-nonconst-row-1"><td class="p-2 border border-slate-300 font-mono">ูก</td><td class="p-2 border border-slate-300 font-mono">ูกูู</td></tr><tr id="table-nonconst-row-2"><td class="p-2 border border-slate-300 font-mono">ูฅ</td><td class="p-2 border border-slate-300 font-mono">ูฃูู</td></tr><tr id="table-nonconst-row-3"><td class="p-2 border border-slate-300 font-mono">ูง</td><td class="p-2 border border-slate-300 font-mono">ูงูู</td></tr></tbody>
                                    </table>
                                    <div class="relative h-full">
                                        <div id="table-nonconst-vis-1b" class="absolute inset-0 opacity-0 transition-opacity duration-300">
                                            <svg class="absolute w-6 h-6 text-red-600" style="top: 33%; right: 1rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
                                            <span class="absolute highlight-y font-mono" style="top: 33%; right: -1.5rem;">+ูขูู</span>
                                        </div>
                                        <div id="table-nonconst-vis-2b" class="absolute inset-0 opacity-0 transition-opacity duration-300">
                                            <svg class="absolute w-6 h-6 text-red-600" style="top: 66%; right: 1rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
                                            <span class="absolute highlight-y font-mono" style="top: 66%; right: -1.5rem;">+ูคูู</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-white p-4 rounded-lg border min-h-[200px]"><div id="table-nonconst-explanation" class="text-right"></div></div>
                                <div class="mt-4 flex justify-between items-center"><button id="table-nonconst-back" class="nav-btn bg-gray-500 text-white font-medium py-2 px-6 rounded-lg hover:bg-gray-600">ุฑุฌูุน</button><span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="table-nonconst-step-counter">0</span> / 4</span><button id="table-nonconst-next" class="nav-btn bg-orange-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-orange-700">ุงูุชุงูู</button></div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ ุซุงูุซุงู: ุฅูุฌุงุฏ ุงูููู ูู ุงูุฑุณู ุงูุจูุงูู</h2>
                    <div class="p-6 bg-gray-50 rounded-lg">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div class="space-y-4">
                                <h3 class="text-xl font-bold text-gray-700">ุงููุซุงู ูก: ูุนุฏู ุงูุชุบูุฑ ุงูุซุงุจุช (ุงูููู)</h3>
                                <p>ูุฅูุฌุงุฏ ุงููููุ ูุญุฏุฏ ููุทุชูู ุนูู ุงูุฎุทุ ุซู ูุญุณุจ "ุงูุงุฑุชูุงุน" ู "ุงูุงูุชุฏุงุฏ" ุจููููุง.</p>
                                <div class="text-center">
                                    <svg id="slope-animation-svg-constant" viewBox="-2 -2 12 12" class="w-full h-72 bg-white border rounded-lg">
                                        <path d="M 0,1 L 10,1 M 0,2 L 10,2 M 0,3 L 10,3 M 0,4 L 10,4 M 0,5 L 10,5 M 0,6 L 10,6 M 0,7 L 10,7 M 0,8 L 10,8 M 0,9 L 10,9" stroke="#e5e7eb" stroke-width="0.1" /><path d="M 1,0 L 1,10 M 2,0 L 2,10 M 3,0 L 3,10 M 4,0 L 4,10 M 5,0 L 5,10 M 6,0 L 6,10 M 7,0 L 7,10 M 8,0 L 8,10 M 9,0 L 9,10" stroke="#e5e7eb" stroke-width="0.1" /><line x1="0" y1="0" x2="0" y2="10" stroke="#6b7280" stroke-width="0.2"/><line x1="0" y1="10" x2="10" y2="10" stroke="#6b7280" stroke-width="0.2"/><line x1="0" y1="2" x2="8" y2="10" stroke="#3b82f6" stroke-width="0.3"/><circle cx="2" cy="4" r="0.25" fill="#ef4444" /><text x="1.5" y="3.5" font-size="0.6" font-weight="bold">(ูข, ูฆ)</text><circle cx="6" cy="8" r="0.25" fill="#ef4444" /><text x="6.5" y="8.5" font-size="0.6" font-weight="bold">(ูฆ, ูข)</text><g id="anim-const-step-1" class="animated-element" opacity="0"><line x1="2" y1="4" x2="2" y2="8" stroke="#dc2626" stroke-width="0.2" stroke-dasharray="0.4 0.4" /></g><g id="anim-const-step-2" class="animated-element" opacity="0"><text x="0.8" y="6" fill="#dc2626" font-size="0.7">-ูค</text></g><g id="anim-const-step-3" class="animated-element" opacity="0"><line x1="2" y1="8" x2="6" y2="8" stroke="#16a34a" stroke-width="0.2" stroke-dasharray="0.4 0.4" /></g><g id="anim-const-step-4" class="animated-element" opacity="0"><text x="4" y="9" fill="#16a34a" font-size="0.7" text-anchor="middle">ูค</text></g>
                                    </svg>
                                    <div id="animation-explanation-constant" class="mt-4 p-4 bg-white rounded-lg border text-right min-h-[150px]"></div>
                                    <div class="mt-4 flex justify-between items-center"><button id="slope-anim-back-constant" class="nav-btn bg-gray-500 text-white font-medium py-2 px-6 rounded-lg hover:bg-gray-600">ุฑุฌูุน</button><span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="step-counter-constant">0</span> / 3</span><button id="slope-anim-next-constant" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-indigo-700">ุงูุชุงูู</button></div>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <h3 class="text-xl font-bold text-gray-700">ุงููุซุงู ูข: ูุนุฏู ุงูุชุบูุฑ ุบูุฑ ุงูุซุงุจุช</h3>
                                <p>ููุถุญ ุงูุฑุณู ุฃุฑุจุงุญ ุดุฑูุฉ ุจุงูุฃูู ุฑูุงู ุฎูุงู ุนุฏุฉ ุฃุนูุงู. ูู ูุนุฏู ุงูุชุบูุฑ ุซุงุจุชุ</p>
                                <div class="text-center">
                                    <svg id="slope-animation-svg-non-constant" viewBox="0 0 100 80" class="w-full h-72 bg-white border rounded-lg">
                                        <line x1="10" y1="5" x2="10" y2="70" stroke="#6b7280" stroke-width="0.5"/><line x1="10" y1="70" x2="95" y2="70" stroke="#6b7280" stroke-width="0.5"/><text x="5" y="10" font-size="4" fill="#374151">ุงูุฃุฑุจุงุญ</text><text x="50" y="78" font-size="4" fill="#374151" text-anchor="middle">ุงูุนุงู</text>
                                        <g font-size="3.5" text-anchor="middle" fill="#6b7280"><text x="5" y="65.5">ูจ</text><line x1="10" y1="65" x2="95" y2="65" stroke="#e5e7eb" stroke-width="0.25"/><text x="5" y="54.5">ูฉ</text><line x1="10" y1="53.75" x2="95" y2="53.75" stroke="#e5e7eb" stroke-width="0.25"/><text x="5" y="43.5">ูกู</text><line x1="10" y1="42.5" x2="95" y2="42.5" stroke="#e5e7eb" stroke-width="0.25"/><text x="5" y="32.5">ูกูก</text><line x1="10" y1="31.25" x2="95" y2="31.25" stroke="#e5e7eb" stroke-width="0.25"/><text x="5" y="21.5">ูกูข</text><line x1="10" y1="20" x2="95" y2="20" stroke="#e5e7eb" stroke-width="0.25"/></g>
                                        <g font-size="3.5" text-anchor="middle" fill="#6b7280"><text x="23.3" y="75">ูขูฆ</text><line x1="23.3" y1="5" x2="23.3" y2="70" stroke="#e5e7eb" stroke-width="0.25"/><text x="46.6" y="75">ูขูจ</text><line x1="46.6" y1="5" x2="46.6" y2="70" stroke="#e5e7eb" stroke-width="0.25"/><text x="69.9" y="75">ูฃู</text><line x1="69.9" y1="5" x2="69.9" y2="70" stroke="#e5e7eb" stroke-width="0.25"/><text x="93.2" y="75">ูฃูข</text><line x1="93.2" y1="5" x2="93.2" y2="70" stroke="#e5e7eb" stroke-width="0.25"/></g>
                                        <line id="nc-line-1" class="animated-element" x1="23.3" y1="65" x2="46.6" y2="53.75" stroke="#f97316" stroke-width="1"/><line id="nc-line-2" class="animated-element" x1="46.6" y1="53.75" x2="69.9" y2="31.25" stroke="#f97316" stroke-width="1"/><line id="nc-line-3" class="animated-element" x1="69.9" y1="31.25" x2="93.2" y2="20" stroke="#f97316" stroke-width="1"/>
                                        <circle cx="23.3" cy="65" r="1.2" fill="#f97316" /><circle cx="46.6" cy="53.75" r="1.2" fill="#f97316" /><circle cx="69.9" cy="31.25" r="1.2" fill="#f97316" /><circle cx="93.2" cy="20" r="1.2" fill="#f97316" />
                                        <g id="nc-anim-group-1" class="animated-element" opacity="0"><line x1="46.6" y1="65" x2="46.6" y2="53.75" stroke="#dc2626" stroke-width="0.5" stroke-dasharray="1 1"/><line x1="23.3" y1="65" x2="46.6" y2="65" stroke="#16a34a" stroke-width="0.5" stroke-dasharray="1 1"/><text x="48" y="60" font-size="4" fill="#dc2626">+ูก</text><text x="35" y="68" font-size="4" fill="#16a34a" text-anchor="middle">+ูข</text></g>
                                        <g id="nc-anim-group-2" class="animated-element" opacity="0"><line x1="69.9" y1="53.75" x2="69.9" y2="31.25" stroke="#dc2626" stroke-width="0.5" stroke-dasharray="1 1"/><line x1="46.6" y1="53.75" x2="69.9" y2="53.75" stroke="#16a34a" stroke-width="0.5" stroke-dasharray="1 1"/><text x="71.3" y="42.5" font-size="4" fill="#dc2626">+ูข</text><text x="58.25" y="57" font-size="4" fill="#16a34a" text-anchor="middle">+ูข</text></g>
                                        <g id="nc-anim-group-3" class="animated-element" opacity="0"><line x1="93.2" y1="31.25" x2="93.2" y2="20" stroke="#dc2626" stroke-width="0.5" stroke-dasharray="1 1"/><line x1="69.9" y1="31.25" x2="93.2" y2="31.25" stroke="#16a34a" stroke-width="0.5" stroke-dasharray="1 1"/><text x="94.5" y="26" font-size="4" fill="#dc2626">+ูก</text><text x="81.55" y="34.5" font-size="4" fill="#16a34a" text-anchor="middle">+ูข</text></g>
                                    </svg>
                                    <div id="animation-explanation-non-constant" class="mt-4 p-4 bg-white rounded-lg border text-right min-h-[150px]"></div>
                                    <div class="mt-4 flex justify-between items-center"><button id="slope-anim-back-non-constant" class="nav-btn bg-gray-500 text-white font-medium py-2 px-6 rounded-lg hover:bg-gray-600">ุฑุฌูุน</button><span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="step-counter-non-constant">0</span> / 7</span><button id="slope-anim-next-non-constant" class="nav-btn bg-orange-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-orange-700">ุงูุชุงูู</button></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ ุฑุงุจุนุงู: ุชุทุจููุงุช ุนูู ุงูููู</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-8">
                        <div>
                            <h3 class="text-xl font-bold text-gray-700 mb-4">ุฃูุซูุฉ ุชูุงุนููุฉ: ุฅูุฌุงุฏ ุงูููู ุจูุนููููุฉ ููุทุชูู</h3>
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                <div class="bg-white p-4 rounded-lg border space-y-2">
                                    <p><strong>ูุซุงู ูก:</strong> ุฃูุฌุฏ ููู ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ุณ<sub class="text-sm">ูก</sub>, ุต<sub class="text-sm">ูก</sub>) = (<span class="highlight-x">ูข</span>ุ <span class="highlight-y">ูก</span>) ู (ุณ<sub class="text-sm">ูข</sub>, ุต<sub class="text-sm">ูข</sub>) = (<span class="highlight-x">ูฅ</span>ุ <span class="highlight-y">ูง</span>).</p>
                                    <div class="bg-gray-50 p-4 rounded-lg border min-h-[150px]"><div id="slope-ex1-explanation" class="text-right text-xl"></div></div>
                                    <div class="mt-4 flex justify-between items-center"><button id="slope-ex1-back" class="nav-btn bg-gray-500 text-white font-medium py-2 px-6 rounded-lg hover:bg-gray-600">ุฑุฌูุน</button><span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="slope-ex1-step-counter">0</span> / 4</span><button id="slope-ex1-next" class="nav-btn bg-blue-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-blue-700">ุงูุชุงูู</button></div>
                                </div>
                                <div class="bg-white p-4 rounded-lg border space-y-2">
                                    <p><strong>ูุซุงู ูข:</strong> ุฃูุฌุฏ ููู ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ุณ<sub class="text-sm">ูก</sub>, ุต<sub class="text-sm">ูก</sub>) = (<span class="highlight-x">-ูฃ</span>ุ <span class="highlight-y">ูค</span>) ู (ุณ<sub class="text-sm">ูข</sub>, ุต<sub class="text-sm">ูข</sub>) = (<span class="highlight-x">ูก</span>ุ <span class="highlight-y">-ูข</span>).</p>
                                    <div class="bg-gray-50 p-4 rounded-lg border min-h-[150px]"><div id="slope-ex2-explanation" class="text-right text-xl"></div></div>
                                    <div class="mt-4 flex justify-between items-center"><button id="slope-ex2-back" class="nav-btn bg-gray-500 text-white font-medium py-2 px-6 rounded-lg hover:bg-gray-600">ุฑุฌูุน</button><span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="slope-ex2-step-counter">0</span> / 4</span><button id="slope-ex2-next" class="nav-btn bg-blue-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-blue-700">ุงูุชุงูู</button></div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-700 mb-4">ุชุฏุฑูุจ ุชูุงุนูู: ุฅูุฌุงุฏ ุงูุฅุญุฏุงุซู ุงููุฌููู</h3>
                            <div class="space-y-4">
                                <p class="text-lg"><strong>ุงููุณุฃูุฉ:</strong> ุฃูุฌุฏ ูููุฉ (ุฑ) ุงูุชู ุชุฌุนู ููู ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ุณ<sub class="text-sm">ูก</sub>, ุต<sub class="text-sm">ูก</sub>) = (<span class="highlight-x">ูก</span>ุ <span class="highlight-y">ูค</span>) ู (ุณ<sub class="text-sm">ูข</sub>, ุต<sub class="text-sm">ูข</sub>) = (<span class="highlight-x">-ูฅ</span>ุ <span class="highlight-y">ุฑ</span>) ูุณุงูู <span class="math-eq"><span class="fraction"><span>ูก</span><span>ูฃ</span></span></span>.</p>
                                <div class="bg-white p-4 rounded-lg border min-h-[200px]"><div id="interactive-solver-explanation" class="text-right text-xl"></div></div>
                                <div class="mt-4 flex justify-between items-center"><button id="solver-back" class="nav-btn bg-gray-500 text-white font-medium py-2 px-6 rounded-lg hover:bg-gray-600">ุฑุฌูุน</button><span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="solver-step-counter">0</span> / 7</span><button id="solver-next" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-indigo-700">ุงูุชุงูู</button></div>
                            </div>
                        </div>
                    </div>
                </section>
                <script>
                    (function() {
                        if (document.getElementById('lesson-2-5-script-executed')) return;
                        const lessonScriptTag = document.createElement('div');
                        lessonScriptTag.id = 'lesson-2-5-script-executed';
                        document.body.appendChild(lessonScriptTag);

                        const fractionHTML = (num, den) => \`<span class="fraction"><span>\${num}</span><span>\${den}</span></span>\`;
                        
                        const slopeSummarySVG = \`
                            <div class="p-2 bg-white rounded-lg border"><svg viewBox="0 0 20 20" class="w-full h-24"><line x1="1" y1="10" x2="19" y2="10" stroke="#9ca3af" stroke-width="0.5"/><line x1="10" y1="1" x2="10" y2="19" stroke="#9ca3af" stroke-width="0.5"/><line x1="1" y1="15" x2="9" y2="5" stroke="#2563eb" stroke-width="1.2"/></svg><p class="font-bold mt-1 text-sm">ููู ููุฌุจ</p></div>
                            <div class="p-2 bg-white rounded-lg border"><svg viewBox="0 0 20 20" class="w-full h-24"><line x1="1" y1="10" x2="19" y2="10" stroke="#9ca3af" stroke-width="0.5"/><line x1="10" y1="1" x2="10" y2="19" stroke="#9ca3af" stroke-width="0.5"/><line x1="1" y1="5" x2="9" y2="15" stroke="#dc2626" stroke-width="1.2"/></svg><p class="font-bold mt-1 text-sm">ููู ุณุงูุจ</p></div>
                            <div class="p-2 bg-white rounded-lg border"><svg viewBox="0 0 20 20" class="w-full h-24"><line x1="1" y1="10" x2="19" y2="10" stroke="#9ca3af" stroke-width="0.5"/><line x1="10" y1="1" x2="10" y2="19" stroke="#9ca3af" stroke-width="0.5"/><line x1="2" y1="5" x2="18" y2="5" stroke="#16a34a" stroke-width="1.2"/></svg><p class="font-bold mt-1 text-sm">ููู ุตูุฑ</p></div>
                            <div class="p-2 bg-white rounded-lg border"><svg viewBox="0 0 20 20" class="w-full h-24"><line x1="1" y1="10" x2="19" y2="10" stroke="#9ca3af" stroke-width="0.5"/><line x1="10" y1="1" x2="10" y2="19" stroke="#9ca3af" stroke-width="0.5"/><line x1="15" y1="2" x2="15" y2="18" stroke="#ca8a04" stroke-width="1.2"/></svg><p class="font-bold mt-1 text-sm">ููู ุบูุฑ ูุนุฑู</p></div>
                        \`;
                        
                        function createInteractiveSection(config) {
                            let currentStep = 0;
                            const renderStep = (step) => {
                                config.stepCounter.textContent = step;
                                let cumulativeHTML = '';
                                if (step === 0) {
                                    cumulativeHTML = config.stepsContent[0].text;
                                } else {
                                    for (let i = 1; i <= step; i++) {
                                        cumulativeHTML += \`<div class="explanation-step">\${config.stepsContent[i].text}</div>\`;
                                    }
                                }
                                config.explanationDiv.innerHTML = cumulativeHTML;
                                if (config.customRender) config.customRender(step);
                                config.backBtn.disabled = (step === 0);
                                config.nextBtn.textContent = (step === config.totalSteps) ? 'ุฅุนุงุฏุฉ' : 'ุงูุชุงูู';
                            };
                            config.nextBtn.addEventListener('click', () => {
                                currentStep = (currentStep < config.totalSteps) ? currentStep + 1 : 0;
                                renderStep(currentStep);
                            });
                            config.backBtn.addEventListener('click', () => {
                                if (currentStep > 0) { currentStep--; renderStep(currentStep); }
                            });
                            renderStep(0);
                        }

                        createInteractiveSection({
                            nextBtn: document.getElementById('table-const-next'), backBtn: document.getElementById('table-const-back'), stepCounter: document.getElementById('table-const-step-counter'), explanationDiv: document.getElementById('table-const-explanation'), totalSteps: 4,
                            stepsContent: [
                                { text: "ุงุถุบุท 'ุงูุชุงูู' ููุชุญูู ุฅุฐุง ูุงู ูุนุฏู ุงูุชุบูุฑ ุซุงุจุชูุง." },
                                { text: \`<strong>1. ูุญุณุจ ุงููุนุฏู ุจูู ุงูููุทุชูู ุงูุฃููู ูุงูุซุงููุฉ:</strong><br><div class="math-eq text-center mt-2">\${fractionHTML('ุงูุชุบูุฑ ูู ุต', 'ุงูุชุบูุฑ ูู ุณ')} = \${fractionHTML('ูกู', 'ูฃู')} = \${fractionHTML('ูก', 'ูฃ')}</div>\` },
                                { text: \`<strong>2. ูุญุณุจ ุงููุนุฏู ุจูู ุงูููุทุชูู ุงูุซุงููุฉ ูุงูุซุงูุซุฉ:</strong><br><div class="math-eq text-center mt-2">\${fractionHTML('ุงูุชุบูุฑ ูู ุต', 'ุงูุชุบูุฑ ูู ุณ')} = \${fractionHTML('ูกู', 'ูฃู')} = \${fractionHTML('ูก', 'ูฃ')}</div>\` },
                                { text: \`<strong>3. ุงูููุงุฑูุฉ:</strong><br>ุงููุนุฏู ูู ุงูุญุงูุชูู = <span class="math-eq">\${fractionHTML('ูก','ูฃ')}</span>.\`},
                                { text: \`<strong>ุงูุงุณุชูุชุงุฌ:</strong><br>ุจูุง ุฃู ุงููุนุฏู ูุชุณุงููุ ูุฅู <span class="font-bold text-green-600">ูุนุฏู ุงูุชุบูุฑ ุซุงุจุช</span>.\`}
                            ],
                            customRender: (step) => {
                                document.getElementById('table-const-vis-1a').style.opacity = step >= 1 ? '1' : '0';
                                document.getElementById('table-const-vis-1b').style.opacity = step >= 1 ? '1' : '0';
                                document.getElementById('table-const-vis-2a').style.opacity = step >= 2 ? '1' : '0';
                                document.getElementById('table-const-vis-2b').style.opacity = step >= 2 ? '1' : '0';
                                document.getElementById('table-const-row-1').classList.toggle('bg-blue-100', step === 1);
                                document.getElementById('table-const-row-2').classList.toggle('bg-blue-100', step === 1 || step === 2);
                                document.getElementById('table-const-row-3').classList.toggle('bg-blue-100', step === 2);
                            }
                        });

                        createInteractiveSection({
                            nextBtn: document.getElementById('table-nonconst-next'), backBtn: document.getElementById('table-nonconst-back'), stepCounter: document.getElementById('table-nonconst-step-counter'), explanationDiv: document.getElementById('table-nonconst-explanation'), totalSteps: 4,
                            stepsContent: [
                                { text: "ุงุถุบุท 'ุงูุชุงูู' ููุชุญูู ุฅุฐุง ูุงู ูุนุฏู ุงูุชุบูุฑ ุซุงุจุชูุง." },
                                { text: \`<strong>1. ูุญุณุจ ุงููุนุฏู ุจูู ุงูููู ุงูุฃูู ูุงูุฎุงูุณ:</strong><br><div class="math-eq text-center mt-2">\${fractionHTML('ุงูุชุบูุฑ ูู ุต', 'ุงูุชุบูุฑ ูู ุณ')} = \${fractionHTML('ูขูู', 'ูค')} = ูฅู</div>\` },
                                { text: \`<strong>2. ูุญุณุจ ุงููุนุฏู ุจูู ุงูููู ุงูุฎุงูุณ ูุงูุณุงุจุน:</strong><br><div class="math-eq text-center mt-2">\${fractionHTML('ุงูุชุบูุฑ ูู ุต', 'ุงูุชุบูุฑ ูู ุณ')} = \${fractionHTML('ูคูู', 'ูข')} = ูขูู</div>\` },
                                { text: \`<strong>3. ุงูููุงุฑูุฉ:</strong><br>ุงููุนุฏู ุงูุฃูู <span class="math-eq">ูฅู</span> ูุง ูุณุงูู ุงููุนุฏู ุงูุซุงูู <span class="math-eq">ูขูู</span>.\`},
                                { text: \`<strong>ุงูุงุณุชูุชุงุฌ:</strong><br>ุจูุง ุฃู ุงููุนุฏู ูุฎุชููุ ูุฅู <span class="font-bold text-red-600">ูุนุฏู ุงูุชุบูุฑ ุบูุฑ ุซุงุจุช</span>.\`}
                            ],
                            customRender: (step) => {
                                document.getElementById('table-nonconst-vis-1a').style.opacity = step >= 1 ? '1' : '0';
                                document.getElementById('table-nonconst-vis-1b').style.opacity = step >= 1 ? '1' : '0';
                                document.getElementById('table-nonconst-vis-2a').style.opacity = step >= 2 ? '1' : '0';
                                document.getElementById('table-nonconst-vis-2b').style.opacity = step >= 2 ? '1' : '0';
                                document.getElementById('table-nonconst-row-1').classList.toggle('bg-orange-100', step === 1);
                                document.getElementById('table-nonconst-row-2').classList.toggle('bg-orange-100', step === 1 || step === 2);
                                document.getElementById('table-nonconst-row-3').classList.toggle('bg-orange-100', step === 2);
                            }
                        });

                        createInteractiveSection({
                            nextBtn: document.getElementById('slope-anim-next-constant'), backBtn: document.getElementById('slope-anim-back-constant'), stepCounter: document.getElementById('step-counter-constant'), explanationDiv: document.getElementById('animation-explanation-constant'), totalSteps: 3,
                            stepsContent: [
                                { text: "ุงุถุบุท ุนูู 'ุงูุชุงูู' ูุจุฏุก ุงูุดุฑุญ ุฎุทูุฉ ุจุฎุทูุฉ." },
                                { text: "<strong>1. ูุฌุฏ ุงูุชุบูุฑ ุงูุฑุฃุณู (ุงูุงุฑุชูุงุน):</strong> ุฃุฑุจุน ุฎุทูุงุช ููุฃุณูู (-ูค)." },
                                { text: "<strong>2. ูุฌุฏ ุงูุชุบูุฑ ุงูุฃููู (ุงูุงูุชุฏุงุฏ):</strong> ุฃุฑุจุน ุฎุทูุงุช ูููููู (+ูค)." },
                                { text: \`<strong>3. ูุญุณุจ ุงูููู:</strong><br><div class="p-2 bg-blue-100 rounded-md text-blue-800 text-lg mt-2">ุงูููู = \${fractionHTML('ุงูุงุฑุชูุงุน','ุงูุงูุชุฏุงุฏ')} = \${fractionHTML('-ูค','ูค')} = -ูก</div>\` }
                            ],
                            customRender: (step) => {
                                document.getElementById('anim-const-step-1').style.opacity = step >= 1 ? '1' : '0';
                                document.getElementById('anim-const-step-2').style.opacity = step >= 1 ? '1' : '0';
                                document.getElementById('anim-const-step-3').style.opacity = step >= 2 ? '1' : '0';
                                document.getElementById('anim-const-step-4').style.opacity = step >= 2 ? '1' : '0';
                            }
                        });

                        createInteractiveSection({
                            nextBtn: document.getElementById('slope-anim-next-non-constant'), backBtn: document.getElementById('slope-anim-back-non-constant'), stepCounter: document.getElementById('step-counter-non-constant'), explanationDiv: document.getElementById('animation-explanation-non-constant'), totalSteps: 7,
                            stepsContent: [
                                { text: "ุงุถุบุท 'ุงูุชุงูู' ูุชุญููู ูุนุฏู ุงูุชุบูุฑ ููู ูุชุฑุฉ." },
                                { text: \`<strong>ุงููุชุฑุฉ ุงูุฃููู (ุจูู ุนุงูู ูขูฆ ู ูขูจ):</strong><br>ูุธูุฑ ุงูุฑุณู ุงูุชุฏุงุฏูุง ุจููุฏุงุฑ ูข ู ุงุฑุชูุงุนูุง ุจููุฏุงุฑ ูก.\` },
                                { text: \`ูุนุฏู ุงูุชุบูุฑ = <div class="math-eq inline-block">\${fractionHTML('ูก','ูข')}</div>\` },
                                { text: \`<strong>ุงููุชุฑุฉ ุงูุซุงููุฉ (ุจูู ุนุงูู ูขูจ ู ูฃู):</strong><br>ูุธูุฑ ุงูุฑุณู ุงูุชุฏุงุฏูุง ุจููุฏุงุฑ ูข ู ุงุฑุชูุงุนูุง ุจููุฏุงุฑ ูข.\` },
                                { text: \`ูุนุฏู ุงูุชุบูุฑ = <div class="math-eq inline-block">\${fractionHTML('ูข','ูข')} = ูก</div>\` },
                                { text: \`<strong>ุงููุชุฑุฉ ุงูุซุงูุซุฉ (ุจูู ุนุงูู ูฃู ู ูฃูข):</strong><br>ูุธูุฑ ุงูุฑุณู ุงูุชุฏุงุฏูุง ุจููุฏุงุฑ ูข ู ุงุฑุชูุงุนูุง ุจููุฏุงุฑ ูก.\` },
                                { text: \`ูุนุฏู ุงูุชุบูุฑ = <div class="math-eq inline-block">\${fractionHTML('ูก','ูข')}</div>\` },
                                { text: \`<strong>ุงูุงุณุชูุชุงุฌ:</strong><br>ุจูุง ุฃู ุงููุนุฏูุงุช (\${fractionHTML('ูก','ูข')}ุ ูกุ \${fractionHTML('ูก','ูข')}) ูุฎุชููุฉุ ูุฅู <span class="font-bold text-red-600">ูุนุฏู ุงูุชุบูุฑ ุบูุฑ ุซุงุจุช</span>.\` }
                            ],
                            customRender: (step) => {
                                const anim1 = document.getElementById('nc-anim-group-1'); const anim2 = document.getElementById('nc-anim-group-2'); const anim3 = document.getElementById('nc-anim-group-3');
                                anim1.style.opacity = (step >= 1 && step < 3) ? '1' : '0';
                                anim2.style.opacity = (step >= 3 && step < 5) ? '1' : '0';
                                anim3.style.opacity = (step >= 5 && step < 7) ? '1' : '0';
                                document.getElementById('nc-line-1').style.stroke = (step >= 1 && step < 3) ? '#dc2626' : '#f97316';
                                document.getElementById('nc-line-2').style.stroke = (step >= 3 && step < 5) ? '#dc2626' : '#f97316';
                                document.getElementById('nc-line-3').style.stroke = (step >= 5 && step < 7) ? '#dc2626' : '#f97316';
                            }
                        });

                        createInteractiveSection({
                            nextBtn: document.getElementById('slope-ex1-next'), backBtn: document.getElementById('slope-ex1-back'), stepCounter: document.getElementById('slope-ex1-step-counter'), explanationDiv: document.getElementById('slope-ex1-explanation'), totalSteps: 4,
                            stepsContent: [
                                { text: "ุงุถุบุท 'ุงูุชุงูู' ูุจุฏุก ุงูุญู." },
                                { text: \`<strong>1. ูุชุงุจุฉ ุตูุบุฉ ุงูููู:</strong><br><div class="math-eq text-center mt-2">ู = \${fractionHTML('ุตโ - ุตโ', 'ุณโ - ุณโ')}</div>\` },
                                { text: \`<strong>2. ุงูุชุนููุถ ูู ุงูุตูุบุฉ:</strong><br><div class="math-eq text-center mt-2">ู = \${fractionHTML('<span class="highlight-y">ูง</span> - <span class="highlight-y">ูก</span>', '<span class="highlight-x">ูฅ</span> - <span class="highlight-x">ูข</span>')}</div>\` },
                                { text: \`<strong>3. ุชุจุณูุท ุงููุณุฑ:</strong><br><div class="math-eq text-center mt-2">ู = \${fractionHTML('ูฆ', 'ูฃ')}</div>\` },
                                { text: \`<strong>4. ุงูุญู ุงูููุงุฆู:</strong><br><div class="p-2 bg-green-100 rounded-md inline-block mt-2"><span class="math-eq text-green-700">ู = ูข</span></div>\` }
                            ],
                            customRender: () => {}
                        });

                        createInteractiveSection({
                            nextBtn: document.getElementById('slope-ex2-next'), backBtn: document.getElementById('slope-ex2-back'), stepCounter: document.getElementById('slope-ex2-step-counter'), explanationDiv: document.getElementById('slope-ex2-explanation'), totalSteps: 4,
                            stepsContent: [
                                { text: "ุงุถุบุท 'ุงูุชุงูู' ูุจุฏุก ุงูุญู." },
                                { text: \`<strong>1. ูุชุงุจุฉ ุตูุบุฉ ุงูููู:</strong><br><div class="math-eq text-center mt-2">ู = \${fractionHTML('ุตโ - ุตโ', 'ุณโ - ุณโ')}</div>\` },
                                { text: \`<strong>2. ุงูุชุนููุถ ูู ุงูุตูุบุฉ:</strong><br><div class="math-eq text-center mt-2">ู = \${fractionHTML('<span class="highlight-y">-ูข</span> - <span class="highlight-y">ูค</span>', '<span class="highlight-x">ูก</span> - (<span class="highlight-x">-ูฃ</span>)')}</div>\` },
                                { text: \`<strong>3. ุชุจุณูุท ุงููุณุฑ:</strong><br><div class="math-eq text-center mt-2">ู = \${fractionHTML('-ูฆ', 'ูค')}</div>\` },
                                { text: \`<strong>4. ุงูุญู ุงูููุงุฆู:</strong><br><div class="p-2 bg-green-100 rounded-md inline-block mt-2"><span class="math-eq text-green-700">ู = -\${fractionHTML('ูฃ', 'ูข')}</span></div>\` }
                            ],
                            customRender: () => {}
                        });

                        createInteractiveSection({
                            nextBtn: document.getElementById('solver-next'), backBtn: document.getElementById('solver-back'), stepCounter: document.getElementById('solver-step-counter'), explanationDiv: document.getElementById('interactive-solver-explanation'), totalSteps: 7,
                            stepsContent: [
                                { text: "ุงุถุบุท 'ุงูุชุงูู' ูุจุฏุก ุญู ุงููุณุฃูุฉ ุฎุทูุฉ ุจุฎุทูุฉ." },
                                { text: \`<strong>1. ูุชุงุจุฉ ุตูุบุฉ ุงูููู:</strong><br><div class="math-eq text-center mt-2">ู = \${fractionHTML('ุต<sub class="text-sm">ูข</sub> - ุต<sub class="text-sm">ูก</sub>', 'ุณ<sub class="text-sm">ูข</sub> - ุณ<sub class="text-sm">ูก</sub>')}</div>\` },
                                { text: \`<strong>2. ุงูุชุนููุถ ุจุงูููู:</strong><br><div class="math-eq text-center mt-2">\${fractionHTML('ูก','ูฃ')} = \${fractionHTML('<span class="highlight-y">ุฑ</span> - <span class="highlight-y">ูค</span>','<span class="highlight-x">-ูฅ</span> - <span class="highlight-x">ูก</span>')}</div>\` },
                                { text: \`<strong>3. ุชุจุณูุท ุงูููุงู:</strong><br><div class="math-eq text-center mt-2">\${fractionHTML('ูก','ูฃ')} = \${fractionHTML('ุฑ - ูค','-ูฆ')}</div>\` },
                                { text: \`<strong>4. ุงูุถุฑุจ ุงูุชุจุงุฏูู:</strong><br><div class="math-eq text-center mt-2">ูก ร (-ูฆ) = ูฃ ร (ุฑ - ูค)</div>\` },
                                { text: \`<strong>5. ุชุจุณูุท ุงููุนุงุฏูุฉ:</strong><br><div class="math-eq text-center mt-2">-ูฆ = ูฃุฑ - ูกูข</div>\` },
                                { text: \`<strong>6. ุญู ุงููุนุงุฏูุฉ (ุฌูุน ูกูข ููุทุฑููู):</strong><br><div class="math-eq text-center mt-2">ูฆ = ูฃุฑ</div>\` },
                                { text: \`<strong>7. ุงูุญู ุงูููุงุฆู (ุงููุณูุฉ ุนูู ูฃ):</strong><br><div class="p-2 bg-green-100 rounded-md inline-block mt-2"><span class="math-eq text-green-700">ุฑ = ูข</span></div>\` }
                            ],
                            customRender: () => {}
                        });
                        
                        const slopeSummaryContainer = document.getElementById('slope-summary-container');
                        if(slopeSummaryContainer) {
                            slopeSummaryContainer.innerHTML = slopeSummarySVG;
                        }
                    })();
                <\/script>
            `, 
            generateQuiz: () => {
                const fractionHTML = (num, den) => `<span class="fraction"><span>${num}</span><span>${den}</span></span>`;
                const questionBank = [
                    { type: 'mcq', level: 'โญ', topic: 'concept', text: 'ูุงุฐุง ูุตู ูุนุฏู ุงูุชุบูุฑุ', options: [ { display: 'ููุทุฉ ุจุฏุงูุฉ ุงูุฏุงูุฉ', value: 'A' }, { display: 'ููู ุชุชุบูุฑ ูููุฉ ูุง ุจุงููุณุจุฉ ูุฃุฎุฑู', value: 'B' }, { display: 'ุฃุนูู ูููุฉ ุชุตู ุฅูููุง ุงูุฏุงูุฉ', value: 'C' }, { display: 'ุทูู ุงูุฎุท ุงููุณุชููู', value: 'D' } ], correct: 'B', explanation: '<p>ูุนุฏู ุงูุชุบูุฑ ูู ูุณุจุฉ ุชูุงุฑู ููุฏุงุฑ ุงูุชุบูุฑ ูู ูููุฉ (ูุซู ุงููุณุงูุฉ) ุจููุฏุงุฑ ุงูุชุบูุฑ ูู ูููุฉ ุฃุฎุฑู (ูุซู ุงูุฒูู).</p>' },
                    { type: 'mcq', level: 'โญ', topic: 'concept', text: 'ูู ุฏุงูุฉ ุฎุทูุฉุ ุงุณู ุขุฎุฑ ููุนุฏู ุงูุชุบูุฑ ูู:', options: [ { display: 'ุงูููุทุน ุงูุณููู', value: 'A' }, { display: 'ุงูููู', value: 'B' }, { display: 'ููุทุฉ ุงูุฃุตู', value: 'C' }, { display: 'ุงููุฌุงู', value: 'D' } ], correct: 'B', explanation: '<p>ุงูููู ูู ุงูุงุณู ุงูุฐู ูุทูู ุนูู ูุนุฏู ุงูุชุบูุฑ ุงูุซุงุจุช ูู ุฃู ุฏุงูุฉ ุฎุทูุฉ.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'concept', text: 'ุนูุฏูุง ูุชุญุฑู ุงูุฎุท ุงููุณุชููู ููุฃุนูู ุนูุฏ ุงูุชุญุฑู ูู ุงููุณุงุฑ ุฅูู ุงูููููุ ูููู ูููู:', options: [ { display: 'ููุฌุจูุง', value: 'A' }, { display: 'ุณุงูุจูุง', value: 'B' }, { display: 'ุตูุฑูุง', value: 'C' }, { display: 'ุบูุฑ ูุนุฑู', value: 'D' } ], correct: 'A', explanation: '<p>ุงูููู ุงูููุฌุจ ูุนูู ุฃู ุงูุฎุท ูุชุฌู ุตุนูุฏูุง ุนูุฏ ุงููุธุฑ ุฅููู ูู ุงููุณุงุฑ ุฅูู ุงููููู.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'table-rate', text: 'ูู ุงูุฌุฏููุ ูู ูุนุฏู ุงูุชุบูุฑ ุซุงุจุชุ ูุฅุฐุง ูุงู ูุฐููุ ููุง ูููุชูุ', graph: `<div class="flex justify-center my-2"><table class="w-2/3 text-center border"> <thead class="bg-gray-200"><tr><th class="p-1 border">ุณ</th><th class="p-1 border">ุต</th></tr></thead> <tbody> <tr><td class="p-1 border">ูข</td><td class="p-1 border">ูฅ</td></tr> <tr><td class="p-1 border">ูค</td><td class="p-1 border">ูกู</td></tr> <tr><td class="p-1 border">ูฆ</td><td class="p-1 border">ูกูฅ</td></tr> </tbody></table></div>`, options: [ { display: `ูุนูุ ุซุงุจุช ููุณุงูู <span class="math-eq">${fractionHTML('5','2')}</span>`, value: 'A' }, { display: `ูุนูุ ุซุงุจุช ููุณุงูู <span class="math-eq">${fractionHTML('2','5')}</span>`, value: 'B' }, { display: 'ูุงุ ุบูุฑ ุซุงุจุช', value: 'C' }, { display: 'ูุนูุ ุซุงุจุช ููุณุงูู ูฅ', value: 'D' } ], correct: 'A', explanation: `<p>ุงููุนุฏู ุจูู ุงูููุทุชูู ุงูุฃููู ูุงูุซุงููุฉ ูู ${fractionHTML('ูกู - ูฅ','ูค - ูข')} = ${fractionHTML('ูฅ','ูข')}.<br>ุงููุนุฏู ุจูู ุงูููุทุชูู ุงูุซุงููุฉ ูุงูุซุงูุซุฉ ูู ${fractionHTML('ูกูฅ - ูกู','ูฆ - ูค')} = ${fractionHTML('ูฅ','ูข')}.<br>ุจูุง ุฃู ุงููุนุฏู ูุชุณุงููุ ููู ุซุงุจุช.</p>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'table-rate', text: 'ูู ุงูุฌุฏููุ ูู ูุนุฏู ุงูุชุบูุฑ ุซุงุจุชุ', graph: `<div class="flex justify-center my-2"><table class="w-2/3 text-center border"> <thead class="bg-gray-200"><tr><th class="p-1 border">ุณ</th><th class="p-1 border">ุต</th></tr></thead> <tbody> <tr><td class="p-1 border">ูก</td><td class="p-1 border">ูกู</td></tr> <tr><td class="p-1 border">ูข</td><td class="p-1 border">ูขู</td></tr> <tr><td class="p-1 border">ูค</td><td class="p-1 border">ูฅู</td></tr> </tbody></table></div>`, options: [ { display: 'ูุนูุ ุซุงุจุช ููุณุงูู ูกู', value: 'A' }, { display: 'ูุงุ ุบูุฑ ุซุงุจุช', value: 'B' }, { display: 'ูุนูุ ุซุงุจุช ููุณุงูู ูกูฅ', value: 'C' }, { display: 'ูุนูุ ุซุงุจุช ููุณุงูู ูกูข.ูฅ', value: 'D' } ], correct: 'B', explanation: `<p>ุงููุนุฏู ุจูู ุงูููุทุชูู ุงูุฃููู ูุงูุซุงููุฉ ูู ${fractionHTML('ูขู - ูกู','ูข - ูก')} = ูกู.<br>ุงููุนุฏู ุจูู ุงูููุทุชูู ุงูุซุงููุฉ ูุงูุซุงูุซุฉ ูู ${fractionHTML('ูฅู - ูขู','ูค - ูข')} = ${fractionHTML('ูฃู','ูข')} = ูกูฅ.<br>ุจูุง ุฃู ูกู โ ูกูฅุ ูุงููุนุฏู ุบูุฑ ุซุงุจุช.</p>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'graph-rate', text: 'ูู ุงูุฑุณู ุงูุจูุงููุ ูุง ูููุฉ ุงููููุ', graph: '<svg viewBox="-1 -1 7 7" class="w-full h-40 bg-white border rounded-lg mt-2"><path d="M 0,1 L 6,1 M 0,2 L 6,2 M 0,3 L 6,3 M 0,4 L 6,4 M 0,5 L 6,5 M 1,0 L 1,6 M 2,0 L 2,6 M 3,0 L 3,6 M 4,0 L 4,6 M 5,0 L 5,6" stroke="#e5e7eb" stroke-width="0.1" /><line x1="0" y1="6" x2="0" y2="0" stroke="#9ca3af" stroke-width="0.15" /><line x1="0" y1="6" x2="6" y2="6" stroke="#9ca3af" stroke-width="0.15" /><line x1="1" y1="5" x2="3" y2="1" stroke="#3b82f6" stroke-width="0.3" /><circle cx="1" cy="5" r="0.15" fill="#ef4444" /><circle cx="3" cy="1" r="0.15" fill="#ef4444" /></svg>', options: [ { display: 'ูข', value: 'A' }, { display: '-ูข', value: 'B' }, { display: 'ูุงุ ุบูุฑ ุซุงุจุช', value: 'C' }, { display: `-${fractionHTML('1','2')}`, value: 'D' } ], correct: 'B', explanation: `<p>ุงูุฎุท ููุฑ ุจุงูููุทุชูู (ูกุ ูฅ) ู (ูฃุ ูก).<br>ุงูููู = ${fractionHTML('ูก - ูฅ','ูฃ - ูก')} = ${fractionHTML('-ูค','ูข')} = -ูข.</p>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'two-point-calc', text: 'ุฃูุฌุฏ ููู ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ูข, ูฅ) ู (ูค, ูฉ).', options: [ { display: '<span class="math-eq">ูข</span>', value: 'A' }, { display: `<span class="math-eq">${fractionHTML('ูก','ูข')}</span>`, value: 'B' }, { display: '<span class="math-eq">-ูข</span>', value: 'C' }, { display: '<span class="math-eq">ูค</span>', value: 'D' } ], correct: 'A', explanation: `<p>ุงูููู = ${fractionHTML('ูฉ - ูฅ','ูค - ูข')} = ${fractionHTML('ูค','ูข')} = ูข.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'two-point-calc', text: 'ุฃูุฌุฏ ููู ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (-ูก, ูฃ) ู (ูข, -ูฃ).', options: [ { display: '<span class="math-eq">ูข</span>', value: 'A' }, { display: '<span class="math-eq">ู</span>', value: 'B' }, { display: '<span class="math-eq">-ูข</span>', value: 'C' }, { display: '<span class="math-eq">ุบูุฑ ูุนุฑู</span>', value: 'D' } ], correct: 'C', explanation: `<p>ุงูููู = ${fractionHTML('-ูฃ - ูฃ','ูข - (-ูก)')} = ${fractionHTML('-ูฆ','ูฃ')} = -ูข.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'find-coordinate', text: 'ุฃูุฌุฏ ูููุฉ (ุฑ) ุงูุชู ุชุฌุนู ููู ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ูขุ ุฑ) ู (ูฅุ ูจ) ูุณุงูู ูข.', options: [ { display: 'ูข', value: 'A' }, { display: 'ูกูค', value: 'B' }, { display: 'ูค', value: 'C' }, { display: 'ูก', value: 'D' } ], correct: 'A', explanation: `<p>ูุณุชุฎุฏู ุตูุบุฉ ุงูููู: ูข = ${fractionHTML('ูจ - ุฑ', 'ูฅ - ูข')}.<br>ูข = ${fractionHTML('ูจ - ุฑ', 'ูฃ')}.<br>ูฆ = ูจ - ุฑ.<br>ุฅุฐูุงุ ุฑ = ูข.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'real-life', text: 'ุทุงุจุนุฉ ุชุทุจุน ูกูขู ุตูุญุฉ ูู ูค ุฏูุงุฆู. ูุง ูู ูุนุฏู ุชุบูุฑ ุนุฏุฏ ุงูุตูุญุงุช ุงููุทุจูุนุฉ ูู ุงูุฏูููุฉุ', options: [ { display: 'ูฃู ุตูุญุฉ/ุฏูููุฉ', value: 'A' }, { display: 'ูคูจู ุตูุญุฉ/ุฏูููุฉ', value: 'B' }, { display: 'ูคู ุตูุญุฉ/ุฏูููุฉ', value: 'C' }, { display: 'ูกูขู ุตูุญุฉ/ุฏูููุฉ', value: 'D' } ], correct: 'A', explanation: `<p>ูุนุฏู ุงูุชุบูุฑ = ${fractionHTML('ูกูขู ุตูุญุฉ','ูค ุฏูุงุฆู')} = ูฃู ุตูุญุฉ/ุฏูููุฉ.</p>` }
                ];
                const shuffledQuestions = [...questionBank].sort(() => Math.random() - 0.5);
                return shuffledQuestions.slice(0, 5);
            } },
        'c2_l6': { title: 'ุงูุฏุฑุณ ูข-ูฆ: ุงููุชุชุงุจุนุงุช ุงูุญุณุงุจูุฉ ูุฏูุงู ุฎุทูุฉ', content:  `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููุงููู ุงูุฃุณุงุณูุฉ</h2>
                    <div class="p-6 bg-blue-50 rounded-lg space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุงููุชุชุงุจุนุฉ ุงูุญุณุงุจูุฉ</h3>
                            <p>ุงูุชุนุจูุฑ ุงูููุธู: ุงููุชุชุงุจุนุฉ ุงูุญุณุงุจูุฉ ููุท ุนุฏุฏู ูุฒูุฏ ุฃู ูููุต ุจููุฏุงุฑ ุซุงุจุช ููุณูู <span class="vocab-term">ุฃุณุงุณ ุงููุชุชุงุจุนุฉ</span> (ุฏ).</p>
                            <div class="mt-4 space-y-4">
                                <div class="bg-white p-3 rounded-lg border">
                                    <p><strong>ูุซุงู (ุฒูุงุฏุฉ):</strong> ูฃุ ูฅุ ูงุ ูฉุ ูกูกุ ...</p>
                                    <p class="text-green-600 font-bold">ููุงุ ูู ุญุฏ ูุฒูุฏ ุจููุฏุงุฑ ูข ุนู ุงูุญุฏ ุงูุฐู ูุณุจูู. ุฅุฐูุ ุงูุฃุณุงุณ ุฏ = ูข.</p>
                                </div>
                                <div class="bg-white p-3 rounded-lg border">
                                    <p><strong>ูุซุงู (ููุตุงู):</strong> ูฃูฃุ ูขูฉุ ูขูฅุ ูขูกุ ูกูงุ ...</p>
                                    <p class="text-red-600 font-bold">ููุงุ ูู ุญุฏ ูููุต ุจููุฏุงุฑ ูค ุนู ุงูุญุฏ ุงูุฐู ูุณุจูู. ุฅุฐูุ ุงูุฃุณุงุณ ุฏ = -ูค.</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุงูุญุฏ ุงููููู ูู ูุชุชุงุจุนุฉ ุญุณุงุจูุฉ</h3>
                            <p>ููุนุจูุฑ ุนู ุงูุญุฏ ุงููููู (ุฃ<sub class="font-bold">ู</sub>) ููุชุชุงุจุนุฉ ุญุณุงุจูุฉ ุญุฏูุง ุงูุฃูู (ุฃ<sub class="font-bold">ูก</sub>)ุ ูุฃุณุงุณูุง (ุฏ) ุจุงูุตูุบุฉ ุงูุชุงููุฉุ ุญูุซ (ู) ุนุฏุฏ ุตุญูุญ ููุฌุจ.</p>
                            <div class="mt-4 p-4 bg-white rounded-lg border">
                                <p class="text-lg text-center font-bold">ุตูุบุฉ ุงูุญุฏ ุงููููู</p>
                                <p class="text-center my-2 p-3 bg-indigo-50 rounded-md text-xl math-eq">
                                    ุฃ<sub class="font-bold">ู</sub> = ุฃ<sub class="font-bold">ูก</sub> + (ู - ูก) ุฏ
                                </p>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงููุงู: ุชูููุฒ ุงููุชุชุงุจุนุงุช</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4">
                        <p>ูู ุงููุชุชุงุจุนุงุช ุงูุชุงููุฉ ุญุณุงุจูุฉ ุฃู ูุงุ ุงุชุจุน ุงูุฎุทูุงุช ุงูุชูุงุนููุฉ ููุนุฑูุฉ ุฐูู.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <!-- Example 1: Arithmetic -->
                            <div class="border p-4 rounded-lg bg-white">
                                <h3 class="font-bold text-center mb-2 text-lg">ูุซุงู 1: ูุชุชุงุจุนุฉ ุญุณุงุจูุฉ</h3>
                                <div class="text-center my-4">
                                    <span id="seq-box-1" class="sequence-box">ูฅ</span>
                                    <span id="diff-1" class="diff-arrow plus">&nbsp;</span>
                                    <span id="seq-box-2" class="sequence-box">ูกูก</span>
                                    <span id="diff-2" class="diff-arrow plus">&nbsp;</span>
                                    <span id="seq-box-3" class="sequence-box">ูกูง</span>
                                    <span id="diff-3" class="diff-arrow plus">&nbsp;</span>
                                    <span id="seq-box-4" class="sequence-box">ูขูฃ</span>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg border min-h-[150px]">
                                    <div id="identify-explanation-1" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="identify-anim-back-1" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="identify-step-counter-1">0</span> / 4</span>
                                    <button id="identify-anim-next-1" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                            <!-- Example 2: Not Arithmetic -->
                            <div class="border p-4 rounded-lg bg-white">
                                <h3 class="font-bold text-center mb-2 text-lg">ูุซุงู 2: ููุณุช ุญุณุงุจูุฉ</h3>
                                <div class="text-center my-4">
                                    <span id="seq-box-2-1" class="sequence-box">ูก</span>
                                    <span id="diff-2-1" class="diff-arrow plus">&nbsp;</span>
                                    <span id="seq-box-2-2" class="sequence-box">ูข</span>
                                    <span id="diff-2-2" class="diff-arrow plus">&nbsp;</span>
                                    <span id="seq-box-2-3" class="sequence-box">ูค</span>
                                    <span id="diff-2-3" class="diff-arrow plus">&nbsp;</span>
                                    <span id="seq-box-2-4" class="sequence-box">ูง</span>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg border min-h-[150px]">
                                    <div id="identify-explanation-2" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="identify-anim-back-2" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="identify-step-counter-2">0</span> / 4</span>
                                    <button id="identify-anim-next-2" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ ุซุงูุซุงู: ุฅูุฌุงุฏ ุงูุญุฏูุฏ ุงูุชุงููุฉ (ุชูุงุนูู)</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4">
                        <p>ุฃูุฌุฏ ุงูุญุฏูุฏ ุงูุชุงููุฉ ูู ุงููุชุชุงุจุนุงุช ุงูุญุณุงุจูุฉ ุงูุชุงููุฉ.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <!-- Example 1: Positive Difference -->
                            <div class="border p-4 rounded-lg bg-white">
                                <h3 class="font-bold text-center mb-2 text-lg">ูุซุงู 1: ุฃุณุงุณ ููุฌุจ</h3>
                                <div class="text-center my-4 flex justify-center items-center flex-wrap">
                                    <span id="next-term-box-1" class="sequence-box">ูข</span>
                                    <span id="next-term-diff-1" class="diff-arrow plus">&nbsp;</span>
                                    <span id="next-term-box-2" class="sequence-box">ูฅ</span>
                                    <span id="next-term-diff-2" class="diff-arrow plus">&nbsp;</span>
                                    <span id="next-term-box-3" class="sequence-box">ูจ</span>
                                    <span id="next-term-diff-3" class="diff-arrow plus">&nbsp;</span>
                                    <span id="next-term-box-4" class="sequence-box">ูกูก</span>
                                    <span id="next-term-diff-4" class="diff-arrow plus">&nbsp;</span>
                                    <span id="next-term-box-5" class="sequence-box text-gray-400">?</span>
                                    <span id="next-term-diff-5" class="diff-arrow plus">&nbsp;</span>
                                    <span id="next-term-box-6" class="sequence-box text-gray-400">?</span>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg border min-h-[120px]">
                                    <div id="next-term-explanation-1" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="next-term-back-1" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="next-term-counter-1">0</span> / 4</span>
                                    <button id="next-term-next-1" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                            <!-- Example 2: Negative Difference -->
                            <div class="border p-4 rounded-lg bg-white">
                                <h3 class="font-bold text-center mb-2 text-lg">ูุซุงู 2: ุฃุณุงุณ ุณุงูุจ</h3>
                                <div class="text-center my-4 flex justify-center items-center flex-wrap">
                                    <span id="next-term-2-box-1" class="sequence-box">ูขู</span>
                                    <span id="next-term-2-diff-1" class="diff-arrow minus">&nbsp;</span>
                                    <span id="next-term-2-box-2" class="sequence-box">ูกูฅ</span>
                                    <span id="next-term-2-diff-2" class="diff-arrow minus">&nbsp;</span>
                                    <span id="next-term-2-box-3" class="sequence-box">ูกู</span>
                                    <span id="next-term-2-diff-3" class="diff-arrow minus">&nbsp;</span>
                                    <span id="next-term-2-box-4" class="sequence-box">ูฅ</span>
                                    <span id="next-term-2-diff-4" class="diff-arrow minus">&nbsp;</span>
                                    <span id="next-term-2-box-5" class="sequence-box text-gray-400">?</span>
                                    <span id="next-term-2-diff-5" class="diff-arrow minus">&nbsp;</span>
                                    <span id="next-term-2-box-6" class="sequence-box text-gray-400">?</span>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg border min-h-[120px]">
                                    <div id="next-term-explanation-2" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="next-term-back-2" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="next-term-counter-2">0</span> / 4</span>
                                    <button id="next-term-next-2" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ ุฑุงุจุนุงู: ูุชุงุจุฉ ูุนุงุฏูุฉ ุงูุญุฏ ุงููููู (ุทุฑููุชุงู)</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4">
                        <p>ุงูุชุจ ูุนุงุฏูุฉ ุงูุญุฏ ุงููููู ูููุชุชุงุจุนุฉ ุงูุญุณุงุจูุฉ: ูฃุ ูกูุ ูกูงุ ูขูคุ ...</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <!-- Method 1: Formal Formula -->
                            <div class="border p-4 rounded-lg bg-white">
                                <h3 class="font-bold text-center mb-2 text-lg">ุงูุทุฑููุฉ ุงูุฑุณููุฉ (ุจุงูุตูุบุฉ)</h3>
                                <div class="bg-gray-50 p-4 rounded-lg border min-h-[280px]">
                                    <div id="nth-term-formal-explanation" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="nth-term-formal-back" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="nth-term-formal-counter">0</span> / 5</span>
                                    <button id="nth-term-formal-next" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                            <!-- Method 2: Mental Math -->
                            <div class="border p-4 rounded-lg bg-white">
                                <h3 class="font-bold text-center mb-2 text-lg">ุงูุทุฑููุฉ ุงูุฐูููุฉ (ุงูุณุฑูุนุฉ)</h3>
                                <div class="bg-gray-50 p-4 rounded-lg border min-h-[280px]">
                                    <div id="nth-term-mental-explanation" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="nth-term-mental-back" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="nth-term-mental-counter">0</span> / 3</span>
                                    <button id="nth-term-mental-next" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <script>
                (function() {
                    function createInteractiveSection(config) {
                        let currentStep = 0;
                        const renderStep = (step) => {
                            if(config.stepCounter) config.stepCounter.textContent = step;
                            let cumulativeHTML = '';
                            if (step === 0) {
                                cumulativeHTML = config.stepsContent[0].text;
                            } else {
                                for (let i = 1; i <= step; i++) {
                                    cumulativeHTML += '<div class="explanation-step">' + config.stepsContent[i].text + '</div>';
                                }
                            }
                            if(config.explanationDiv) config.explanationDiv.innerHTML = cumulativeHTML;
                            if (config.customRender) {
                                config.customRender(step);
                            }
                            if(config.backBtn) {
                                config.backBtn.disabled = (step === 0);
                                config.backBtn.classList.toggle('btn-disabled', config.backBtn.disabled);
                            }
                            if(config.nextBtn) config.nextBtn.textContent = (step === config.totalSteps) ? 'ุฅุนุงุฏุฉ' : 'ุงูุชุงูู';
                        };
                        
                        if(config.nextBtn) config.nextBtn.addEventListener('click', () => {
                            currentStep = (currentStep < config.totalSteps) ? currentStep + 1 : 0;
                            renderStep(currentStep);
                        });
                        
                        if(config.backBtn) config.backBtn.addEventListener('click', () => {
                            if (currentStep > 0) {
                                currentStep--;
                                renderStep(currentStep);
                            }
                        });
                        
                        renderStep(0);
                    }

                    // --- Interactive Section 2, Example 1 (Arithmetic) ---
                    createInteractiveSection({
                        nextBtn: document.getElementById('identify-anim-next-1'),
                        backBtn: document.getElementById('identify-anim-back-1'),
                        stepCounter: document.getElementById('identify-step-counter-1'),
                        explanationDiv: document.getElementById('identify-explanation-1'),
                        totalSteps: 4,
                        stepsContent: [
                            { text: "ูุชุญูู ูู ุฃู ุงููุฑู ุจูู ูู ุญุฏูู ูุชุชุงูููู ุซุงุจุช." },
                            { text: "<strong>1. ุงููุฑู ุจูู ุงูุญุฏ ุงูุซุงูู ูุงูุฃูู:</strong><br><span class='math-eq'>ูกูก - ูฅ = ูฆ</span>" },
                            { text: "<strong>2. ุงููุฑู ุจูู ุงูุญุฏ ุงูุซุงูุซ ูุงูุซุงูู:</strong><br><span class='math-eq'>ูกูง - ูกูก = ูฆ</span>" },
                            { text: "<strong>3. ุงููุฑู ุจูู ุงูุญุฏ ุงูุฑุงุจุน ูุงูุซุงูุซ:</strong><br><span class='math-eq'>ูขูฃ - ูกูง = ูฆ</span>" },
                            { text: '<strong>4. ุงููุชูุฌุฉ:</strong> ุจูุง ุฃู ุงููุฑู ุซุงุจุช ููุณุงูู ูฆุ ูุงููุชุชุงุจุนุฉ <span class="font-bold text-green-600">ุญุณุงุจูุฉ</span> ูุฃุณุงุณูุง (ุฏ) ูู ูฆ.' }
                        ],
                        customRender: (step) => {
                            for(let i=1; i<=3; i++) {
                                const diffEl = document.getElementById('diff-' + i);
                                if(diffEl) {
                                    diffEl.style.opacity = '0';
                                    diffEl.innerHTML = '&nbsp;';
                                }
                            }
                            for(let i=1; i<=4; i++) {
                                const seqBox = document.getElementById('seq-box-' + i);
                                if(seqBox) seqBox.classList.remove('bg-blue-100');
                            }
                            if (step >= 1) {
                                document.getElementById('seq-box-1').classList.add('bg-blue-100');
                                document.getElementById('seq-box-2').classList.add('bg-blue-100');
                                const diff1 = document.getElementById('diff-1');
                                diff1.innerHTML = '+ูฆ';
                                diff1.style.opacity = '1';
                            }
                            if (step >= 2) {
                                document.getElementById('seq-box-3').classList.add('bg-blue-100');
                                const diff2 = document.getElementById('diff-2');
                                diff2.innerHTML = '+ูฆ';
                                diff2.style.opacity = '1';
                            }
                            if (step >= 3) {
                                document.getElementById('seq-box-4').classList.add('bg-blue-100');
                                const diff3 = document.getElementById('diff-3');
                                diff3.innerHTML = '+ูฆ';
                                diff3.style.opacity = '1';
                            }
                        }
                    });
                    
                    // --- Interactive Section 2, Example 2 (Not Arithmetic) ---
                    createInteractiveSection({
                        nextBtn: document.getElementById('identify-anim-next-2'),
                        backBtn: document.getElementById('identify-anim-back-2'),
                        stepCounter: document.getElementById('identify-step-counter-2'),
                        explanationDiv: document.getElementById('identify-explanation-2'),
                        totalSteps: 4,
                        stepsContent: [
                            { text: "ูุชุญูู ูู ุฃู ุงููุฑู ุจูู ูู ุญุฏูู ูุชุชุงูููู ุซุงุจุช." },
                            { text: "<strong>1. ุงููุฑู ุจูู ุงูุญุฏ ุงูุซุงูู ูุงูุฃูู:</strong><br><span class='math-eq'>ูข - ูก = ูก</span>" },
                            { text: "<strong>2. ุงููุฑู ุจูู ุงูุญุฏ ุงูุซุงูุซ ูุงูุซุงูู:</strong><br><span class='math-eq'>ูค - ูข = ูข</span>" },
                            { text: "<strong>3. ุงููุฑู ุจูู ุงูุญุฏ ุงูุฑุงุจุน ูุงูุซุงูุซ:</strong><br><span class='math-eq'>ูง - ูค = ูฃ</span>" },
                            { text: '<strong>4. ุงููุชูุฌุฉ:</strong> ุจูุง ุฃู ุงููุฑู <span class="font-bold text-red-600">ุบูุฑ ุซุงุจุช</span>ุ ูุงููุชุชุงุจุนุฉ <span class="font-bold text-red-600">ููุณุช ุญุณุงุจูุฉ</span>.' }
                        ],
                        customRender: (step) => {
                            const diffs = ['+ูก', '+ูข', '+ูฃ'];
                            for(let i=1; i<=3; i++) {
                                const diffEl = document.getElementById('diff-2-' + i);
                                if(diffEl) {
                                    diffEl.style.opacity = '0';
                                    diffEl.innerHTML = '&nbsp;';
                                }
                            }
                            for(let i=1; i<=4; i++) {
                                const seqBox = document.getElementById('seq-box-2-' + i);
                                if(seqBox) seqBox.classList.remove('bg-blue-100');
                            }
                            if (step >= 1) {
                                document.getElementById('seq-box-2-1').classList.add('bg-blue-100');
                                document.getElementById('seq-box-2-2').classList.add('bg-blue-100');
                                const diff1 = document.getElementById('diff-2-1');
                                diff1.innerHTML = diffs[0];
                                diff1.style.opacity = '1';
                            }
                            if (step >= 2) {
                                document.getElementById('seq-box-2-3').classList.add('bg-blue-100');
                                const diff2 = document.getElementById('diff-2-2');
                                diff2.innerHTML = diffs[1];
                                diff2.style.opacity = '1';
                            }
                            if (step >= 3) {
                                document.getElementById('seq-box-2-4').classList.add('bg-blue-100');
                                const diff3 = document.getElementById('diff-2-3');
                                diff3.innerHTML = diffs[2];
                                diff3.style.opacity = '1';
                            }
                        }
                    });

                    // --- Interactive Section 3, Example 1 (Positive Difference) ---
                    createInteractiveSection({
                        nextBtn: document.getElementById('next-term-next-1'),
                        backBtn: document.getElementById('next-term-back-1'),
                        stepCounter: document.getElementById('next-term-counter-1'),
                        explanationDiv: document.getElementById('next-term-explanation-1'),
                        totalSteps: 4,
                        stepsContent: [
                            { text: "ููุชุดู ุงูููุท (ุงูุฃุณุงุณ) ุฃููุงู ุซู ูุทุจูู ูุฅูุฌุงุฏ ุงูุญุฏูุฏ ุงูุชุงููุฉ." },
                            { text: "<strong>1. ููุฌุฏ ุงููุฑู ุจูู ุงูุญุฏูู ุงูุฃูููู:</strong><br><span class='math-eq'>ูฅ - ูข = ูฃ</span>. ุงูุฃุณุงุณ ูู +ูฃ." },
                            { text: "<strong>2. ูุณุชุฎุฏู ุงูุฃุณุงุณ ูุฅูุฌุงุฏ ุงูุญุฏ ุงูุฎุงูุณ:</strong><br><span class='math-eq'>ูกูก + ูฃ = ูกูค</span>." },
                            { text: "<strong>3. ููุฑุฑ ุงูุนูููุฉ ูุฅูุฌุงุฏ ุงูุญุฏ ุงูุณุงุฏุณ:</strong><br><span class='math-eq'>ูกูค + ูฃ = ูกูง</span>." },
                            { text: "<strong>4. ุงูุญุฏูุฏ ุงูุชุงููุฉ ูู ูกูค ู ูกูง.</strong>" }
                        ],
                        customRender: (step) => {
                            for(let i = 1; i <= 5; i++) {
                                if(document.getElementById('next-term-diff-' + i)) document.getElementById('next-term-diff-' + i).style.opacity = '0';
                                if(document.getElementById('next-term-box-' + i)) document.getElementById('next-term-box-' + i).classList.remove('bg-blue-100', 'bg-green-100');
                            }
                            document.getElementById('next-term-box-5').textContent = '?';
                            document.getElementById('next-term-box-5').classList.add('text-gray-400');
                            document.getElementById('next-term-box-6').textContent = '?';
                            document.getElementById('next-term-box-6').classList.add('text-gray-400');

                            if (step >= 1) {
                                document.getElementById('next-term-box-1').classList.add('bg-blue-100');
                                document.getElementById('next-term-box-2').classList.add('bg-blue-100');
                                document.getElementById('next-term-diff-1').innerHTML = '+ูฃ';
                                document.getElementById('next-term-diff-1').style.opacity = '1';
                            }
                            if (step >= 2) {
                                  document.getElementById('next-term-box-4').classList.add('bg-blue-100');
                                  document.getElementById('next-term-diff-4').innerHTML = '+ูฃ';
                                  document.getElementById('next-term-diff-4').style.opacity = '1';
                                  const box5 = document.getElementById('next-term-box-5');
                                  box5.textContent = 'ูกูค';
                                  box5.classList.remove('text-gray-400');
                                  box5.classList.add('bg-green-100');
                            }
                            if (step >= 3) {
                                  document.getElementById('next-term-box-5').classList.add('bg-blue-100');
                                  document.getElementById('next-term-diff-5').innerHTML = '+ูฃ';
                                  document.getElementById('next-term-diff-5').style.opacity = '1';
                                  const box6 = document.getElementById('next-term-box-6');
                                  box6.textContent = 'ูกูง';
                                  box6.classList.remove('text-gray-400');
                                  box6.classList.add('bg-green-100');
                            }
                        }
                    });

                    // --- Interactive Section 3, Example 2 (Negative Difference) ---
                    createInteractiveSection({
                        nextBtn: document.getElementById('next-term-next-2'),
                        backBtn: document.getElementById('next-term-back-2'),
                        stepCounter: document.getElementById('next-term-counter-2'),
                        explanationDiv: document.getElementById('next-term-explanation-2'),
                        totalSteps: 4,
                        stepsContent: [
                            { text: "ููุชุดู ุงูููุท (ุงูุฃุณุงุณ) ุฃููุงู ุซู ูุทุจูู ูุฅูุฌุงุฏ ุงูุญุฏูุฏ ุงูุชุงููุฉ." },
                            { text: "<strong>1. ููุฌุฏ ุงููุฑู ุจูู ุงูุญุฏูู ุงูุฃูููู:</strong><br><span class='math-eq'>ูกูฅ - ูขู = -ูฅ</span>. ุงูุฃุณุงุณ ูู -ูฅ." },
                            { text: "<strong>2. ูุณุชุฎุฏู ุงูุฃุณุงุณ ูุฅูุฌุงุฏ ุงูุญุฏ ุงูุฎุงูุณ:</strong><br><span class='math-eq'>ูฅ + (-ูฅ) = ู</span>." },
                            { text: "<strong>3. ููุฑุฑ ุงูุนูููุฉ ูุฅูุฌุงุฏ ุงูุญุฏ ุงูุณุงุฏุณ:</strong><br><span class='math-eq'>ู + (-ูฅ) = -ูฅ</span>." },
                            { text: "<strong>4. ุงูุญุฏูุฏ ุงูุชุงููุฉ ูู ู ู -ูฅ.</strong>" }
                        ],
                        customRender: (step) => {
                            for(let i = 1; i <= 5; i++) {
                                if(document.getElementById('next-term-2-diff-' + i)) document.getElementById('next-term-2-diff-' + i).style.opacity = '0';
                                if(document.getElementById('next-term-2-box-' + i)) document.getElementById('next-term-2-box-' + i).classList.remove('bg-blue-100', 'bg-green-100');
                            }
                            document.getElementById('next-term-2-box-5').textContent = '?';
                            document.getElementById('next-term-2-box-5').classList.add('text-gray-400');
                            document.getElementById('next-term-2-box-6').textContent = '?';
                            document.getElementById('next-term-2-box-6').classList.add('text-gray-400');

                            if (step >= 1) {
                                document.getElementById('next-term-2-box-1').classList.add('bg-blue-100');
                                document.getElementById('next-term-2-box-2').classList.add('bg-blue-100');
                                document.getElementById('next-term-2-diff-1').innerHTML = '-ูฅ';
                                document.getElementById('next-term-2-diff-1').style.opacity = '1';
                            }
                            if (step >= 2) {
                                  document.getElementById('next-term-2-box-4').classList.add('bg-blue-100');
                                  document.getElementById('next-term-2-diff-4').innerHTML = '-ูฅ';
                                  document.getElementById('next-term-2-diff-4').style.opacity = '1';
                                  const box5 = document.getElementById('next-term-2-box-5');
                                  box5.textContent = 'ู';
                                  box5.classList.remove('text-gray-400');
                                  box5.classList.add('bg-green-100');
                            }
                            if (step >= 3) {
                                  document.getElementById('next-term-2-box-5').classList.add('bg-blue-100');
                                  document.getElementById('next-term-2-diff-5').innerHTML = '-ูฅ';
                                  document.getElementById('next-term-2-diff-5').style.opacity = '1';
                                  const box6 = document.getElementById('next-term-2-box-6');
                                  box6.textContent = '-ูฅ';
                                  box6.classList.remove('text-gray-400');
                                  box6.classList.add('bg-green-100');
                            }
                        }
                    });

                    // --- Interactive Section 4: Formal Method ---
                    createInteractiveSection({
                        nextBtn: document.getElementById('nth-term-formal-next'),
                        backBtn: document.getElementById('nth-term-formal-back'),
                        stepCounter: document.getElementById('nth-term-formal-counter'),
                        explanationDiv: document.getElementById('nth-term-formal-explanation'),
                        totalSteps: 5,
                        stepsContent: [
                            { text: "ูุณุชุฎุฏู ุงูุตูุบุฉ ุงูุนุงูุฉ ููุนูุถ ูููุง ุจุงูููู." },
                            { text: "<strong>1. ูุจุฏุฃ ุจุตูุบุฉ ุงูุญุฏ ุงููููู:</strong><br><span class='math-eq text-center mt-2 block'>ุฃ<sub class='font-bold'>ู</sub> = ุฃ<sub class='font-bold'>ูก</sub> + (ู - ูก) ุฏ</span>" },
                            { text: "<strong>2. ูุญุฏุฏ ุงูุญุฏ ุงูุฃูู (ุฃ<sub class='font-bold'>ูก</sub>) ูุงูุฃุณุงุณ (ุฏ):</strong><br>ุงูุญุฏ ุงูุฃูู <span class='math-eq'>ุฃ<sub class='font-bold'>ูก</sub> = ูฃ</span>.<br>ุงูุฃุณุงุณ <span class='math-eq'>ุฏ = ูกู - ูฃ = ูง</span>." },
                            { text: "<strong>3. ูุนูุถ ุจุงูููู ูู ุงูุตูุบุฉ:</strong><br><span class='math-eq text-center mt-2 block'>ุฃ<sub class='font-bold'>ู</sub> = <span class='text-red-600'>ูฃ</span> + (ู - ูก) ร <span class='text-green-600'>ูง</span></span>" },
                            { text: "<strong>4. ูุณุชุฎุฏู ุฎุงุตูุฉ ุงูุชูุฒูุน:</strong><br><span class='math-eq text-center mt-2 block'>ุฃ<sub class='font-bold'>ู</sub> = ูฃ + ูงู - ูง</span>" },
                            { text: "<strong>5. ูุฌูุน ุงูุญุฏูุฏ ุงููุชุดุงุจูุฉ:</strong><br><span class='math-eq text-center mt-2 block p-2 bg-green-100 rounded-md'>ุฃ<sub class='font-bold'>ู</sub> = ูงู - ูค</span>" }
                        ]
                    });

                    // --- Interactive Section 4: Mental Method ---
                    createInteractiveSection({
                        nextBtn: document.getElementById('nth-term-mental-next'),
                        backBtn: document.getElementById('nth-term-mental-back'),
                        stepCounter: document.getElementById('nth-term-mental-counter'),
                        explanationDiv: document.getElementById('nth-term-mental-explanation'),
                        totalSteps: 3,
                        stepsContent: [
                            { text: "ูุฐู ุทุฑููุฉ ุณุฑูุนุฉ ูุฅูุฌุงุฏ ุงููุนุงุฏูุฉ ูุจุงุดุฑุฉ." },
                            { text: "<strong>1. ููุฌุฏ ุงูุฃุณุงุณ (ุฏ):</strong><br><span class='math-eq'>ูกู - ูฃ = ูง</span>.<br>ุฅุฐูุ ุงูุญุฏ ุงููููู ูุจุฏุฃ ุจู <span class='math-eq'>ูงู</span>." },
                            { text: "<strong>2. ููุงุฑู ุงูุญุฏ ุงููููู ุงูุงุจุชุฏุงุฆู ุจุงูุญุฏ ุงูุฃูู:</strong><br>ุงูุญุฏ ุงูุฃูู ุงููุนูู ูู <span class='math-eq text-red-600'>ูฃ</span>. ูุงููุฑู ุจููู ูุจูู ุงูุฃุณุงุณ ูู <span class='math-eq'>ูฃ - ูง = -ูค</span>." },
                            { text: "<strong>3. ููุชุจ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ:</strong><br>ูุถูู ุงููุฑู ุงูุฐู ุฃูุฌุฏูุงู ุฅูู ุงูุญุฏ ุงููููู ุงูุงุจุชุฏุงุฆู.<br><span class='math-eq text-center mt-2 block p-2 bg-green-100 rounded-md'>ุฃ<sub class='font-bold'>ู</sub> = ูงู - ูค</span>" }
                        ]
                    });
                })();
                <\/script>
            `, 
            generateQuiz: () => { 
                const fractionHTML = (num, den) => `<span class="fraction"><span>${num}</span><span class="frac-bar"></span><span>${den}</span></span>`;
                const questionBank = [
                    { type: 'mcq', level: 'โญ', topic: 'concept', text: 'ูุง ูู ุงูุงุณู ุงูุฐู ูุทูู ุนูู ุงูููุฏุงุฑ ุงูุซุงุจุช ุงูุฐู ูุถุงู ููู ุญุฏ ูู ุงููุชุชุงุจุนุฉ ุงูุญุณุงุจูุฉุ', options: [ { display: 'ุงูุญุฏ ุงูุฃูู', value: 'A' }, { display: 'ุงูุญุฏ ุงููููู', value: 'B' }, { display: 'ุงูุฃุณุงุณ', value: 'C' }, { display: 'ุงููุชุบูุฑ', value: 'D' } ], correct: 'C', explanation: '<p>ููุณูู ุงูููุฏุงุฑ ุงูุซุงุจุช ุงูุฐู ูุถุงู (ุฃู ูุทุฑุญ) ูู ุงููุชุชุงุจุนุฉ ุงูุญุณุงุจูุฉ ุจู "ุงูุฃุณุงุณ" ููุฑูุฒ ูู ุจุงูุฑูุฒ (ุฏ).</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'identify', text: 'ุฃู ูู ุงููุชุชุงุจุนุงุช ุงูุชุงููุฉ ุชูุนุฏ ูุชุชุงุจุนุฉ ุญุณุงุจูุฉุ', options: [ { display: 'ูกุ ูขุ ูคุ ูจุ ...', value: 'A' }, { display: 'ูกูุ ูงุ ูคุ ูกุ ...', value: 'B' }, { display: 'ูกุ -ูกุ ูขุ -ูขุ ...', value: 'C' }, { display: 'ูกุ ูคุ ูฉุ ูกูฆุ ...', value: 'D' } ], correct: 'B', explanation: '<p>ุงููุชุชุงุจุนุฉ (ุจ) ูู ุงูุญุณุงุจูุฉ ูุฃู ุงููุฑู ุจูู ูู ุญุฏูู ูุชุชุงูููู ุซุงุจุช ููุณุงูู -ูฃ. (ูง-ูกู = -ูฃุ ูค-ูง = -ูฃ).</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'find-difference', text: 'ูุง ุฃุณุงุณ ุงููุชุชุงุจุนุฉ ุงูุญุณุงุจูุฉ: -ูฅุ -ูกุ ูฃุ ูงุ ...ุ', options: [ { display: '-ูค', value: 'A' }, { display: 'ูค', value: 'B' }, { display: 'ูฅ', value: 'C' }, { display: '-ูฅ', value: 'D' } ], correct: 'B', explanation: '<p>ูุฅูุฌุงุฏ ุงูุฃุณุงุณุ ูุทุฑุญ ุฃู ุญุฏ ูู ุงูุฐู ูุณุจูู. ุนูู ุณุจูู ุงููุซุงู: (-ูก) - (-ูฅ) = -ูก + ูฅ = ูค.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'next-term', text: 'ุฃูุฌุฏ ุงูุญุฏ ุงูุชุงูู ูู ุงููุชุชุงุจุนุฉ ุงูุญุณุงุจูุฉ: ูขุ ูฉุ ูกูฆุ ูขูฃุ ...', options: [ { display: 'ูขูฉ', value: 'A' }, { display: 'ูฃู', value: 'B' }, { display: 'ูง', value: 'C' }, { display: 'ูฃูก', value: 'D' } ], correct: 'B', explanation: '<p>ุฃููุงูุ ููุฌุฏ ุงูุฃุณุงุณ: ูฉ - ูข = ูง. ุซู ูุถูู ุงูุฃุณุงุณ ุฅูู ุงูุญุฏ ุงูุฃุฎูุฑ: ูขูฃ + ูง = ูฃู.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'nth-term-formula', text: 'ูุง ูุนุงุฏูุฉ ุงูุญุฏ ุงููููู ูููุชุชุงุจุนุฉ: ูคุ ูฉุ ูกูคุ ูกูฉุ ...ุ', options: [ { display: 'ุฃ<sub class="font-bold">ู</sub> = ูคู + ูฅ', value: 'A' }, { display: 'ุฃ<sub class="font-bold">ู</sub> = ูฅู + ูค', value: 'B' }, { display: 'ุฃ<sub class="font-bold">ู</sub> = ูฅู - ูก', value: 'C' }, { display: 'ุฃ<sub class="font-bold">ู</sub> = ูคู - ูก', value: 'D' } ], correct: 'C', explanation: '<p>ุงูุญุฏ ุงูุฃูู ุฃ<sub class="font-bold">ูก</sub> = ูค ูุงูุฃุณุงุณ ุฏ = ูฉ - ูค = ูฅ. ูุทุจู ุงูุตูุบุฉ: ุฃ<sub class="font-bold">ู</sub> = ุฃ<sub class="font-bold">ูก</sub> + (ู - ูก)ุฏ = ูค + (ู - ูก)ูฅ = ูค + ูฅู - ูฅ = ูฅู - ูก.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'find-term', text: 'ุงุณุชุฎุฏู ุงููุนุงุฏูุฉ ุฃ<sub class="font-bold">ู</sub> = ูฃู - ูจ ูุฅูุฌุงุฏ ุงูุญุฏ ุงูุนุงุดุฑ ูู ุงููุชุชุงุจุนุฉ.', options: [ { display: 'ูขูข', value: 'A' }, { display: 'ูฃู', value: 'B' }, { display: 'ูฃูจ', value: 'C' }, { display: 'ูกูฅ', value: 'D' } ], correct: 'A', explanation: '<p>ูุฅูุฌุงุฏ ุงูุญุฏ ุงูุนุงุดุฑุ ูุนูุถ ุนู ู ุจู ูกู ูู ุงููุนุงุฏูุฉ: ุฃ<sub class="font-bold">ูกู</sub> = ูฃ(ูกู) - ูจ = ูฃู - ูจ = ูขูข.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'find-rank', text: 'ูุง ุชุฑุชูุจ ุงูุญุฏ ุงูุฐู ูููุชู (ูฅูฅ) ูู ุงููุชุชุงุจุนุฉ ุงูุญุณุงุจูุฉ: ูกูุ ูกูฅุ ูขูุ ...ุ', options: [ { display: 'ุงูุญุฏ ุงูุนุงุดุฑ', value: 'A' }, { display: 'ุงูุญุฏ ุงูุชุงุณุน', value: 'B' }, { display: 'ุงูุญุฏ ุงูุญุงุฏู ุนุดุฑ', value: 'C' }, { display: 'ุงูุญุฏ ุงูุฎุงูุณ', value: 'D' } ], correct: 'A', explanation: `<div id="explanation-wrapper-q0"><div id="formal-solution-q0"><div class="space-y-3 text-right"><p><strong>1. ุชุญุฏูุฏ ุงููุนุทูุงุช:</strong></p><ul class="list-disc pr-6"><li>ุงูุญุฏ ุงููุทููุจ (ุฃ<sub class="font-bold">ู</sub>): <span class="math-eq text-red-600">ูฅูฅ</span></li><li>ุงูุญุฏ ุงูุฃูู (ุฃ<sub class="font-bold">ูก</sub>): <span class="math-eq text-green-600">ูกู</span></li><li>ุงูุฃุณุงุณ (ุฏ): <span class="math-eq text-blue-600">ูกูฅ - ูกู = ูฅ</span></li></ul><p><strong>2. ูุชุงุจุฉ ุงูุตูุบุฉ ูุงูุชุนููุถ:</strong></p><p class="math-eq text-center bg-gray-100 p-2 rounded-md">ุฃ<sub class="font-bold">ู</sub> = ุฃ<sub class="font-bold">ูก</sub> + (ู - ูก) ุฏ</p><p class="math-eq text-center"><span class="text-red-600">ูฅูฅ</span> = <span class="text-green-600">ูกู</span> + (ู - ูก) <span class="text-blue-600">ูฅ</span></p><p><strong>3. ุญู ุงููุนุงุฏูุฉ ูุฅูุฌุงุฏ (ู):</strong></p><div class="text-center space-y-2"><p class="math-eq">ูคูฅ = (ู - ูก) ร ูฅ</p><div><p class="math-eq">ูฉ = ู - ูก</p><p class="text-xs text-gray-500 italic">(ุจูุณูุฉ ุงูุทุฑููู ุนูู ูฅ)</p></div><div><p class="math-eq"><span class="p-1 bg-green-100 rounded-md">ู = ูกู</span></p><p class="text-xs text-gray-500 italic">(ุจุฅุถุงูุฉ ูก ููุทุฑููู)</p></div></div></div><button onclick="window.toggleSolution('q0', 'mental')" class="mt-4 w-full bg-purple-100 text-purple-700 font-bold py-2 px-4 rounded-lg hover:bg-purple-200">ุนุฑุถ ุงูุญู ุงูุฐููู</button></div><div id="mental-solution-q0" style="display: none;"><div class="space-y-3 text-right"><p><strong>1. ุฅูุฌุงุฏ ูุนุงุฏูุฉ ุงูุญุฏ ุงููููู (ุฐูููุงู):</strong></p><ul class="list-disc pr-6"><li>ุงูุฃุณุงุณ (ุฏ) = <span class="math-eq text-blue-600">ูฅ</span>. ุฅุฐู ุงููุนุงุฏูุฉ ุชุจุฏุฃ ุจู <span class="math-eq">ูฅู</span>.</li><li>ุงูุญุฏ ุงูุฃูู <span class="math-eq text-green-600">ูกู</span>. ุงููุฑู ุนู ุงูุฃุณุงุณ: <span class="math-eq">ูกู - ูฅ = ูฅ</span>.</li><li>ุงููุนุงุฏูุฉ ูู: <span class="math-eq bg-gray-100 p-1 rounded-md">ุฃ<sub class="font-bold">ู</sub> = ูฅู + ูฅ</span>.</li></ul><p><strong>2. ูุณุงูุงุฉ ุงููุนุงุฏูุฉ ุจูููุฉ ุงูุญุฏ ุงููุทููุจ:</strong></p><p class="math-eq text-center">ูฅู + ูฅ = <span class="text-red-600">ูฅูฅ</span></p><p><strong>3. ุญู ุงููุนุงุฏูุฉ ูุฅูุฌุงุฏ (ู):</strong></p><div class="text-center space-y-2"><p class="math-eq">ูฅู = ูฅูฅ - ูฅ</p><p class="math-eq">ูฅู = ูฅู</p><div><p class="math-eq"><span class="p-1 bg-green-100 rounded-md">ู = ูกู</span></p><p class="text-xs text-gray-500 italic">(ุจูุณูุฉ ุงูุทุฑููู ุนูู ูฅ)</p></div></div></div><button onclick="window.toggleSolution('q0', 'formal')" class="mt-4 w-full bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300">ุงูุนูุฏุฉ ููุญู ุงูุฑุณูู</button></div></div>` },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'find-rank', text: 'ูุง ุชุฑุชูุจ ุงูุญุฏ ุงูุฐู ูููุชู (ูข) ูู ุงููุชุชุงุจุนุฉ ุงูุญุณุงุจูุฉ: ูขูฆุ ูขูฃุ ูขูุ ...ุ', options: [ { display: 'ุงูุญุฏ ุงูุซุงูู', value: 'A' }, { display: 'ุงูุญุฏ ุงูุชุงุณุน', value: 'B' }, { display: 'ุงูุญุฏ ุงูุณุงุจุน', value: 'C' }, { display: 'ุงูุญุฏ ุงูุนุงุดุฑ', value: 'D' } ], correct: 'B', explanation: `<div id="explanation-wrapper-q1"><div id="formal-solution-q1"><div class="space-y-3 text-right"><p><strong>1. ุชุญุฏูุฏ ุงููุนุทูุงุช:</strong></p><ul class="list-disc pr-6"><li>ุงูุญุฏ ุงููุทููุจ (ุฃ<sub class="font-bold">ู</sub>): <span class="math-eq text-red-600">ูข</span></li><li>ุงูุญุฏ ุงูุฃูู (ุฃ<sub class="font-bold">ูก</sub>): <span class="math-eq text-green-600">ูขูฆ</span></li><li>ุงูุฃุณุงุณ (ุฏ): <span class="math-eq text-blue-600">ูขูฃ - ูขูฆ = -ูฃ</span></li></ul><p><strong>2. ูุชุงุจุฉ ุงูุตูุบุฉ ูุงูุชุนููุถ:</strong></p><p class="math-eq text-center bg-gray-100 p-2 rounded-md">ุฃ<sub class="font-bold">ู</sub> = ุฃ<sub class="font-bold">ูก</sub> + (ู - ูก) ุฏ</p><p class="math-eq text-center"><span class="text-red-600">ูข</span> = <span class="text-green-600">ูขูฆ</span> + (ู - ูก) (<span class="text-blue-600">-ูฃ</span>)</p><p><strong>3. ุญู ุงููุนุงุฏูุฉ ูุฅูุฌุงุฏ (ู):</strong></p><div class="text-center space-y-2"><p class="math-eq">-ูขูค = (ู - ูก) ร -ูฃ</p><div><p class="math-eq">ูจ = ู - ูก</p><p class="text-xs text-gray-500 italic">(ุจูุณูุฉ ุงูุทุฑููู ุนูู -ูฃ)</p></div><div><p class="math-eq"><span class="p-1 bg-green-100 rounded-md">ู = ูฉ</span></p><p class="text-xs text-gray-500 italic">(ุจุฅุถุงูุฉ ูก ููุทุฑููู)</p></div></div></div><button onclick="window.toggleSolution('q1', 'mental')" class="mt-4 w-full bg-purple-100 text-purple-700 font-bold py-2 px-4 rounded-lg hover:bg-purple-200">ุนุฑุถ ุงูุญู ุงูุฐููู</button></div><div id="mental-solution-q1" style="display: none;"><div class="space-y-3 text-right"><p><strong>1. ุฅูุฌุงุฏ ูุนุงุฏูุฉ ุงูุญุฏ ุงููููู (ุฐูููุงู):</strong></p><ul class="list-disc pr-6"><li>ุงูุฃุณุงุณ (ุฏ) = <span class="math-eq text-blue-600">-ูฃ</span>. ุฅุฐู ุงููุนุงุฏูุฉ ุชุจุฏุฃ ุจู <span class="math-eq">-ูฃู</span>.</li><li>ุงูุญุฏ ุงูุฃูู <span class="math-eq text-green-600">ูขูฆ</span>. ุงููุฑู ุนู ุงูุฃุณุงุณ: <span class="math-eq">ูขูฆ - (-ูฃ) = ูขูฉ</span>.</li><li>ุงููุนุงุฏูุฉ ูู: <span class="math-eq bg-gray-100 p-1 rounded-md">ุฃ<sub class="font-bold">ู</sub> = -ูฃู + ูขูฉ</span>.</li></ul><p><strong>2. ูุณุงูุงุฉ ุงููุนุงุฏูุฉ ุจูููุฉ ุงูุญุฏ ุงููุทููุจ:</strong></p><p class="math-eq text-center">-ูฃู + ูขูฉ = <span class="text-red-600">ูข</span></p><p><strong>3. ุญู ุงููุนุงุฏูุฉ ูุฅูุฌุงุฏ (ู):</strong></p><div class="text-center space-y-2"><p class="math-eq">-ูฃู = ูข - ูขูฉ</p><p class="math-eq">-ูฃู = -ูขูง</p><div><p class="math-eq"><span class="p-1 bg-green-100 rounded-md">ู = ูฉ</span></p><p class="text-xs text-gray-500 italic">(ุจูุณูุฉ ุงูุทุฑููู ุนูู -ูฃ)</p></div></div></div><button onclick="window.toggleSolution('q1', 'formal')" class="mt-4 w-full bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300">ุงูุนูุฏุฉ ููุญู ุงูุฑุณูู</button></div></div>` },
                    { type: 'mcq', level: 'โญโญ', topic: 'identify', text: 'ุฃู ูู ุงููุชุชุงุจุนุงุช ุงูุชุงููุฉ ููุณุช ุญุณุงุจูุฉุ', options: [ { display: 'ูกุ ูขุ ูฃุ ูค', value: 'A' }, { display: 'ูฅุ ูกูุ ูกูฅุ ูขู', value: 'B' }, { display: 'ูขุ ูคุ ูจุ ูกูฆ', value: 'C' }, { display: 'ูฅูุ ูคูุ ูฃูุ ูขู', value: 'D' } ], correct: 'C', explanation: '<p>ุงููุชุชุงุจุนุฉ (ุฌ) ููุณุช ุญุณุงุจูุฉ ูุฃู ุงููุฑู ุจูู ุญุฏูุฏูุง ุบูุฑ ุซุงุจุช (ููุฏุณูุฉุ ุชุถุฑุจ ูู ูข ูู ูุฑุฉ).</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'next-term', text: 'ุฃูุฌุฏ ุงูุญุฏูุฏ ุงูุซูุงุซุฉ ุงูุชุงููุฉ ูู ุงููุชุชุงุจุนุฉ: -ูจุ -ูฆุ -ูคุ ...', options: [ { display: '-ูขุ ูุ ูข', value: 'A' }, { display: '-ูฆุ -ูจุ -ูกู', value: 'B' }, { display: 'ูุ ูขุ ูค', value: 'C' }, { display: '-ูขุ ูกุ ูฃ', value: 'D' } ], correct: 'A', explanation: '<p>ุงูุฃุณุงุณ ูู (-ูฆ) - (-ูจ) = ูข. ุงูุญุฏูุฏ ุงูุชุงููุฉ ูู -ูค+ูข=-ูขุ -ูข+ูข=ูุ ู+ูข=ูข.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'nth-term-formula', text: 'ูุง ูุนุงุฏูุฉ ุงูุญุฏ ุงููููู ูููุชุชุงุจุนุฉ: ูกูฃุ ูจุ ูฃุ -ูขุ ...ุ', options: [ { display: 'ุฃ<sub class="font-bold">ู</sub> = -ูฅู + ูกูจ', value: 'A' }, { display: 'ุฃ<sub class="font-bold">ู</sub> = ูฅู + ูจ', value: 'B' }, { display: 'ุฃ<sub class="font-bold">ู</sub> = ูกูฃู - ูฅ', value: 'C' }, { display: 'ุฃ<sub class="font-bold">ู</sub> = -ูฅู - ูกูจ', value: 'D' } ], correct: 'A', explanation: '<p>ุงูุญุฏ ุงูุฃูู ูกูฃ ูุงูุฃุณุงุณ -ูฅ. ุจุงุณุชุฎุฏุงู ุงูุทุฑููุฉ ุงูุฐูููุฉ: ุงููุนุงุฏูุฉ ุชุจุฏุฃ ุจู -ูฅู. ูููุตูู ูู -ูฅ ุฅูู ูกูฃ (ุงูุญุฏ ุงูุฃูู)ุ ูุญุชุงุฌ ูุฅุถุงูุฉ ูกูจ. ุฅุฐู ุงููุนุงุฏูุฉ ูู ุฃ<sub class="font-bold">ู</sub> = -ูฅู + ูกูจ.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'find-term', text: 'ูุง ูู ุงูุญุฏ ุงูุนุดุฑูู ูู ุงููุชุชุงุจุนุฉ ุงูุชู ุญุฏูุง ุงูุฃูู ูฅ ูุฃุณุงุณูุง ูฃุ', options: [ { display: 'ูฆู', value: 'A' }, { display: 'ูฆูข', value: 'B' }, { display: 'ูฆูฅ', value: 'C' }, { display: 'ูฅูฉ', value: 'D' } ], correct: 'B', explanation: `<p>ูุณุชุฎุฏู ุงูุตูุบุฉ ุฃ<sub class="font-bold">ู</sub> = ุฃ<sub class="font-bold">ูก</sub> + (ู-ูก)ุฏ. ูุนูุถ ุจุงูููู: ุฃ<sub class="font-bold">ูขู</sub> = ูฅ + (ูขู-ูก) ร ูฃ = ูฅ + (ูกูฉ ร ูฃ) = ูฅ + ูฅูง = ูฆูข.</p>` }
                ];
                return [...questionBank].sort(() => 0.5 - Math.random()).slice(0, 5);
            } 
         },

        // === ุงููุตู ุงูุซุงูุซ: ุงูุฏูุงู ุงูุฎุทูุฉ ===
        'c3_l1': { title: 'ุงูุฏุฑุณ ูฃ-ูก: ุชูุซูู ุงููุนุงุฏูุงุช ุงูููุชูุจุฉ ุจุตูุบุฉ ุงูููู ูุงูููุทุน ุจูุงููุงู', content: `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููุงููู ุงูุฃุณุงุณูุฉ</h2>
                    <div class="p-6 bg-blue-50 rounded-lg space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุตูุบุฉ ุงูููู ูุงูููุทุน</h3>
                            <p>ุงูุชุนุจูุฑ ุงูููุธู: ูููู ูุชุงุจุฉ ูุนุงุฏูุฉ ุฃู ุฎุท ูุณุชููู (ุบูุฑ ุฑุฃุณู) ุจุงุณุชุนูุงู ูููู (ู) ูุงูููุทุน ุงูุตุงุฏู (ุจ) ููู ุงูุฅุญุฏุงุซู ุงูุตุงุฏู ูููุทุฉ ุชูุงุทุน ุงููุณุชููู ูุน ูุญูุฑ ุงูุตุงุฏุงุช.</p>
                            <div class="mt-4 p-4 bg-white rounded-lg border">
                                <p class="text-lg text-center font-bold">ุตูุบุฉ ุงูููู ูุงูููุทุน</p>
                                <p class="text-center my-2 p-3 bg-indigo-50 rounded-md text-2xl math-eq">ุต = ู ุณ + ุจ</p>
                                <div class="flex justify-around mt-2 text-center">
                                    <p><strong>ู:</strong> ุงูููู</p>
                                    <p><strong>ุจ:</strong> ุงูููุทุน ุงูุตุงุฏู</p>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                            <div class="bg-white p-3 rounded-lg border text-center">
                                <p><strong>ูุซุงู ูก:</strong> <span class="math-eq">ุต = ูฃุณ + ูข</span></p>
                                <p class="text-green-600 font-bold">ุงูููู (ู) = ูฃ</p>
                                <p class="text-blue-600 font-bold">ุงูููุทุน (ุจ) = ูข</p>
                            </div>
                            <div class="bg-white p-3 rounded-lg border text-center">
                                <p><strong>ูุซุงู ูข:</strong> <span class="math-eq">ุต = -ูขุณ + ูก</span></p>
                                <p class="text-green-600 font-bold">ุงูููู (ู) = -ูข</p>
                                <p class="text-blue-600 font-bold">ุงูููุทุน (ุจ) = ูก</p>
                            </div>
                            <div class="bg-white p-3 rounded-lg border text-center">
                                <p><strong>ูุซุงู ูฃ:</strong> <span class="math-eq">ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span> ุณ - ูฃ</span></p>
                                <p class="text-green-600 font-bold">ุงูููู (ู) = <span class="fraction"><span>ูก</span><span>ูข</span></span></p>
                                <p class="text-blue-600 font-bold">ุงูููุทุน (ุจ) = -ูฃ</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">โ๏ธ ุซุงููุงู: ูุชุงุจุฉ ุงููุนุงุฏูุฉ (ุชูุงุนูู)</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="border p-4 rounded-lg bg-white">
                                <p class="text-center font-bold">ูุซุงู ูก: ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู <span class="math-eq">-ูฃ</span> ูููุทุนู ุงูุตุงุฏู <span class="math-eq">ูฅ</span>.</p>
                                <div class="bg-gray-50 p-4 mt-2 rounded-lg border min-h-[250px]">
                                    <div id="write-eq-explanation-1" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="write-eq-back-1" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="write-eq-counter-1">0</span> / 4</span>
                                    <button id="write-eq-next-1" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                            <div class="border p-4 rounded-lg bg-white">
                                <p class="text-center font-bold">ูุซุงู ูข: ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู <span class="math-eq">ูค</span> ูููุทุนู ุงูุตุงุฏู <span class="math-eq">-ูข</span>.</p>
                                <div class="bg-gray-50 p-4 mt-2 rounded-lg border min-h-[250px]">
                                    <div id="write-eq-explanation-2" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="write-eq-back-2" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="write-eq-counter-2">0</span> / 4</span>
                                    <button id="write-eq-next-2" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ ุซุงูุซุงู: ุชูุซูู ุงููุนุงุฏูุฉ ุจูุงููุงู (ุชูุงุนูู)</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-8">
                        <div class="border p-4 rounded-lg bg-white">
                            <h3 class="text-xl font-bold text-center mb-2">ูุซุงู ูก: ููู ููุฌุจ</h3>
                            <p class="text-center">ูุซู ุงููุนุงุฏูุฉ <span class="math-eq">ุต = <span class="fraction"><span>ูข</span><span>ูฃ</span></span>ุณ - ูก</span> ุจูุงููุงู.</p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mt-4">
                                <div class="border p-4 rounded-lg bg-white">
                                    <div class="bg-gray-50 p-4 rounded-lg border min-h-[340px]">
                                        <div id="graph-eq-explanation-1" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="graph-eq-back-1" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="graph-eq-counter-1">0</span> / 4</span>
                                        <button id="graph-eq-next-1" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                                <div class="graph-container">
                                    <div class="graph-grid"></div>
                                    <div class="graph-axis x-axis"></div>
                                    <div class="graph-axis y-axis"></div>
                                    <div id="graph-rise-line-1" class="graph-movement-line graph-rise"></div>
                                    <div id="graph-run-line-1" class="graph-movement-line graph-run"></div>
                                    <div id="graph-rise-text-1" class="graph-movement-text graph-rise-text"></div>
                                    <div id="graph-run-text-1" class="graph-movement-text graph-run-text"></div>
                                    <div id="graph-point-1-1" class="graph-point"></div>
                                    <div id="graph-point-1-2" class="graph-point"></div>
                                    <div id="graph-line-1" class="graph-line" style="width: 0; top: 0; left: 0;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="border p-4 rounded-lg bg-white">
                            <h3 class="text-xl font-bold text-center mb-2">ูุซุงู ูข: ููู ุณุงูุจ (ุฃุตุนุจ)</h3>
                            <p class="text-center">ูุซู ุงููุนุงุฏูุฉ <span class="math-eq">ุต + <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ = ูข</span> ุจูุงููุงู.</p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mt-4">
                                <div class="border p-4 rounded-lg bg-white">
                                    <div class="bg-gray-50 p-4 rounded-lg border min-h-[340px]">
                                        <div id="graph-eq-explanation-2" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="graph-eq-back-2" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="graph-eq-counter-2">0</span> / 5</span>
                                        <button id="graph-eq-next-2" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                                <div class="graph-container">
                                    <div class="graph-grid"></div>
                                    <div class="graph-axis x-axis"></div>
                                    <div class="graph-axis y-axis"></div>
                                    <div id="graph-rise-line-2" class="graph-movement-line graph-rise"></div>
                                    <div id="graph-run-line-2" class="graph-movement-line graph-run"></div>
                                    <div id="graph-rise-text-2" class="graph-movement-text graph-rise-text"></div>
                                    <div id="graph-run-text-2" class="graph-movement-text graph-run-text"></div>
                                    <div id="graph-point-2-1" class="graph-point"></div>
                                    <div id="graph-point-2-2" class="graph-point"></div>
                                    <div id="graph-line-2" class="graph-line" style="width: 0; top: 0; left: 0;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ข ุฑุงุจุนุงู: ูู ูุงูุน ุงูุญูุงุฉ</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="border p-4 rounded-lg bg-white">
                                <h3 class="font-bold text-center mb-2">ูุซุงู ูก: ุชูููุฉ ุซุงุจุชุฉ ููุชุบูุฑุฉ</h3>
                                <p>ูุฏู ุดุฑูุฉ ุณูุงุฑุงุช ุฃุฌุฑุฉ ุฑุณู ุซุงุจุช ููุฏุงุฑู <span class="math-eq">ูค</span> ุฑูุงูุงุชุ ูุถุงู ุฅููู <span class="math-eq">ูข</span> ุฑูุงู ููู ูููููุชุฑ ุชูุทุนู ุงูุณูุงุฑุฉ. ุงูุชุจ ูุนุงุฏูุฉ ุชูุซู ุงูุชูููุฉ (ุต) ูุนุฏุฏ (ุณ) ูู ุงููููููุชุฑุงุช.</p>
                                <div class="bg-gray-50 p-4 mt-2 rounded-lg border min-h-[220px]">
                                    <div id="life-eq-explanation-1" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="life-eq-back-1" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="life-eq-counter-1">0</span> / 3</span>
                                    <button id="life-eq-next-1" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                            <div class="border p-4 rounded-lg bg-white">
                                <h3 class="font-bold text-center mb-2">ูุซุงู ูข: ูููุฉ ุงุจุชุฏุงุฆูุฉ ูุชูุงูุต (ุฃุตุนุจ)</h3>
                                <p>ุจุทุงุฑูุฉ ูุงุชู ูุดุญููุฉ ุจุงููุงูู (ูกูููช). ุฅุฐุง ูุงูุช ุชููุฏ <span class="math-eq">ูกูฅูช</span> ูู ุดุญููุง ูู ุณุงุนุฉ ูู ุงูุงุณุชุฎุฏุงูุ ุงูุชุจ ูุนุงุฏูุฉ ุชูุซู ุงููุณุจุฉ ุงููุฆููุฉ ุงููุชุจููุฉ ูู ุงูุดุญู (ุต) ุจุนุฏ (ุณ) ุณุงุนุฉ.</p>
                                <div class="bg-gray-50 p-4 mt-2 rounded-lg border min-h-[220px]">
                                    <div id="life-eq-explanation-2" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="life-eq-back-2" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="life-eq-counter-2">0</span> / 4</span>
                                    <button id="life-eq-next-2" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <script>
                (function() {
                    function createInteractiveSection(config) {
                        let currentStep = 0;
                        const renderStep = (step) => {
                            if(config.stepCounter) config.stepCounter.textContent = step;
                            let cumulativeHTML = '';
                            if (step === 0) {
                                cumulativeHTML = '<div class="explanation-step" style="border-color: transparent;">' + config.stepsContent[0].text + '</div>';
                            } else {
                                for (let i = 1; i <= step; i++) {
                                    cumulativeHTML += '<div class="explanation-step">' + config.stepsContent[i].text + '</div>';
                                }
                            }
                            if(config.explanationDiv) config.explanationDiv.innerHTML = cumulativeHTML;
                            if (config.customRender) {
                                config.customRender(step);
                            }
                            if(config.backBtn) {
                                config.backBtn.disabled = (step === 0);
                                config.backBtn.classList.toggle('btn-disabled', config.backBtn.disabled);
                            }
                            if(config.nextBtn) config.nextBtn.textContent = (step === config.totalSteps) ? 'ุฅุนุงุฏุฉ' : 'ุงูุชุงูู';
                        };
                        
                        if(config.nextBtn) config.nextBtn.addEventListener('click', () => {
                            currentStep = (currentStep < config.totalSteps) ? currentStep + 1 : 0;
                            renderStep(currentStep);
                        });
                        
                        if(config.backBtn) config.backBtn.addEventListener('click', () => {
                            if (currentStep > 0) {
                                currentStep--;
                                renderStep(currentStep);
                            }
                        });
                        
                        renderStep(0);
                    }

                    createInteractiveSection({
                        nextBtn: document.getElementById('write-eq-next-1'),
                        backBtn: document.getElementById('write-eq-back-1'),
                        stepCounter: document.getElementById('write-eq-counter-1'),
                        explanationDiv: document.getElementById('write-eq-explanation-1'),
                        totalSteps: 4,
                        stepsContent: [
                            { text: "ูุจุฏุฃ ุจูุชุงุจุฉ ุงูุตูุบุฉ ุงูุนุงูุฉ ููุนุงุฏูุฉ ุงููุณุชููู." },
                            { text: "<strong>1. ุงูุตูุบุฉ ุงูุนุงูุฉ:</strong><br><span class='math-eq text-center mt-2 block'>ุต = ู ุณ + ุจ</span>" },
                            { text: "<strong>2. ุชุญุฏูุฏ ุงููุนุทูุงุช:</strong><br>ุงูููู <span class='math-eq'>ู = -ูฃ</span><br>ุงูููุทุน ุงูุตุงุฏู <span class='math-eq'>ุจ = ูฅ</span>" },
                            { text: "<strong>3. ูุนูุถ ุจุงูููู ูู ุงูุตูุบุฉ:</strong><br><span class='math-eq text-center mt-2 block'>ุต = (-ูฃ)ุณ + (ูฅ)</span>" },
                            { text: "<strong>4. ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ:</strong><br><span class='math-eq text-center mt-2 block p-2 bg-green-100 rounded-md'>ุต = -ูฃุณ + ูฅ</span>" }
                        ]
                    });
                    
                    createInteractiveSection({
                        nextBtn: document.getElementById('write-eq-next-2'),
                        backBtn: document.getElementById('write-eq-back-2'),
                        stepCounter: document.getElementById('write-eq-counter-2'),
                        explanationDiv: document.getElementById('write-eq-explanation-2'),
                        totalSteps: 4,
                        stepsContent: [
                            { text: "ูุจุฏุฃ ุจูุชุงุจุฉ ุงูุตูุบุฉ ุงูุนุงูุฉ ููุนุงุฏูุฉ ุงููุณุชููู." },
                            { text: "<strong>1. ุงูุตูุบุฉ ุงูุนุงูุฉ:</strong><br><span class='math-eq text-center mt-2 block'>ุต = ู ุณ + ุจ</span>" },
                            { text: "<strong>2. ุชุญุฏูุฏ ุงููุนุทูุงุช:</strong><br>ุงูููู <span class='math-eq'>ู = ูค</span><br>ุงูููุทุน ุงูุตุงุฏู <span class='math-eq'>ุจ = -ูข</span>" },
                            { text: "<strong>3. ูุนูุถ ุจุงูููู ูู ุงูุตูุบุฉ:</strong><br><span class='math-eq text-center mt-2 block'>ุต = (ูค)ุณ + (-ูข)</span>" },
                            { text: "<strong>4. ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ:</strong><br><span class='math-eq text-center mt-2 block p-2 bg-green-100 rounded-md'>ุต = ูคุณ - ูข</span>" }
                        ]
                    });
                    
                    createInteractiveSection({
                        nextBtn: document.getElementById('graph-eq-next-1'),
                        backBtn: document.getElementById('graph-eq-back-1'),
                        stepCounter: document.getElementById('graph-eq-counter-1'),
                        explanationDiv: document.getElementById('graph-eq-explanation-1'),
                        totalSteps: 4,
                        stepsContent: [
                            { text: "ูุชูุซูู ุงููุนุงุฏูุฉ ุจูุงููุงูุ ูุญุชุงุฌ ุฅูู ููุทุชูู ุนูู ุงูุฃูู." },
                            { text: "<strong>1. ูุญุฏุฏ ุงูููุทุน ุงูุตุงุฏู (ุจ):</strong><br>ูู ุงููุนุงุฏูุฉุ ูุฌุฏ ุฃู <span class='math-eq'>ุจ = -ูก</span>. ูุฐู ูู ุงูููุทุฉ ุงูุฃููู (ูุ -ูก)." },
                            { text: "<strong>2. ูุณุชุฎุฏู ุงูููู (ู) ูุฅูุฌุงุฏ ููุทุฉ ุฃุฎุฑู:</strong><br>ุงูููู <span class='math-eq'>ู = <span class='fraction'><span>ูข</span><span>ูฃ</span></span></span>. ูุฐุง ูุนูู ุชุญุฑู ุฑุฃุณู (ุจุณุท) ูุชุญุฑู ุฃููู (ููุงู)." },
                            { text: "<strong>3. ูุจุฏุฃ ูู ุงูููุทุน ุงูุตุงุฏู (ูุ -ูก):</strong><br>ูุชุญุฑู ูุญุฏุชูู ููุฃุนูู (ูุฃู ุงูุจุณุท ูข) ููฃ ูุญุฏุงุช ูููููู (ูุฃู ุงูููุงู ูฃ) ูููุตูู ุฅูู ุงูููุทุฉ ุงูุซุงููุฉ (ูฃุ ูก)." },
                            { text: "<strong>4. ูุฑุณู ุฎุทุงู ูุณุชูููุงู ููุฑ ุจุงูููุทุชูู.</strong>" }
                        ],
                        customRender: (step) => {
                            const p1 = document.getElementById('graph-point-1-1'); const p2 = document.getElementById('graph-point-1-2'); const line = document.getElementById('graph-line-1'); const riseLine = document.getElementById('graph-rise-line-1'); const runLine = document.getElementById('graph-run-line-1'); const riseText = document.getElementById('graph-rise-text-1'); const runText = document.getElementById('graph-run-text-1'); const unit = 20;
                            p1.style.opacity = '0'; p2.style.opacity = '0'; line.style.width = '0px'; riseLine.style.opacity = '0'; runLine.style.opacity = '0'; riseText.style.opacity = '0'; runText.style.opacity = '0';
                            if (step >= 1) { p1.style.opacity = '1'; p1.style.top = 'calc(50% + ' + (1 * unit) + 'px)'; p1.style.left = '50%'; }
                            if (step >= 3) {
                                riseLine.style.opacity = '1'; riseText.style.opacity = '1'; runLine.style.opacity = '1'; runText.style.opacity = '1';
                                riseLine.style.top = 'calc(50% - ' + (1 * unit) + 'px)'; riseLine.style.left = '50%'; riseLine.style.height = (2 * unit) + 'px'; riseLine.style.borderLeftWidth = '2px';
                                runLine.style.top = 'calc(50% - ' + (1 * unit) + 'px)'; runLine.style.left = '50%'; runLine.style.width = (3 * unit) + 'px'; runLine.style.borderTopWidth = '2px';
                                riseText.textContent = '+ูข'; riseText.style.top = 'calc(50%)'; riseText.style.left = 'calc(50% - 20px)';
                                runText.textContent = '+ูฃ'; runText.style.top = 'calc(50% - ' + (1 * unit) + 'px - 15px)'; runText.style.left = 'calc(50% + ' + (1.5 * unit) + 'px)';
                                p2.style.opacity = '1'; p2.style.top = 'calc(50% - ' + (1 * unit) + 'px)'; p2.style.left = 'calc(50% + ' + (3 * unit) + 'px)';
                            }
                            if (step >= 4) {
                                line.style.top = 'calc(50% + ' + (1 * unit) + 'px)'; line.style.left = '50%'; const rise = -2 * unit; const run = 3 * unit; const angle = Math.atan2(rise, run) * (180 / Math.PI); const length = Math.sqrt(rise*rise + run*run); line.style.transform = 'rotate(' + angle + 'deg) translate(-' + (length * 2) + 'px, 0)'; line.style.width = (length * 5) + 'px';
                            }
                        }
                    });

                    createInteractiveSection({
                        nextBtn: document.getElementById('graph-eq-next-2'),
                        backBtn: document.getElementById('graph-eq-back-2'),
                        stepCounter: document.getElementById('graph-eq-counter-2'),
                        explanationDiv: document.getElementById('graph-eq-explanation-2'),
                        totalSteps: 5,
                        stepsContent: [
                            { text: "ุฃููุงูุ ูุฌุจ ุฃู ุชููู ุงููุนุงุฏูุฉ ุนูู ุตูุบุฉ ุงูููู ูุงูููุทุน (ุต = ู ุณ + ุจ)." },
                            { text: "<strong>1. ูุนูุฏ ุชุฑุชูุจ ุงููุนุงุฏูุฉ:</strong><br>ูููู <span class='math-eq'>+<span class='fraction'><span>ูก</span><span>ูค</span></span>ุณ</span> ุฅูู ุงูุทุฑู ุงูุขุฎุฑ ุจุนูุณ ุฅุดุงุฑุชู.<br><span class='math-eq text-center mt-2 block p-2 bg-blue-100 rounded-md'>ุต = -<span class='fraction'><span>ูก</span><span>ูค</span></span>ุณ + ูข</span>" },
                            { text: "<strong>2. ูุญุฏุฏ ุงูููุทุน ุงูุตุงุฏู (ุจ):</strong><br>ุงูุขู ุงููุนุงุฏูุฉ ุนูู ุงูุตูุบุฉ ุงูุตุญูุญุฉ. ูุฌุฏ ุฃู <span class='math-eq'>ุจ = ูข</span>. ูุฐู ูู ุงูููุทุฉ ุงูุฃููู (ูุ ูข)." },
                            { text: "<strong>3. ูุณุชุฎุฏู ุงูููู (ู) ูุฅูุฌุงุฏ ููุทุฉ ุฃุฎุฑู:</strong><br>ุงูููู <span class='math-eq'>ู = -<span class='fraction'><span>ูก</span><span>ูค</span></span></span>. ูุฐุง ูุนูู ุชุญุฑู ููุฃุณูู ูก (ุจุณุท) ููููููู ูค (ููุงู)." },
                            { text: "<strong>4. ููุซู ุงูุญุฑูุฉ:</strong><br>ุจุฏุกุงู ูู (ูุ ูข)ุ ูุชุญุฑู ููุฃุณูู ูก ููููููู ูค ููุตู ุฅูู ุงูููุทุฉ (ูคุ ูก)." },
                            { text: "<strong>5. ูุฑุณู ุงูุฎุท ุงููุณุชููู</strong> ุงูุฐู ููุฑ ุจุงูููุทุชูู."}
                        ],
                        customRender: (step) => {
                            const p1 = document.getElementById('graph-point-2-1'); const p2 = document.getElementById('graph-point-2-2'); const line = document.getElementById('graph-line-2'); const riseLine = document.getElementById('graph-rise-line-2'); const runLine = document.getElementById('graph-run-line-2'); const riseText = document.getElementById('graph-rise-text-2'); const runText = document.getElementById('graph-run-text-2'); const unit = 20;
                            p1.style.opacity = '0'; p2.style.opacity = '0'; line.style.width = '0px'; riseLine.style.opacity = '0'; runLine.style.opacity = '0'; riseText.style.opacity = '0'; runText.style.opacity = '0';
                            if (step >= 2) { p1.style.opacity = '1'; p1.style.top = 'calc(50% - ' + (2 * unit) + 'px)'; p1.style.left = '50%'; }
                            if (step >= 4) {
                                riseLine.style.opacity = '1'; riseText.style.opacity = '1'; runLine.style.opacity = '1'; runText.style.opacity = '1';
                                riseLine.style.top = 'calc(50% - ' + (2 * unit) + 'px)'; riseLine.style.left = '50%'; riseLine.style.height = (1 * unit) + 'px'; riseLine.style.borderLeftWidth = '2px';
                                runLine.style.top = 'calc(50% - ' + (1 * unit) + 'px)'; runLine.style.left = '50%'; runLine.style.width = (4 * unit) + 'px'; runLine.style.borderTopWidth = '2px';
                                riseText.textContent = '-ูก'; riseText.style.top = 'calc(50% - ' + (1.5 * unit) + 'px)'; riseText.style.left = 'calc(50% - 15px)';
                                runText.textContent = '+ูค'; runText.style.top = 'calc(50% - ' + (1 * unit) + 'px - 15px)'; runText.style.left = 'calc(50% + ' + (2 * unit) + 'px)';
                                p2.style.opacity = '1'; p2.style.top = 'calc(50% - ' + (1 * unit) + 'px)'; p2.style.left = 'calc(50% + ' + (4 * unit) + 'px)';
                            }
                            if (step >= 5) {
                                line.style.top = 'calc(50% - ' + (2 * unit) + 'px)'; line.style.left = '50%'; const rise = 1 * unit; const run = 4 * unit; const angle = Math.atan2(rise, run) * (180 / Math.PI); const length = Math.sqrt(rise*rise + run*run); line.style.transform = 'rotate(' + angle + 'deg) translate(-' + (length * 1.5) + 'px, 0)'; line.style.width = (length * 4) + 'px';
                            }
                        }
                    });

                    createInteractiveSection({
                        nextBtn: document.getElementById('life-eq-next-1'),
                        backBtn: document.getElementById('life-eq-back-1'),
                        stepCounter: document.getElementById('life-eq-counter-1'),
                        explanationDiv: document.getElementById('life-eq-explanation-1'),
                        totalSteps: 3,
                        stepsContent: [
                            { text: "ูุญูู ุงููุณุฃูุฉ ูุชุญุฏูุฏ ุงูููู ูุงูููุทุน ุงูุตุงุฏู." },
                            { text: "<strong>1. ูุญุฏุฏ ุงูููุทุน ุงูุตุงุฏู (ุจ):</strong><br>ูู ุงููููุฉ ุงูุซุงุจุชุฉ ุงูุชู ูุง ุชุชุบูุฑุ ููู ุงูุฑุณู ุงูุซุงุจุช. ุฅุฐู <span class='math-eq'>ุจ = ูค</span>." },
                            { text: "<strong>2. ูุญุฏุฏ ุงูููู (ู):</strong><br>ูู ูุนุฏู ุงูุชุบูุฑุ ุฃู ุงูุชูููุฉ ููู ูููููุชุฑ. ุฅุฐู <span class='math-eq'>ู = ูข</span>." },
                            { text: "<strong>3. ููุชุจ ุงููุนุงุฏูุฉ ุจุตูุบุฉ ุงูููู ูุงูููุทุน:</strong><br><span class='math-eq text-center mt-2 block p-2 bg-green-100 rounded-md'>ุต = ูขุณ + ูค</span>" }
                        ]
                    });
                    
                    createInteractiveSection({
                        nextBtn: document.getElementById('life-eq-next-2'),
                        backBtn: document.getElementById('life-eq-back-2'),
                        stepCounter: document.getElementById('life-eq-counter-2'),
                        explanationDiv: document.getElementById('life-eq-explanation-2'),
                        totalSteps: 4,
                        stepsContent: [
                            { text: "ูุญูู ุงููุณุฃูุฉ ูุชุญุฏูุฏ ุงูููู ูุงูููุทุน ุงูุตุงุฏู." },
                            { text: "<strong>1. ูุญุฏุฏ ุงูููุทุน ุงูุตุงุฏู (ุจ):</strong><br>ูู ุงููููุฉ ุงูุงุจุชุฏุงุฆูุฉุ ููู ูุณุจุฉ ุดุญู ุงูุจุทุงุฑูุฉ ูุจู ุงูุงุณุชุฎุฏุงู. ุฅุฐู <span class='math-eq'>ุจ = ูกูู</span>." },
                            { text: "<strong>2. ูุญุฏุฏ ุงูููู (ู):</strong><br>ูู ูุนุฏู ุงูุชุบูุฑุ ุฃู ููุฏุงุฑ ุงูููุตุงู ูู ุงูุดุญู ูู ุณุงุนุฉ. ุจูุง ุฃูู ููุตุงูุ ูุงูููู ุณุงูุจ." },
                            { text: "<strong>3. ูููุฉ ุงูููู:</strong><br>ุชููุฏ ุงูุจุทุงุฑูุฉ ูกูฅูช ูู ุณุงุนุฉุ ุฅุฐู <span class='math-eq'>ู = -ูกูฅ</span>." },
                            { text: "<strong>4. ููุชุจ ุงููุนุงุฏูุฉ ุจุตูุบุฉ ุงูููู ูุงูููุทุน:</strong><br><span class='math-eq text-center mt-2 block p-2 bg-green-100 rounded-md'>ุต = -ูกูฅุณ + ูกูู</span>" }
                        ]
                    });
                })();
                <\/script>
            `, 
            generateQuiz: () => { 
                const fractionHTML = (num, den) => `<span class="fraction"><span>${num}</span><span class="frac-bar"></span><span>${den}</span></span>`;
                const questionBank = [
                    { type: 'mcq', level: 'โญ', topic: 'identify', text: 'ูู ุงููุนุงุฏูุฉ ุต = ูฅุณ - ูฃุ ูุง ูู ุงูููุทุน ุงูุตุงุฏูุ', options: [ { display: 'ูฅ', value: 'A' }, { display: 'ุณ', value: 'B' }, { display: '-ูฃ', value: 'C' }, { display: 'ูฃ', value: 'D' } ], correct: 'C', explanation: '<p>ูู ุตูุบุฉ ุงูููู ูุงูููุทุน (ุต = ู ุณ + ุจ)ุ ููุซู ุงูุฑูุฒ (ุจ) ุงูููุทุน ุงูุตุงุฏู. ูู ูุฐู ุงููุนุงุฏูุฉุ ุจ = -ูฃ.</p>' },
                    { type: 'mcq', level: 'โญ', topic: 'identify', text: 'ูู ุงููุนุงุฏูุฉ ุต = -ุณ + ูงุ ูุง ูู ุงููููุ', options: [ { display: 'ูก', value: 'A' }, { display: '-ูก', value: 'B' }, { display: 'ูง', value: 'C' }, { display: '-ูง', value: 'D' } ], correct: 'B', explanation: '<p>ูู ุตูุบุฉ ุงูููู ูุงูููุทุน (ุต = ู ุณ + ุจ)ุ ููุซู ุงูุฑูุฒ (ู) ุงูููู. ูู ูุฐู ุงููุนุงุฏูุฉุ ุต = (-ูก)ุณ + ูงุ ุฅุฐู ุงูููู ู = -ูก.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'write-equation', text: 'ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู ูข ูููุทุนู ุงูุตุงุฏู -ูค.', options: [ { display: 'ุต = -ูคุณ + ูข', value: 'A' }, { display: 'ุต = ูขุณ - ูค', value: 'B' }, { display: 'ุต = ูขุณ + ูค', value: 'C' }, { display: 'ุต = ูคุณ - ูข', value: 'D' } ], correct: 'B', explanation: '<p>ูุนูุถ ูุจุงุดุฑุฉ ูู ุงูุตูุบุฉ ุต = ู ุณ + ุจ. ูุน ู = ูข ู ุจ = -ูคุ ูุญุตู ุนูู ุต = ูขุณ - ูค.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'write-equation', text: 'ูุง ูู ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู <span class="fraction"><span>ูก</span><span>ูข</span></span> ูููุทุนู ุงูุตุงุฏู ูฃุ', options: [ { display: 'ุต = ูฃุณ + <span class="fraction"><span>ูก</span><span>ูข</span></span>', value: 'A' }, { display: 'ุต = ุณ + <span class="fraction"><span>ูฃ</span><span>ูข</span></span>', value: 'B' }, { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span> ุณ + ูฃ', value: 'C' }, { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span> ุณ - ูฃ', value: 'D' } ], correct: 'C', explanation: '<p>ูุนูุถ ูุจุงุดุฑุฉ ูู ุงูุตูุบุฉ ุต = ู ุณ + ุจ. ูุน ู = <span class="fraction"><span>ูก</span><span>ูข</span></span> ู ุจ = ูฃุ ูุญุตู ุนูู ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span> ุณ + ูฃ.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'application', text: 'ุชุจูุบ ุชูููุฉ ุงูุงุดุชุฑุงู ูู ูุงุฏู ุฑูุงุถู ูกูู ุฑูุงู ุดูุฑูุงูุ ุจุงูุฅุถุงูุฉ ุฅูู ูฅู ุฑูุงูุงู ูุฑุณู ุชุณุฌูู ููุฑุฉ ูุงุญุฏุฉ. ุฃู ูุนุงุฏูุฉ ุชูุซู ุงูุชูููุฉ (ุต) ูุนุฏุฏ (ุณ) ูู ุงูุดููุฑุ', options: [ { display: 'ุต = ูฅูุณ + ูกูู', value: 'A' }, { display: 'ุต = ูกููุณ + ูฅู', value: 'B' }, { display: 'ุต = ูกูฅูุณ', value: 'C' }, { display: 'ุต = ูฅูุณ - ูกูู', value: 'D' } ], correct: 'B', explanation: '<p>ุฑุณู ุงูุชุณุฌูู ูู ูุจูุบ ุซุงุจุช ููุฏูุน ูุฑุฉ ูุงุญุฏุฉุ ูุฐุง ููู ุงูููุทุน ุงูุตุงุฏู (ุจ = ูฅู). ุงูุชูููุฉ ุงูุดูุฑูุฉ ูู ูุนุฏู ุงูุชุบูุฑุ ูุฐุง ูู ุงูููู (ู = ูกูู). ุงููุนุงุฏูุฉ ูู ุต = ูกููุณ + ูฅู.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'graph-to-equation', text: 'ูุณุชููู ููุฑ ุจุงูููุทุฉ (ูุ ูก) ูุงูููุทุฉ (ูขุ ูฅ). ูุง ูู ูุนุงุฏูุชูุ', options: [ { display: 'ุต = ูขุณ + ูก', value: 'A' }, { display: 'ุต = ุณ + ูข', value: 'B' }, { display: 'ุต = -ูขุณ + ูก', value: 'C' }, { display: 'ุต = ูฅุณ + ูข', value: 'D' } ], correct: 'A', explanation: '<p>ุฃููุงูุ ูุญุฏุฏ ุงูููุทุน ุงูุตุงุฏู ูู ุงูููุทุฉ (ูุ ูก)ุ ุฅุฐู ุจ = ูก. ุซุงููุงูุ ูุญุณุจ ุงูููู: ู = <span class="fraction"><span>ูฅ-ูก</span><span>ูข-ู</span></span> = <span class="fraction"><span>ูค</span><span>ูข</span></span> = ูข. ุฅุฐู ุงููุนุงุฏูุฉ ูู ุต = ูขุณ + ูก.</p>' },
                    { type: 'mcq', level: 'โญโญ', topic: 'write-equation', text: 'ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู ูค ูููุทุนู ุงูุตุงุฏู -ูขุ', options: [ { display: 'ุต = ูคุณ - ูข', value: 'A' }, { display: 'ุต = -ูขุณ + ูค', value: 'B' }, { display: 'ุต = ูคุณ + ูข', value: 'C' }, { display: 'ุต = ูขุณ - ูค', value: 'D' } ], correct: 'A', explanation: '<p>ุจุชุทุจูู ุตูุบุฉ ุงูููู ูุงูููุทุน ุต = ู ุณ + ุจุ ูุนูุถ ุนู ู ุจู ูค ูุนู ุจ ุจู -ูข ููุญุตู ุนูู ุต = ูคุณ - ูข.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'write-equation-rearranged', text: 'ุฃู ูุนุงุฏูุฉ ุชูุซู ูุณุชูููุงู ูููู -ูข ูููุทุนู ุงูุตุงุฏู ูฃุ', options: [ { display: 'ุต + ูขุณ = ูฃ', value: 'A' }, { display: 'ุต - ูขุณ = ูฃ', value: 'B' }, { display: 'ูขุต + ุณ = ูฆ', value: 'C' }, { display: 'ุต + ูฃ = -ูขุณ', value: 'D' } ], correct: 'A', explanation: '<p>ุงููุนุงุฏูุฉ ูู ุต = -ูขุณ + ูฃ. ุจููู -ูขุณ ุฅูู ุงูุทุฑู ุงูุขุฎุฑุ ุชุตุจุญ ุงููุนุงุฏูุฉ ุต + ูขุณ = ูฃ.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'graph-to-equation', text: 'ูุณุชููู ููุทุนู ุงูุตุงุฏู ุนูุฏ (ูุ -ูก) ููููู <span class="fraction"><span>ูข</span><span>ูฃ</span></span>. ูุง ูู ูุนุงุฏูุชูุ', options: [ { display: 'ุต = <span class="fraction"><span>ูข</span><span>ูฃ</span></span>ุณ - ูก', value: 'A' }, { display: 'ุต = <span class="fraction"><span>ูฃ</span><span>ูข</span></span>ุณ - ูก', value: 'B' }, { display: 'ุต = -ุณ + <span class="fraction"><span>ูข</span><span>ูฃ</span></span>', value: 'C' }, { display: 'ุต = <span class="fraction"><span>ูข</span><span>ูฃ</span></span>ุณ + ูก', value: 'D' } ], correct: 'A', explanation: '<p>ุจูุง ุฃู ุงูููุทุน ุงูุตุงุฏู ุจ = -ูก ูุงูููู ู = <span class="fraction"><span>ูข</span><span>ูฃ</span></span>ุ ูุฅู ุงููุนุงุฏูุฉ ูู ุต = <span class="fraction"><span>ูข</span><span>ูฃ</span></span>ุณ - ูก.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'identify-from-rearranged', text: 'ูุง ูู ููู ุงููุณุชููู ุงูุฐู ูุนุงุฏูุชู ูฃุต - ูฆุณ = ูฉุ', options: [ { display: '-ูข', value: 'A' }, { display: 'ูฆ', value: 'B' }, { display: 'ูฃ', value: 'C' }, { display: 'ูข', value: 'D' } ], correct: 'D', explanation: '<p>ูุฌุจ ุฃููุงู ูุถุน ุงููุนุงุฏูุฉ ุนูู ุตูุบุฉ ุงูููู ูุงูููุทุน (ุต = ู ุณ + ุจ). ูฃุต = ูฆุณ + ูฉ. ุซู ููุณู ุนูู ูฃ: ุต = ูขุณ + ูฃ. ุฅุฐู ุงูููู (ู) ูู ูข.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'application', text: 'ุจุงุณุชุฎุฏุงู ูุนุงุฏูุฉ ุณูุงุฑุฉ ุงูุฃุฌุฑุฉ ุต = ูขุณ + ูคุ ูุง ุชูููุฉ ุฑุญูุฉ ููุณุงูุฉ ูกู ูููููุชุฑุงุชุ', options: [ { display: 'ูขูค ุฑูุงู', value: 'A' }, { display: 'ูกูฆ ุฑูุงู', value: 'B' }, { display: 'ูขู ุฑูุงู', value: 'C' }, { display: 'ูกูค ุฑูุงู', value: 'D' } ], correct: 'A', explanation: '<p>ูุนูุถ ุนู ุณ (ุงููุณุงูุฉ) ุจู ูกู ูู ุงููุนุงุฏูุฉ: ุต = ูข(ูกู) + ูค = ูขู + ูค = ูขูค ุฑูุงู.</p>' },
                    { type: 'mcq', level: 'โญโญโญ', topic: 'application', text: 'ุจุงุณุชุฎุฏุงู ูุนุงุฏูุฉ ุงูุจุทุงุฑูุฉ ุต = -ูกูฅุณ + ูกููุ ูู ุณุชููู ูุณุจุฉ ุงูุดุญู ุจุนุฏ ูฃ ุณุงุนุงุชุ', options: [ { display: 'ูคูฅูช', value: 'A' }, { display: 'ูฅูฅูช', value: 'B' }, { display: 'ูงููช', value: 'C' }, { display: 'ูจูฅูช', value: 'D' } ], correct: 'B', explanation: '<p>ูุนูุถ ุนู ุณ (ุงูุณุงุนุงุช) ุจู ูฃ ูู ุงููุนุงุฏูุฉ: ุต = -ูกูฅ(ูฃ) + ูกูู = -ูคูฅ + ูกูู = ูฅูฅูช.</p>' }
                ];
                return [...questionBank].sort(() => 0.5 - Math.random()).slice(0, 5);
            }  },
        'c3_l2': { title: 'ุงูุฏุฑุณ ูฃ-ูข: ูุชุงุจุฉ ุงููุนุงุฏูุงุช ุจุตูุบุฉ ุงูููู ูุงูููุทุน', content:`
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููุงููู ุงูุฃุณุงุณูุฉ</h2>
                    <div class="p-6 bg-blue-50 rounded-lg space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ูุชุงุจุฉ ูุนุงุฏูุฉ ูุณุชููู ุจูุนุฑูุฉ ูููู ูููุทุฉ ููุฑ ุจูุง</h3>
                            <p>ุฅุฐุง ุนููู ููู ุงููุณุชููู (ู) ูููุทุฉ ููุฑ ุจูุง (ุณโ, ุตโ)ุ ูููููุง ูุชุงุจุฉ ูุนุงุฏูุชู ุจุตูุบุฉ ุงูููู ูุงูููุทุน <span class="math-eq">ุต = ู ุณ + ุจ</span> ุจุงุชุจุงุน ุงูุฎุทูุงุช ุงูุชุงููุฉ:</p>
                            <div class="mt-4 space-y-4">
                                <div class="bg-white p-3 rounded-lg border">
                                    <p><strong>ุงูุฎุทูุฉ 1:</strong> ุนูุถ ุจุงูููู (ู) ูุฅุญุฏุงุซูุงุช ุงูููุทุฉ (ุณโุ ุตโ) ูู ุงููุนุงุฏูุฉ <span class="math-eq">ุต = ู ุณ + ุจ</span>.</p>
                                    <p><strong>ุงูุฎุทูุฉ 2:</strong> ุญู ุงููุนุงุฏูุฉ ูุฅูุฌุงุฏ ูููุฉ ุงูููุทุน ุงูุตุงุฏู (ุจ).</p>
                                    <p><strong>ุงูุฎุทูุฉ 3:</strong> ุงูุชุจ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ ุจุชุนููุถ ุงูููู (ู) ูุงูููุทุน ุงูุตุงุฏู (ุจ).</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ูุชุงุจุฉ ูุนุงุฏูุฉ ูุณุชููู ุจูุนุฑูุฉ ููุทุชูู ููุฑ ุจููุง</h3>
                            <p>ุฅุฐุง ุนูููุช ููุทุชุงู ููุฑ ุจููุง ุงููุณุชูููุ ูููููุง ูุชุงุจุฉ ูุนุงุฏูุชู ุจุงุชุจุงุน ุงูุฎุทูุงุช ุงูุชุงููุฉ:</p>
                               <div class="mt-4 p-4 bg-white rounded-lg border space-y-2">
                                    <p><strong>ุงูุฎุทูุฉ 1:</strong> ุฃูุฌุฏ ููู ุงููุณุชููู (ู) ุจุงุณุชุฎุฏุงู ุงูููุทุชูู ูุตูุบุฉ ุงูููู.</p>
                                    <p class="text-center my-2 p-3 bg-indigo-50 rounded-md text-xl">
                                        <span class="math-eq">ู = <span class="fraction"><span>ุตโ - ุตโ</span><span>ุณโ - ุณโ</span></span></span>
                                    </p>
                                    <p><strong>ุงูุฎุทูุฉ 2:</strong> ุงุฎุชุฑ ุฅุญุฏู ุงูููุทุชููุ ุซู ุงุชุจุน ููุณ ุฎุทูุงุช ุงูุทุฑููุฉ ุงูุณุงุจูุฉ ูุฅูุฌุงุฏ ุงูููุทุน ุงูุตุงุฏู (ุจ) ููุชุงุจุฉ ุงููุนุงุฏูุฉ.</p>
                               </div>
                        </div>
                         <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ููุฑุฏุงุช ุฌุฏูุฏุฉ: ุงูุชูุจุค ุงูุฎุทู</h3>
                            <p>ููุณุชุฎุฏู <span class="vocab-term">ุงูุชูุจุค ุงูุฎุทู</span> ูุนูู ุชูุจุคุงุช ุญูู ููู ุชูุน ุฎุงุฑุฌ ูุทุงู ูุฌููุนุฉ ุงูุจูุงูุงุช ุงููุชููุฑุฉ. ูุฐูู ุนู ุทุฑูู ุฅูุฌุงุฏ ูุนุงุฏูุฉ ุงูุฎุท ุงููุณุชููู ุงูุชู ุชูุซู ุงูุนูุงูุฉ ุจูู ูุชุบูุฑููุ ุซู ุงุณุชุฎุฏุงู ูุฐู ุงููุนุงุฏูุฉ ูุชูุฏูุฑ ูููุฉ ูุฌูููุฉ.</p>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงููุงู: ุฃูุซูุฉ ุชูุงุนููุฉ</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4 mb-8">
                        <h3 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">ุงูููุน ุงูุฃูู: ุฅูุฌุงุฏ ุงููุนุงุฏูุฉ ูู ููู ูููุทุฉ</h3>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูก (ุฃ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู ูค ูููุฑ ุจุงูููุทุฉ (ูขุ ูฅ).</p>
                                <div class="border p-4 rounded-lg bg-white h-full">
                                    <div class="bg-gray-100 p-4 rounded-lg border min-h-[150px]">
                                        <div id="interactive-explanation-1a" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-1a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-1a">0</span> / 3</span>
                                        <button id="interactive-next-1a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูก (ุจ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู -ูข ูููุฑ ุจุงูููุทุฉ (-ูกุ ูฆ).</p>
                                <div class="border p-4 rounded-lg bg-white h-full">
                                    <div class="bg-gray-100 p-4 rounded-lg border min-h-[150px]">
                                        <div id="interactive-explanation-1b" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-1b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-1b">0</span> / 3</span>
                                        <button id="interactive-next-1b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4 mb-8">
                        <h3 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">ุงูููุน ุงูุซุงูู: ุฅูุฌุงุฏ ุงููุนุงุฏูุฉ ูู ููุทุชูู</h3>
                        <div class="flex flex-col md:flex-row gap-6">
                               <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูข (ุฃ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ูกุ ูข) ู (ูฃุ ูจ).</p>
                                <div class="border p-4 rounded-lg bg-white h-full">
                                    <div class="bg-gray-100 p-4 rounded-lg border min-h-[150px]">
                                        <div id="interactive-explanation-2a" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-2a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-2a">0</span> / 3</span>
                                        <button id="interactive-next-2a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูข (ุจ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ูขุ ูฅ) ู (ูคุ ูก).</p>
                                <div class="border p-4 rounded-lg bg-white h-full">
                                    <div class="bg-gray-100 p-4 rounded-lg border min-h-[150px]">
                                        <div id="interactive-explanation-2b" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-2b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-2b">0</span> / 3</span>
                                        <button id="interactive-next-2b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4">
                        <h3 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">ุงูููุน ุงูุซุงูุซ: ุงูุชูุจุค ุงูุฎุทู</h3>
                           <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูฃ (ุฃ):</b> ูุชูุงุถู ุทูุงู ุฃุฌุฑุฉ ุฃุณุจูุนูุฉ ูุฏุฑูุง ูฃูฅูก ุฑูุงูุงู ููุงุจู ุณุงุนุงุช ุนููู ุงูุฃุณุงุณูุฉ. ูุฅุฐุง ุนูู ูฅ ุณุงุนุงุช ุฅุถุงููุฉ ูุชูุงุถู ูคูกูฆ ุฑูุงูุงูุ ุงูุชุจ ูุนุงุฏูุฉ ุฎุทูุฉ ูุฅูุฌุงุฏ ุฃุฌุฑุชู (ุต) ุฅุฐุง ุนูู (ุณ) ุณุงุนุฉ ุฅุถุงููุฉ. ุซู ุชูุจุฃ ุจุฃุฌุฑุชู ุฅุฐุง ุนูู ูจ ุณุงุนุงุช ุฅุถุงููุฉ.</p>
                                <div class="border p-4 rounded-lg bg-white h-full">
                                    <div class="bg-gray-100 p-4 rounded-lg border min-h-[210px]">
                                        <div id="interactive-explanation-3a" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-3a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-3a">0</span> / 5</span>
                                        <button id="interactive-next-3a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูฃ (ุจ):</b> ูุฏูุน ุนูู ุงุดุชุฑุงูุงู ูู ูุงุฏู ุฑูุงุถู. ุจุนุฏ ุดูุฑูู (ุณ=ูข)ุ ูุงู ูุฌููุน ูุง ุฏูุนู 300 ุฑูุงู. ุจุนุฏ 5 ุฃุดูุฑ (ุณ=ูฅ)ุ ูุงู ุงููุฌููุน 600 ุฑูุงู. ูู ุณูุฏูุน ุจุนุฏ 8 ุฃุดูุฑุ</p>
                                <div class="border p-4 rounded-lg bg-white h-full">
                                    <div class="bg-gray-100 p-4 rounded-lg border min-h-[210px]">
                                        <div id="interactive-explanation-3b" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-3b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-3b">0</span> / 4</span>
                                        <button id="interactive-next-3b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `, 
            generateQuiz: () => {
                const fractionHTML = (num, den) => `<span class="fraction"><span>${num}</span><span>${den}</span></span>`;
                const questionBank = [
                    { type: 'mcq', level: 'โญ', text: 'ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู ูฃ ูููุฑ ุจุงูููุทุฉ (ูขุ ูก)ุ', options: [ { display: 'ุต = ูฃุณ - ูฅ', value: 'A' }, { display: 'ุต = ูฃุณ + ูก', value: 'B' }, { display: 'ุต = ูขุณ + ูฃ', value: 'C' }, { display: 'ุต = ุณ + ูฃ', value: 'D' } ], correct: 'A', explanation: `<p><b>ุงููุฏู:</b> ุฅูุฌุงุฏ ูุนุงุฏูุฉ ุงููุณุชููู ุจุตูุบุฉ <span class="math-eq">ุต = ู ุณ + ุจ</span>.</p><p><b>ุงูุฎุทูุฉ 1: ุงูุชุนููุถ ุจุงูููู ูุงูููุทุฉ</b></p><p>ูุนูุถ ุงูููู <span class="math-eq">ู=ูฃ</span> ูุงูููุทุฉ (<span class="highlight-x">ูข</span>ุ <span class="highlight-y">ูก</span>) ูู ุงููุนุงุฏูุฉ.</p><p class="text-center"><span class="math-eq"><span class="highlight-y">ูก</span> = ูฃ(<span class="highlight-x">ูข</span>) + ุจ</span></p><p><b>ุงูุฎุทูุฉ 2: ุฅูุฌุงุฏ ุงูููุทุน (ุจ)</b></p><p><span class="math-eq">ูก = ูฆ + ุจ</span></p><p>ุจุทุฑุญ ูฆ ูู ุงูุทุฑูููุ ูุฌุฏ ุฃู <span class="math-eq">ุจ = -ูฅ</span>.</p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = ูฃุณ - ูฅ</span></p>` },
                    { type: 'mcq', level: 'โญโญ', text: 'ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ูกุ ูฆ) ู (ูฃุ ูกู)ุ', options: [ { display: 'ุต = ุณ + ูฅ', value: 'A' }, { display: 'ุต = ูขุณ + ูค', value: 'B' }, { display: 'ุต = -ูขุณ + ูจ', value: 'C' }, { display: 'ุต = ูคุณ + ูข', value: 'D' } ], correct: 'B', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุฅูุฌุงุฏ ุงูููู (ู)</b></p><p>ูุณุชุฎุฏู ุงูููุทุชูู (<span class="highlight-x">ูก</span>ุ <span class="highlight-y">ูฆ</span>) ู (<span class="highlight-x">ูฃ</span>ุ <span class="highlight-y">ูกู</span>).</p><p class="text-center"><span class="math-eq">ู = <span class="fraction"><span>ูกู - ูฆ</span><span>ูฃ - ูก</span></span> = <span class="fraction"><span>ูค</span><span>ูข</span></span> = ูข</span></p><p><b>ุงูุฎุทูุฉ 2: ุฅูุฌุงุฏ ุงูููุทุน (ุจ)</b></p><p>ูุณุชุฎุฏู ุงูููู <span class="math-eq">ู=ูข</span> ูุฅุญุฏู ุงูููุงุทุ ูุซูุงู (<span class="highlight-x">ูก</span>ุ <span class="highlight-y">ูฆ</span>)ุ ููุนูุถ ูู <span class="math-eq">ุต = ู ุณ + ุจ</span>.</p><p><span class="math-eq"><span class="highlight-y">ูฆ</span> = ูข(<span class="highlight-x">ูก</span>) + ุจ</span></p><p><span class="math-eq">ูฆ = ูข + ุจ</span> &larr; <span class="math-eq">ุจ = ูค</span></p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = ูขุณ + ูค</span></p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: 'ุฅุฐุง ูุงูุช ุชูููุฉ ุงุณุชุฆุฌุงุฑ ุณูุงุฑุฉ ูููู ูุงุญุฏ ูู ูฉู ุฑูุงูุงูุ ุจุงูุฅุถุงูุฉ ุฅูู ุฑูุงููู ููู ูููููุชุฑ ููุทูุน. ูุง ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ุงูุชูููุฉ (ุต) ููุทุน (ุณ) ูููููุชุฑุ', options: [ { display: 'ุต = ูฉูุณ + ูข', value: 'A' }, { display: 'ุต = ูขุณ + ูฉู', value: 'B' }, { display: 'ุต = ูฉูขุณ', value: 'C' }, { display: 'ุต = ูขุณ - ูฉู', value: 'D' } ], correct: 'B', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูููุทุน ุงูุตุงุฏู (ุจ)</b></p><p>ุงูููุทุน (ุจ) ูู ุงูุชูููุฉ ุงูุฃูููุฉ ุฃู ุงูุซุงุจุชุฉุ ููู ููุง ูฉู ุฑูุงูุงู. ุฅุฐู <span class="math-eq">ุจ = ูฉู</span>.</p><p><b>ุงูุฎุทูุฉ 2: ุชุญุฏูุฏ ุงูููู (ู)</b></p><p>ุงูููู (ู) ูู ูุนุฏู ุงูุชุบูุฑุ ููู ููุง ุฑูุงูุงู ููู ูููููุชุฑ. ุฅุฐู <span class="math-eq">ู = ูข</span>.</p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p>ูุนูุถ (ู) ู (ุจ) ูู ุตูุบุฉ <span class="math-eq">ุต = ู ุณ + ุจ</span>.</p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = ูขุณ + ูฉู</span></p>` },
                    { type: 'mcq', level: 'โญ', text: 'ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู -ูก ูููุฑ ุจุงูููุทุฉ (ูฅุ -ูข)ุ', options: [ { display: 'ุต = -ุณ + ูฃ', value: 'A' }, { display: 'ุต = -ุณ - ูง', value: 'B' }, { display: 'ุต = ุณ - ูง', value: 'C' }, { display: 'ุต = ูฅุณ - ูข', value: 'D' } ], correct: 'A', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุงูุชุนููุถ ุจุงูููู ูุงูููุทุฉ</b></p><p>ูุนูุถ ุงูููู <span class="math-eq">ู=-ูก</span> ูุงูููุทุฉ (<span class="highlight-x">ูฅ</span>ุ <span class="highlight-y">-ูข</span>) ูู ุงููุนุงุฏูุฉ <span class="math-eq">ุต = ู ุณ + ุจ</span>.</p><p class="text-center"><span class="math-eq"><span class="highlight-y">-ูข</span> = -ูก(<span class="highlight-x">ูฅ</span>) + ุจ</span></p><p><b>ุงูุฎุทูุฉ 2: ุฅูุฌุงุฏ ุงูููุทุน (ุจ)</b></p><p><span class="math-eq">-ูข = -ูฅ + ุจ</span></p><p>ุจุฅุถุงูุฉ ูฅ ููุทุฑูููุ ูุฌุฏ ุฃู <span class="math-eq">ุจ = ูฃ</span>.</p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = -ุณ + ูฃ</span></p>` },
                    { type: 'mcq', level: 'โญ', text: 'ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู <span class="fraction"><span>ูก</span><span>ูข</span></span> ูููุฑ ุจุงูููุทุฉ (ูคุ ูก)ุ', options: [ { display: 'ุต = ูขุณ - ูง', value: 'A' }, { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span>ุณ + ูก', value: 'B' }, { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span>ุณ - ูก', value: 'C' }, { display: 'ุต = ูคุณ + ูก', value: 'D' } ], correct: 'C', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุงูุชุนููุถ ุจุงูููู ูุงูููุทุฉ</b></p><p>ูุนูุถ ุงูููู <span class="math-eq">ู = <span class="fraction"><span>ูก</span><span>ูข</span></span></span> ูุงูููุทุฉ (<span class="highlight-x">ูค</span>ุ <span class="highlight-y">ูก</span>) ูู ุงููุนุงุฏูุฉ <span class="math-eq">ุต = ู ุณ + ุจ</span>.</p><p class="text-center"><span class="math-eq"><span class="highlight-y">ูก</span> = <span class="fraction"><span>ูก</span><span>ูข</span></span>(<span class="highlight-x">ูค</span>) + ุจ</span></p><p><b>ุงูุฎุทูุฉ 2: ุฅูุฌุงุฏ ุงูููุทุน (ุจ)</b></p><p><span class="math-eq">ูก = ูข + ุจ</span></p><p>ุจุทุฑุญ ูข ูู ุงูุทุฑูููุ ูุฌุฏ ุฃู <span class="math-eq">ุจ = -ูก</span>.</p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span>ุณ - ูก</span></p>` },
                    { type: 'mcq', level: 'โญโญ', text: 'ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจููุทุฉ ุงูุฃุตู (ูุ ู) ูุงูููุทุฉ (ูขุ ูฆ)ุ', options: [ { display: 'ุต = ูฆุณ + ูข', value: 'A' }, { display: 'ุต = ูฃุณ', value: 'B' }, { display: 'ุต = ูขุณ + ูฆ', value: 'C' }, { display: 'ุต = -ูฃุณ', value: 'D' } ], correct: 'B', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุฅูุฌุงุฏ ุงูููู (ู)</b></p><p>ูุณุชุฎุฏู ุงูููุทุชูู (<span class="highlight-x">ู</span>ุ <span class="highlight-y">ู</span>) ู (<span class="highlight-x">ูข</span>ุ <span class="highlight-y">ูฆ</span>).</p><p class="text-center"><span class="math-eq">ู = <span class="fraction"><span>ูฆ - ู</span><span>ูข - ู</span></span> = <span class="fraction"><span>ูฆ</span><span>ูข</span></span> = ูฃ</span></p><p><b>ุงูุฎุทูุฉ 2: ุฅูุฌุงุฏ ุงูููุทุน (ุจ)</b></p><p>ุจูุง ุฃู ุงููุณุชููู ููุฑ ุจููุทุฉ ุงูุฃุตูุ ูุฅู ุงูููุทุน ุงูุตุงุฏู <span class="math-eq">ุจ = ู</span>.</p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = ูฃุณ</span></p>` },
                    { type: 'mcq', level: 'โญโญ', text: 'ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (-ูขุ ูค) ู (ูกุ -ูข)ุ', options: [ { display: 'ุต = ูขุณ + ูจ', value: 'A' }, { display: 'ุต = -ูขุณ - ูจ', value: 'B' }, { display: 'ุต = -ูขุณ', value: 'C' }, { display: 'ุต = -<span class="fraction"><span>ูก</span><span>ูข</span></span>ุณ + ูฃ', value: 'D' } ], correct: 'C', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุฅูุฌุงุฏ ุงูููู (ู)</b></p><p>ูุณุชุฎุฏู ุงูููุทุชูู (<span class="highlight-x">-ูข</span>ุ <span class="highlight-y">ูค</span>) ู (<span class="highlight-x">ูก</span>ุ <span class="highlight-y">-ูข</span>).</p><p class="text-center"><span class="math-eq">ู = <span class="fraction"><span>-ูข - ูค</span><span>ูก - (-ูข)</span></span> = <span class="fraction"><span>-ูฆ</span><span>ูฃ</span></span> = -ูข</span></p><p><b>ุงูุฎุทูุฉ 2: ุฅูุฌุงุฏ ุงูููุทุน (ุจ)</b></p><p>ูุณุชุฎุฏู ุงูููู <span class="math-eq">ู=-ูข</span> ูุงูููุทุฉ (<span class="highlight-x">ูก</span>ุ <span class="highlight-y">-ูข</span>).</p><p class="text-center"><span class="math-eq"><span class="highlight-y">-ูข</span> = -ูข(<span class="highlight-x">ูก</span>) + ุจ</span></p><p><span class="math-eq">-ูข = -ูข + ุจ</span> &larr; <span class="math-eq">ุจ = ู</span></p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = -ูขุณ</span></p>` },
                    { type: 'mcq', level: 'โญโญ', text: 'ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (-ูคุ ูข) ู (ูกุ ูง)ุ', options: [ { display: 'ุต = ุณ + ูฆ', value: 'A' }, { display: 'ุต = ุณ - ูฆ', value: 'B' }, { display: 'ุต = -ุณ + ูข', value: 'C' }, { display: 'ุต = ูฅุณ + ูขูข', value: 'D' } ], correct: 'A', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุฅูุฌุงุฏ ุงูููู (ู)</b></p><p>ูุณุชุฎุฏู ุงูููุทุชูู (<span class="highlight-x">-ูค</span>ุ <span class="highlight-y">ูข</span>) ู (<span class="highlight-x">ูก</span>ุ <span class="highlight-y">ูง</span>).</p><p class="text-center"><span class="math-eq">ู = <span class="fraction"><span>ูง - ูข</span><span>ูก - (-ูค)</span></span> = <span class="fraction"><span>ูฅ</span><span>ูฅ</span></span> = ูก</span></p><p><b>ุงูุฎุทูุฉ 2: ุฅูุฌุงุฏ ุงูููุทุน (ุจ)</b></p><p>ูุณุชุฎุฏู ุงูููู <span class="math-eq">ู=ูก</span> ูุงูููุทุฉ (<span class="highlight-x">ูก</span>ุ <span class="highlight-y">ูง</span>).</p><p class="text-center"><span class="math-eq"><span class="highlight-y">ูง</span> = ูก(<span class="highlight-x">ูก</span>) + ุจ</span></p><p><span class="math-eq">ูง = ูก + ุจ</span> &larr; <span class="math-eq">ุจ = ูฆ</span></p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = ุณ + ูฆ</span></p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: 'ุจุงูุฉ ุฌูุงู ุชูููุชูุง ุงูุดูุฑูุฉ ุงูุซุงุจุชุฉ ูฅู ุฑูุงูุงูุ ุจุงูุฅุถุงูุฉ ุฅูู ูุตู ุฑูุงู ููู ุฏูููุฉ ุงุชุตุงู ุฅุถุงููุฉ. ูุง ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ุงูุชูููุฉ (ุต) ูู (ุณ) ุฏูููุฉ ุฅุถุงููุฉุ', options: [ { display: 'ุต = ูฅูุณ + <span class="fraction"><span>ูก</span><span>ูข</span></span>', value: 'A' }, { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span>ุณ + ูฅู', value: 'B' }, { display: 'ุต = ูฅู<span class="fraction"><span>ูก</span><span>ูข</span></span>ุณ', value: 'C' }, { display: 'ุต = ูฅูุณ', value: 'D' } ], correct: 'B', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูููุทุน ุงูุตุงุฏู (ุจ)</b></p><p>ุงูููุทุน (ุจ) ูู ุงูุชูููุฉ ุงูุซุงุจุชุฉุ ููู ููุง ูฅู ุฑูุงูุงู. ุฅุฐู <span class="math-eq">ุจ = ูฅู</span>.</p><p><b>ุงูุฎุทูุฉ 2: ุชุญุฏูุฏ ุงูููู (ู)</b></p><p>ุงูููู (ู) ูู ุชูููุฉ ุงูุฏูููุฉ ุงูุฅุถุงููุฉุ ููู ููุง ูุตู ุฑูุงู. ุฅุฐู <span class="math-eq">ู = <span class="fraction"><span>ูก</span><span>ูข</span></span></span>.</p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span>ุณ + ูฅู</span></p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: 'ุทูู ูุจุชุฉ ูกู ุณูุ ูุชููู ุจูุนุฏู ูข ุณู ูู ุฃุณุจูุน. ูุง ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ุทูููุง (ุต) ุจุนุฏ (ุณ) ุฃุณุจูุนุ', options: [ { display: 'ุต = ูกูุณ + ูข', value: 'A' }, { display: 'ุต = ูกูขุณ', value: 'B' }, { display: 'ุต = ูขุณ + ูกู', value: 'C' }, { display: 'ุต = ูขุณ - ูกู', value: 'D' } ], correct: 'C', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูููุทุน ุงูุตุงุฏู (ุจ)</b></p><p>ุงูููุทุน (ุจ) ูู ุงูุทูู ุงูุงุจุชุฏุงุฆู ูููุจุชุฉุ ููู ููุง ูกู ุณู. ุฅุฐู <span class="math-eq">ุจ = ูกู</span>.</p><p><b>ุงูุฎุทูุฉ 2: ุชุญุฏูุฏ ุงูููู (ู)</b></p><p>ุงูููู (ู) ูู ูุนุฏู ุงููููุ ููู ููุง ูข ุณู ููู ุฃุณุจูุน. ุฅุฐู <span class="math-eq">ู = ูข</span>.</p><p><b>ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = ูขุณ + ูกู</span></p>` }
                ];
                const shuffledQuestions = [...questionBank].sort(() => Math.random() - 0.5);
                return shuffledQuestions.slice(0, 5);
            } },
        'c3_l3': { title: 'ุงูุฏุฑุณ ูฃ-ูฃ: ูุชุงุจุฉ ุงููุนุงุฏูุงุช ุจุตูุบุฉ ุงูููู ูููุทุฉ', content: `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููุงููู ุงูุฃุณุงุณูุฉ</h2>
                    <div class="p-6 bg-blue-50 rounded-lg space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุตูุบุฉ ุงูููู ูููุทุฉ</h3>
                            <p>ุชูุณุชุฎุฏู <span class="vocab-term">ุตูุบุฉ ุงูููู ูููุทุฉ</span> ููุชุงุจุฉ ูุนุงุฏูุฉ ุฎุท ูุณุชููู ุฅุฐุง ุนููู ูููู (ู) ูุฅุญุฏุงุซูุงุช ููุทุฉ ููุฑ ุจูุง (ุณโุ ุตโ).</p>
                            <div class="mt-4 p-4 bg-white rounded-lg border">
                                 <p class="text-center my-2 p-3 bg-indigo-50 rounded-md text-xl math-eq">ุต - ุตโ = ู (ุณ - ุณโ)</p>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุงูุตูุฑุฉ ุงูููุงุณูุฉ ูููุนุงุฏูุฉ ุงูุฎุทูุฉ</h3>
                            <p>ูููู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุฃู ูุนุงุฏูุฉ ุฎุทูุฉ ุนูู <span class="vocab-term">ุงูุตูุฑุฉ ุงูููุงุณูุฉ</span>. ููู ูููุฏุฉ ูุชุญุฏูุฏ ุชูุงุทุนุงุช ุงููุญุงูุฑ ุจุณูููุฉ.</p>
                               <div class="mt-4 p-4 bg-white rounded-lg border space-y-2">
                                    <p class="text-center my-2 p-3 bg-indigo-50 rounded-md text-xl math-eq">ุฃ ุณ + ุจ ุต = ุฌ</p>
                                    <p class="text-sm text-gray-600">ุญูุซ ุฃุ ุจุ ุฌ ุฃุนุฏุงุฏ ุตุญูุญุฉุ ุฃ โฅ ูุ ู ุฃุ ุจ ููุณุง ูุนูุง ุตูุฑูุง.</p>
                               </div>
                        </div>
                         <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุงูุชุญููู ุจูู ุงูุตูุบ</h3>
                            <p>ููููู ุงูุชุญููู ูู ุตูุบุฉ ุงูููู ูููุทุฉ ุฅูู ุตูุบ ุฃุฎุฑู ูุซู ุตูุบุฉ ุงูููู ูุงูููุทุน (ุงูุฏุฑุณ ุงูุณุงุจู) ุฃู ุงูุตูุฑุฉ ุงูููุงุณูุฉ ุนู ุทุฑูู ุงูุชุจุณูุท ุงูุฌุจุฑู.</p>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ฏ ุซุงููุงู: ุฃูุซูุฉ ุชูุงุนููุฉ</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4 mb-8">
                        <h3 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">ุงูููุน ุงูุฃูู: ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุจุตูุบุฉ ุงูููู ูููุทุฉ</h3>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูก (ุฃ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู ูง ูููุฑ ุจุงูููุทุฉ (-ูฃุ ูฅ).</p>
                                <div class="border p-4 rounded-lg bg-white h-full flex flex-col">
                                    <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[150px]">
                                        <div id="interactive-explanation-1a" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-1a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-1a">0</span> / 2</span>
                                        <button id="interactive-next-1a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูก (ุจ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู <span class="math-eq">-<span class="fraction"><span>ูก</span><span>ูฃ</span></span></span> ูููุฑ ุจุงูููุทุฉ (ูุ -ูข).</p>
                                <div class="border p-4 rounded-lg bg-white h-full flex flex-col">
                                    <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[150px]">
                                        <div id="interactive-explanation-1b" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-1b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-1b">0</span> / 2</span>
                                        <button id="interactive-next-1b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4 mb-8">
                        <h3 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">ุงูููุน ุงูุซุงูู: ุงูุชุญููู ุฅูู ุงูุตูุฑุฉ ุงูููุงุณูุฉ</h3>
                        <div class="flex flex-col md:flex-row gap-6">
                               <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูข (ุฃ):</b> ุงูุชุจ ุงููุนุงุฏูุฉ <span class="math-eq">ุต - ูกู = ูข(ุณ - ูจ)</span> ุจุงูุตูุฑุฉ ุงูููุงุณูุฉ.</p>
                                <div class="border p-4 rounded-lg bg-white h-full flex flex-col">
                                    <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[200px]">
                                        <div id="interactive-explanation-2a" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-2a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-2a">0</span> / 3</span>
                                        <button id="interactive-next-2a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูข (ุจ):</b> ุงูุชุจ ุงููุนุงุฏูุฉ <span class="math-eq">ุต - ูฆ = -ูฃ(ุณ + ูข)</span> ุจุงูุตูุฑุฉ ุงูููุงุณูุฉ.</p>
                                <div class="border p-4 rounded-lg bg-white h-full flex flex-col">
                                    <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[200px]">
                                        <div id="interactive-explanation-2b" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-2b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-2b">0</span> / 2</span>
                                        <button id="interactive-next-2b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4">
                        <h3 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">ุงูููุน ุงูุซุงูุซ: ุงูุชุญููู ุฅูู ุตูุบุฉ ุงูููู ูุงูููุทุน</h3>
                           <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูฃ (ุฃ):</b> ุงูุชุจ ุงููุนุงุฏูุฉ <span class="math-eq">ุต - ูฆ = -ูข(ุณ - ูง)</span> ุจุตูุบุฉ ุงูููู ูุงูููุทุน.</p>
                                <div class="border p-4 rounded-lg bg-white h-full">
                                    <div class="bg-gray-100 p-4 rounded-lg border min-h-[150px]">
                                        <div id="interactive-explanation-3a" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-3a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-3a">0</span> / 3</span>
                                        <button id="interactive-next-3a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="mb-2"><b>ูุซุงู ูฃ (ุจ):</b> ุงูุชุจ ุงููุนุงุฏูุฉ <span class="math-eq">ูฃุต + ูฅ = ูข(ุณ + ูง)</span> ุจุตูุบุฉ ุงูููู ูุงูููุทุน.</p>
                                <div class="border p-4 rounded-lg bg-white h-full">
                                    <div class="bg-gray-100 p-4 rounded-lg border min-h-[150px]">
                                        <div id="interactive-explanation-3b" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-3b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-3b">0</span> / 4</span>
                                        <button id="interactive-next-3b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `, 
            generateQuiz: () => {
                const fractionHTML = (num, den) => `<span class="fraction"><span>${num}</span><span>${den}</span></span>`;
                const questionBank = [
                     { type: 'mcq', level: 'โญ', text: `ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู ูฅ ูููุฑ ุจุงูููุทุฉ (ูขุ ูฃ) ุจุตูุบุฉ ุงูููู ูููุทุฉุ`, options: [ { display: 'ุต - ูข = ูฅ(ุณ - ูฃ)', value: 'A' }, { display: 'ุต - ูฃ = ูฅ(ุณ - ูข)', value: 'B' }, { display: 'ุต + ูฃ = ูฅ(ุณ + ูข)', value: 'C' }, { display: 'ุต = ูฅุณ + ูฃ', value: 'D' } ], correct: 'B', explanation: `<p><b>ุงููุฏู:</b> ูุชุงุจุฉ ุงููุนุงุฏูุฉ ุจุตูุบุฉ <span class="math-eq">ุต - ุตโ = ู (ุณ - ุณโ)</span>.</p><p><b>ุงููุนุทูุงุช:</b> ุงูููู <span class="math-eq">ู=ูฅ</span>ุ ูุงูููุทุฉ (<span class="highlight-x">ูข</span>ุ <span class="highlight-y">ูฃ</span>).</p><p><b>ุงูุชุนููุถ ุงููุจุงุดุฑ:</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต - <span class="highlight-y">ูฃ</span> = ูฅ(ุณ - <span class="highlight-x">ูข</span>)</span></p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ุงูุชุจ ุงููุนุงุฏูุฉ <span class="math-eq">ุต - ูก = ูค(ุณ + ูข)</span> ุจุงูุตูุฑุฉ ุงูููุงุณูุฉ.`, options: [ { display: 'ูคุณ - ุต = -ูฉ', value: 'A' }, { display: 'ูคุณ + ุต = ูฉ', value: 'B' }, { display: 'ุต = ูคุณ + ูฉ', value: 'C' }, { display: 'ูคุณ - ุต = ูง', value: 'D' } ], correct: 'A', explanation: `<p><b>ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ:</b> <span class="math-eq">ุต - ูก = ูค(ุณ + ูข)</span></p><p><b>1. ูู ุงูุฃููุงุณ:</b> <span class="math-eq">ุต - ูก = ูคุณ + ูจ</span></p><p><b>2. ููู ุงููุชุบูุฑุงุช ูุทุฑู:</b> <span class="math-eq">-ูคุณ + ุต - ูก = ูจ</span></p><p><b>3. ููู ุงูุซูุงุจุช ููุทุฑู ุงูุขุฎุฑ:</b> <span class="math-eq">-ูคุณ + ุต = ูฉ</span></p><p><b>4. ุฌุนู ูุนุงูู 'ุณ' ููุฌุจูุง:</b> ูุถุฑุจ ูู -ูก.</p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ูคุณ - ุต = -ูฉ</span></p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ุงูุชุจ ุงููุนุงุฏูุฉ <span class="math-eq">ุต + ูฅ = -ูข(ุณ - ูก)</span> ุจุตูุบุฉ ุงูููู ูุงูููุทุน.`, options: [ { display: 'ุต = -ูขุณ + ูง', value: 'A' }, { display: 'ุต = -ูขุณ - ูฃ', value: 'B' }, { display: 'ุต = ูขุณ - ูฃ', value: 'C' }, { display: 'ูขุณ + ุต = -ูฃ', value: 'D' } ], correct: 'B', explanation: `<p><b>ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ:</b> <span class="math-eq">ุต + ูฅ = -ูข(ุณ - ูก)</span></p><p><b>1. ูู ุงูุฃููุงุณ:</b> <span class="math-eq">ุต + ูฅ = -ูขุณ + ูข</span></p><p><b>2. ุนุฒู 'ุต':</b> ูููู +ูฅ ููุทุฑู ุงูุขุฎุฑ.</p><p><span class="math-eq">ุต = -ูขุณ + ูข - ูฅ</span></p><p><b>3. ุงูุชุจุณูุท:</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = -ูขุณ - ูฃ</span></p>` },
                    { type: 'mcq', level: 'โญ', text: `ูุนุงุฏูุฉ ุงููุณุชููู <span class="math-eq">ุต + ูก = ูฃ(ุณ - ูค)</span> ุชูุฑ ุจุฃู ููุทุฉ ูู ุงูููุงุท ุงูุชุงููุฉุ`, options: [ { display: '(-ูกุ ูค)', value: 'A' }, { display: '(-ูคุ ูก)', value: 'B' }, { display: '(ูคุ -ูก)', value: 'C' }, { display: '(ูฃุ ูค)', value: 'D' } ], correct: 'C', explanation: `<p>ุงูุตูุบุฉ ูู <span class="math-eq">ุต - ุตโ = ู (ุณ - ุณโ)</span>.</p><p>ุงููุนุงุฏูุฉ ุงููุนุทุงุฉ: <span class="math-eq">ุต + ูก = ูฃ(ุณ - ูค)</span>.</p><p>ูููููุง ุฅุนุงุฏุฉ ูุชุงุจุชูุง ูุชุทุงุจู ุงูุตูุบุฉ: <span class="math-eq">ุต - (-ูก) = ูฃ(ุณ - ูค)</span>.</p><p>ุจุงูููุงุฑูุฉุ ูุฌุฏ ุฃู <span class="math-eq">ุณโ = ูค</span> ู <span class="math-eq">ุตโ = -ูก</span>.</p><p>ุฅุฐูุ ุงูููุทุฉ ูู <span class="math-eq">(ูคุ -ูก)</span>.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: `ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ูกุ ูฆ) ู (ูฃุ ูกู) ุจุตูุบุฉ ุงูููู ูููุทุฉุ`, options: [ { display: 'ุต - ูฆ = ูข(ุณ - ูก)', value: 'A' }, { display: 'ุต - ูก = ูข(ุณ - ูฆ)', value: 'B' }, { display: 'ุต - ูกู = -ูข(ุณ - ูฃ)', value: 'C' }, { display: 'ุต = ูขุณ + ูค', value: 'D' } ], correct: 'A', explanation: `<p><b>ุงูุฎุทูุฉ 1: ุฅูุฌุงุฏ ุงูููู (ู)</b></p><p><span class="math-eq">ู = <span class="fraction"><span>ูกู - ูฆ</span><span>ูฃ - ูก</span></span> = <span class="fraction"><span>ูค</span><span>ูข</span></span> = ูข</span></p><p><b>ุงูุฎุทูุฉ 2: ุงุณุชุฎุฏุงู ุตูุบุฉ ุงูููู ูููุทุฉ</b></p><p>ูุณุชุฎุฏู ุงูููู <span class="math-eq">ู=ูข</span> ูุฅุญุฏู ุงูููุทุชููุ ููุชูู (<span class="highlight-x">ูก</span>ุ <span class="highlight-y">ูฆ</span>).</p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต - ูฆ = ูข(ุณ - ูก)</span></p><p class="text-sm text-gray-600">(ููุงุญุธุฉ: ุงุณุชุฎุฏุงู ุงูููุทุฉ ุงูุฃุฎุฑู (ูฃุ ูกู) ุณูุนุทู ูุนุงุฏูุฉ ููุงูุฆุฉ: ุต - ูกู = ูข(ุณ - ูฃ))</p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ุงูุชุจ ุงููุนุงุฏูุฉ <span class="math-eq">ุต - ูฅ = -ูก(ุณ + ูฃ)</span> ุจุงูุตูุฑุฉ ุงูููุงุณูุฉ.`, options: [ { display: 'ุณ + ุต = ูข', value: 'A' }, { display: 'ุณ - ุต = ูข', value: 'B' }, { display: 'ุต = -ุณ + ูข', value: 'C' }, { display: 'ุณ + ุต = -ูจ', value: 'D' } ], correct: 'A', explanation: `<p><b>ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ:</b> <span class="math-eq">ุต - ูฅ = -ูก(ุณ + ูฃ)</span></p><p><b>1. ูู ุงูุฃููุงุณ:</b> <span class="math-eq">ุต - ูฅ = -ุณ - ูฃ</span></p><p><b>2. ููู ุงููุชุบูุฑุงุช ูุทุฑู:</b> <span class="math-eq">ุณ + ุต - ูฅ = -ูฃ</span></p><p><b>3. ููู ุงูุซูุงุจุช ููุทุฑู ุงูุขุฎุฑ:</b> <span class="math-eq">ุณ + ุต = -ูฃ + ูฅ</span></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุณ + ุต = ูข</span></p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ูุง ูู ุตูุบุฉ ุงูููู ูุงูููุทุน ูููุนุงุฏูุฉ <span class="math-eq">ุต - ูจ = ูฃ(ุณ - ูข)</span>ุ`, options: [ { display: 'ุต = ูฃุณ + ูข', value: 'A' }, { display: 'ุต = ูฃุณ + ูกูค', value: 'B' }, { display: 'ุต = ูฃุณ - ูกูค', value: 'C' }, { display: 'ูฃุณ - ุต = -ูข', value: 'D' } ], correct: 'A', explanation: `<p><b>ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ:</b> <span class="math-eq">ุต - ูจ = ูฃ(ุณ - ูข)</span></p><p><b>1. ูู ุงูุฃููุงุณ:</b> <span class="math-eq">ุต - ูจ = ูฃุณ - ูฆ</span></p><p><b>2. ุนุฒู 'ุต':</b> <span class="math-eq">ุต = ูฃุณ - ูฆ + ูจ</span></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = ูฃุณ + ูข</span></p>` },
                    { type: 'mcq', level: 'โญ', text: `ูุง ุงูููุทุฉ ุงูุชู ููุฑ ุจูุง ุงููุณุชููู <span class="math-eq">ุต + ูง = -ูค(ุณ - ูฉ)</span>ุ`, options: [ { display: '(ูฉุ -ูง)', value: 'A' }, { display: '(-ูฉุ ูง)', value: 'B' }, { display: '(ูฉุ ูง)', value: 'C' }, { display: '(-ูคุ -ูง)', value: 'D' } ], correct: 'A', explanation: `<p>ุงูุตูุบุฉ ูู <span class="math-eq">ุต - ุตโ = ู (ุณ - ุณโ)</span>.</p><p>ูููุนุงุฏูุฉ <span class="math-eq">ุต + ูง = -ูค(ุณ - ูฉ)</span>ุ ููุชุจูุง ุนูู ุงูุตูุฑุฉ <span class="math-eq">ุต - (-ูง) = -ูค(ุณ - ูฉ)</span>.</p><p>ุจุงูููุงุฑูุฉุ ูุฌุฏ ุฃู <span class="math-eq">ุณโ = ูฉ</span> ู <span class="math-eq">ุตโ = -ูง</span>.</p><p>ุฅุฐูุ ุงูููุทุฉ ูู <span class="math-eq">(ูฉุ -ูง)</span>.</p>` },
                    { type: 'mcq', level: 'โญ', text: `ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ูููู ู ูููุฑ ุจุงูููุทุฉ (ูคุ -ูฆ)ุ`, options: [ { display: 'ุต = -ูฆ', value: 'A' }, { display: 'ุณ = ูค', value: 'B' }, { display: 'ุต = ูค', value: 'C' }, { display: 'ุณ = -ูฆ', value: 'D' } ], correct: 'A', explanation: `<p>ุงูููู ูุณุงูู ุตูุฑ ูุนูู ุฃู ุงูุฎุท ุฃููู.</p><p>ูุนุงุฏูุฉ ุงูุฎุท ุงูุฃููู ูู ุฏุงุฆูุงู <span class="math-eq">ุต = ูููุฉ ุซุงุจุชุฉ</span>.</p><p>ุจูุง ุฃู ุงูุฎุท ููุฑ ุจุงูููุทุฉ (ูคุ -ูฆ)ุ ูุฅู ูููุฉ 'ุต' ุงูุซุงุจุชุฉ ูู -ูฆ.</p><p>ุฅุฐูุ ุงููุนุงุฏูุฉ ูู <span class="math-eq">ุต = -ูฆ</span>.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: `ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุชูู (ูขุ -ูก) ู (ูคุ ูฅ) ุจุงูุตูุฑุฉ ุงูููุงุณูุฉ.`, options: [ { display: 'ูฃุณ - ุต = ูง', value: 'A' }, { display: 'ูฃุณ + ุต = ูง', value: 'B' }, { display: 'ุต = ูฃุณ - ูง', value: 'C' }, { display: 'ุณ - ูฃุต = ูฅ', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ูุฌุฏ ุงูููู:</b> <span class="math-eq">ู = <span class="fraction"><span>ูฅ - (-ูก)</span><span>ูค - ูข</span></span> = <span class="fraction"><span>ูฆ</span><span>ูข</span></span> = ูฃ</span>.</p><p><b>2. ูุณุชุฎุฏู ุตูุบุฉ ุงูููู ูููุทุฉ (ุจุงุณุชุฎุฏุงู ุงูููุทุฉ (ูคุ ูฅ)):</b> <span class="math-eq">ุต - ูฅ = ูฃ(ุณ - ูค)</span>.</p><p><b>3. ูู ุงูุฃููุงุณ:</b> <span class="math-eq">ุต - ูฅ = ูฃุณ - ูกูข</span>.</p><p><b>4. ูุญูู ููุตูุฑุฉ ุงูููุงุณูุฉ:</b> <span class="math-eq">-ูฃุณ + ุต = -ูกูข + ูฅ</span> &rarr; <span class="math-eq">-ูฃุณ + ุต = -ูง</span>.</p><p><b>5. ูุฌุนู ูุนุงูู 'ุณ' ููุฌุจูุง:</b> <span class="math-eq">ูฃุณ - ุต = ูง</span>.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: `ูุง ูู ูุนุงุฏูุฉ ุงููุณุชููู ุงูุฐู ููุทุน ุงููุญูุฑ ุงูุณููู ุนูุฏ ุณ = ูฅ ูุงููุญูุฑ ุงูุตุงุฏู ุนูุฏ ุต = -ูขุ`, options: [ { display: 'ุต = <span class="fraction"><span>ูข</span><span>ูฅ</span></span>ุณ - ูข', value: 'A' }, { display: 'ุต = <span class="fraction"><span>ูฅ</span><span>ูข</span></span>ุณ - ูข', value: 'B' }, { display: 'ุต = -ูขุณ + ูฅ', value: 'C' }, { display: 'ูขุณ - ูฅุต = ูกู', value: 'D' } ], correct: 'A', explanation: `<p>ุงูุชูุงุทุน ูุน ุงููุญูุฑ ุงูุณููู ุนูุฏ ูฅ ูุนูู ุงูููุทุฉ (ูฅุ ู).</p><p>ุงูุชูุงุทุน ูุน ุงููุญูุฑ ุงูุตุงุฏู ุนูุฏ -ูข ูุนูู ุงูููุทุฉ (ูุ -ูข). ููุฐุง ูู ุงูููุทุน ุงูุตุงุฏู <span class="math-eq">ุจ = -ูข</span>.</p><p><b>1. ูุฌุฏ ุงูููู:</b> <span class="math-eq">ู = <span class="fraction"><span>-ูข - ู</span><span>ู - ูฅ</span></span> = <span class="fraction"><span>-ูข</span><span>-ูฅ</span></span> = <span class="fraction"><span>ูข</span><span>ูฅ</span></span></span>.</p><p><b>2. ููุชุจ ุจุตูุบุฉ ุงูููู ูุงูููุทุน (ุต = ู ุณ + ุจ):</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = <span class="fraction"><span>ูข</span><span>ูฅ</span></span>ุณ - ูข</span></p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: `ุชุจุฏุฃ ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ุณุงุฆู ุนูุฏ ูขูฅยฐูุ ูุชูุฎูุถ ุจูุนุฏู ูฃยฐู ูู ุฏูููุฉ. ูุง ุงููุนุงุฏูุฉ ุงูุชู ุชูุซู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ (ุต) ุจุนุฏ (ุณ) ุฏูููุฉ ุจุตูุบุฉ ุงูููู ูุงูููุทุนุ`, options: [ { display: 'ุต = -ูฃุณ + ูขูฅ', value: 'A' }, { display: 'ุต = ูฃุณ + ูขูฅ', value: 'B' }, { display: 'ุต = ูขูฅุณ - ูฃ', value: 'C' }, { display: 'ุต = -ูฃุณ - ูขูฅ', value: 'D' } ], correct: 'A', explanation: `<p><b>ุงูููุทุน ุงูุตุงุฏู (ุจ):</b> ูู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงูุงุจุชุฏุงุฆูุฉุ ุฅุฐู <span class="math-eq">ุจ = ูขูฅ</span>.</p><p><b>ุงูููู (ู):</b> ูู ูุนุฏู ุงูุชุบูุฑ. ุจูุง ุฃู ุงูุญุฑุงุฑุฉ "ุชูุฎูุถ"ุ ูุงูููู ุณุงูุจ. ุฅุฐู <span class="math-eq">ู = -ูฃ</span>.</p><p><b>ุงููุนุงุฏูุฉ (ุต = ู ุณ + ุจ):</b></p><p class="text-center p-2 bg-green-100 rounded-md"><span class="math-eq">ุต = -ูฃุณ + ูขูฅ</span></p>` }
                ];
                const shuffledQuestions = [...questionBank].sort(() => Math.random() - 0.5);
                return shuffledQuestions.slice(0, 5);
            } },
        'c3_l4': { title: 'ุงูุฏุฑุณ ูฃ-ูค: ุงููุณุชูููุงุช ุงููุชูุงุฒูุฉ ูุงููุณุชูููุงุช ุงููุชุนุงูุฏุฉ', content:  `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููุงููู ุงูุฃุณุงุณูุฉ</h2>
                    <div class="p-6 bg-blue-50 rounded-lg space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุงููุณุชูููุงู ุงููุชูุงุฒูุงู</h3>
                            <p>ูููู ุงููุณุชูููุงู ุบูุฑ ุงูุฑุฃุณููู ูุชูุงุฒููู ุฅุฐุง ูููุท ุฅุฐุง ูุงู ูููุง <span class="vocab-term">ุงูููู ููุณู</span>.</p>
                            <div class="mt-4 p-4 bg-white rounded-lg border">
                                <p class="text-center my-2 p-3 bg-indigo-50 rounded-md text-xl math-eq"> ูโ = ูโ </p>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุงููุณุชูููุงู ุงููุชุนุงูุฏุงู</h3>
                            <p>ูููู ุงููุณุชูููุงู ุบูุฑ ุงูุฑุฃุณููู ูุชุนุงูุฏูู ุฅุฐุง ูููุท ุฅุฐุง ูุงู <span class="vocab-term">ุญุงุตู ุถุฑุจ ููููููุง ูุณุงูู -ูก</span>.</p>
                            <div class="mt-4 p-4 bg-white rounded-lg border space-y-2">
                                <div class="flex justify-center items-center gap-4">
                                    <p class="flex-1 text-center my-2 p-3 bg-indigo-50 rounded-md text-xl math-eq"> ูโ ร ูโ = -ูก </p>
                                    <span class="text-gray-500 font-bold">ุฃู</span>
                                    <p class="flex-1 text-center my-2 p-3 bg-indigo-50 rounded-md text-xl math-eq"> ูโ = -<span class="fraction"><span>ูก</span><span>ูโ</span></span></p>
                                </div>
                                <p class="text-sm text-gray-600">ูุฐุง ูุนูู ุฃู ููู ุฃุญุฏููุง ูู ููููุจ ูุนููุณ ููู ุงูุขุฎุฑ.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">ูุซุงู ูก: ุชุญุฏูุฏ ุนูุงูุฉ ุงููุณุชูููุงุช</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-8">
                        <div>
                            <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">ุฃ) ุฃูุซูุฉ ูุจุงุดุฑุฉ (ูุง ุชุญุชุงุฌ ุฅูู ุญู)</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="p-4 bg-white rounded-lg border border-gray-200 shadow-sm">
                                    <p class="mb-2 text-lg">ุต = <span class="text-red-600 font-bold">ูค</span>ุณ + ูฃ</p>
                                    <p class="mb-3 text-lg">ุต = <span class="text-blue-600 font-bold">ูค</span>ุณ - ูฅ</p>
                                    <p class="text-sm text-gray-600">ุงููููุงู: ูโ = <span class="text-red-600 font-bold">ูค</span>ุ ูโ = <span class="text-blue-600 font-bold">ูค</span></p>
                                    <p class="mt-2 p-2 bg-green-100 text-green-800 rounded-md font-bold text-center">ุจูุง ุฃู ูโ = ูโุ ูุงููุณุชูููุงู ูุชูุงุฒูุงู.</p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border border-gray-200 shadow-sm">
                                    <p class="mb-2 text-lg">ุต = <span class="text-red-600 font-bold">-<span class="fraction"><span>ูก</span><span>ูฃ</span></span></span>ุณ + ูข</p>
                                    <p class="mb-3 text-lg">ุต = <span class="text-blue-600 font-bold">ูฃ</span>ุณ - ูก</p>
                                    <p class="text-sm text-gray-600">ุงููููุงู: ูโ = <span class="text-red-600 font-bold">-<span class="fraction"><span>ูก</span><span>ูฃ</span></span></span>ุ ูโ = <span class="text-blue-600 font-bold">ูฃ</span></p>
                                    <p class="mt-2 p-2 bg-purple-100 text-purple-800 rounded-md font-bold text-center">ุจูุง ุฃู -<span class="fraction"><span>ูก</span><span>ูฃ</span></span> ร ูฃ = -ูกุ ูุงููุณุชูููุงู ูุชุนุงูุฏุงู.</p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border border-gray-200 shadow-sm">
                                    <p class="mb-2 text-lg">ุต = <span class="text-red-600 font-bold">ูข</span>ุณ + ูก</p>
                                    <p class="mb-3 text-lg">ุต = <span class="text-blue-600 font-bold">-ูข</span>ุณ + ูก</p>
                                    <p class="text-sm text-gray-600">ุงููููุงู: ูโ = <span class="text-red-600 font-bold">ูข</span>ุ ูโ = <span class="text-blue-600 font-bold">-ูข</span></p>
                                    <p class="mt-2 p-2 bg-yellow-100 text-yellow-800 rounded-md font-bold text-center">ุงููููุงู ูุฎุชููุงู ูุญุงุตู ุถุฑุจููุง ูุง ูุณุงูู -ูกุ ุฅุฐู ุบูุฑ ุฐูู.</p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border border-gray-200 shadow-sm">
                                    <p class="mb-2 text-lg">ุต = ุณ + ูง</p>
                                    <p class="mb-3 text-lg">ุต = <span class="text-blue-600 font-bold">-</span>ุณ + ูฃ</p>
                                    <p class="text-sm text-gray-600">ุงููููุงู: ูโ = <span class="text-red-600 font-bold">ูก</span>ุ ูโ = <span class="text-blue-600 font-bold">-ูก</span></p>
                                    <p class="mt-2 p-2 bg-purple-100 text-purple-800 rounded-md font-bold text-center">ุจูุง ุฃู ูก ร -ูก = -ูกุ ูุงููุณุชูููุงู ูุชุนุงูุฏุงู.</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">ุจ) ุฃูุซูุฉ ุชุญุชุงุฌ ุฎุทูุฉ ูุงุญุฏุฉ ููุญู</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="p-4 bg-white rounded-lg border border-gray-200 shadow-sm">
                                    <p class="mb-2 text-lg">ุต = <span class="text-red-600 font-bold">-ูข</span>ุณ + ูฃ</p>
                                    <p class="mb-3 text-lg"><span class="text-blue-600">ูข</span>ุณ + ุต = ูกู</p>
                                    <p class="text-sm text-gray-600"><b>ุญู ุงููุนุงุฏูุฉ ุงูุซุงููุฉ:</b> ุต = <span class="text-blue-600 font-bold">-ูข</span>ุณ + ูกู</p>
                                    <p class="text-sm mt-2 text-gray-600">ุงููููุงู: ูโ = <span class="text-red-600 font-bold">-ูข</span>ุ ูโ = <span class="text-blue-600 font-bold">-ูข</span></p>
                                    <p class="mt-2 p-2 bg-green-100 text-green-800 rounded-md font-bold text-center">ุจูุง ุฃู ูโ = ูโุ ูุงููุณุชูููุงู ูุชูุงุฒูุงู.</p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border border-gray-200 shadow-sm">
                                    <p class="mb-2 text-lg">ุต = <span class="text-red-600 font-bold"><span class="fraction"><span>ูก</span><span>ูข</span></span></span>ุณ - ูก</p>
                                    <p class="mb-3 text-lg"><span class="text-blue-600">ูค</span>ุณ + <span class="text-blue-600">ูข</span>ุต = ูจ</p>
                                    <p class="text-sm text-gray-600"><b>ุญู ุงููุนุงุฏูุฉ ุงูุซุงููุฉ:</b> ูขุต = -ูคุณ + ูจุ ูุจุงููุณูุฉ ุนูู ูข ุชุตุจุญ ุต = <span class="text-blue-600 font-bold">-ูข</span>ุณ + ูค</p>
                                    <p class="text-sm mt-2 text-gray-600">ุงููููุงู: ูโ = <span class="text-red-600 font-bold"><span class="fraction"><span>ูก</span><span>ูข</span></span></span>ุ ูโ = <span class="text-blue-600 font-bold">-ูข</span></p>
                                    <p class="mt-2 p-2 bg-purple-100 text-purple-800 rounded-md font-bold text-center">ุจูุง ุฃู <span class="fraction"><span>ูก</span><span>ูข</span></span> ร -ูข = -ูกุ ูุงููุณุชูููุงู ูุชุนุงูุฏุงู.</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">ุฌ) ุฃูุซูุฉ ุชุญุชุงุฌ ุฎุทูุชูู ููุญู</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="p-4 bg-white rounded-lg border border-gray-200 shadow-sm space-y-2">
                                    <p class="text-lg font-semibold">ุงููุนุงุฏูุชุงู:</p>
                                    <p class="text-lg text-center"><span class="text-red-600">ูฃ</span>ุณ + <span class="text-red-600">ูฅ</span>ุต = ูกู</p>
                                    <p class="text-lg text-center"><span class="text-blue-600">ูฅ</span>ุต = <span class="text-blue-600">-ูฃ</span>ุณ - ูฅ</p>
                                    <div class="pt-2 border-t">
                                        <p class="text-sm"><b>ุญู ุงููุนุงุฏูุฉ ุงูุฃููู:</b></p>
                                        <p class="text-xs text-gray-500">ูก. ูููู ูฃุณ ููุทุฑู ุงูุขุฎุฑ: <span class="math-eq">ูฅุต = -ูฃุณ + ูกู</span></p>
                                        <p class="text-xs text-gray-500">ูข. ููุณู ุนูู ูฅ: <span class="math-eq">ุต = -<span class="fraction"><span>ูฃ</span><span>ูฅ</span></span>ุณ + ูข</span>. ุงูููู ูโ = <span class="text-red-600 font-bold">-<span class="fraction"><span>ูฃ</span><span>ูฅ</span></span></span></p>
                                    </div>
                                    <div class="pt-2 border-t">
                                        <p class="text-sm"><b>ุญู ุงููุนุงุฏูุฉ ุงูุซุงููุฉ:</b></p>
                                        <p class="text-xs text-gray-500">ูก. ููุณู ุนูู ูฅ: <span class="math-eq">ุต = -<span class="fraction"><span>ูฃ</span><span>ูฅ</span></span>ุณ - ูก</span>. ุงูููู ูโ = <span class="text-blue-600 font-bold">-<span class="fraction"><span>ูฃ</span><span>ูฅ</span></span></span></p>
                                    </div>
                                    <p class="mt-2 p-2 bg-green-100 text-green-800 rounded-md font-bold text-center">ุจูุง ุฃู ุงูููููู ูุชุณุงููุงูุ ูุงููุณุชูููุงู ูุชูุงุฒูุงู.</p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border border-gray-200 shadow-sm space-y-2">
                                    <p class="text-lg font-semibold">ุงููุนุงุฏูุชุงู:</p>
                                    <p class="text-lg text-center"><span class="text-red-600">ูฅ</span>ุณ - <span class="text-red-600">ูฃ</span>ุต = ูฆ</p>
                                    <p class="text-lg text-center"><span class="text-blue-600">ูฃ</span>ุณ + <span class="text-blue-600">ูฅ</span>ุต = ูกู</p>
                                    <div class="pt-2 border-t">
                                        <p class="text-sm"><b>ุญู ุงููุนุงุฏูุฉ ุงูุฃููู:</b></p>
                                        <p class="text-xs text-gray-500">ูก. ูููู ูฅุณ ููุทุฑู ุงูุขุฎุฑ: <span class="math-eq">-ูฃุต = -ูฅุณ + ูฆ</span></p>
                                        <p class="text-xs text-gray-500">ูข. ููุณู ุนูู -ูฃ: <span class="math-eq">ุต = <span class="fraction"><span>-ูฅ</span><span>-ูฃ</span></span>ุณ + <span class="fraction"><span>ูฆ</span><span>-ูฃ</span></span></span></p>
                                        <p class="text-xs text-gray-500">ูฃ. ูุจุณุท: <span class="math-eq">ุต = <span class="fraction"><span>ูฅ</span><span>ูฃ</span></span>ุณ - ูข</span>. ุงูููู ูโ = <span class="text-red-600 font-bold"><span class="fraction"><span>ูฅ</span><span>ูฃ</span></span></span></p>
                                    </div>
                                    <div class="pt-2 border-t">
                                        <p class="text-sm"><b>ุญู ุงููุนุงุฏูุฉ ุงูุซุงููุฉ:</b></p>
                                        <p class="text-xs text-gray-500">ูก. ูููู ูฃุณ ููุทุฑู ุงูุขุฎุฑ: <span class="math-eq">ูฅุต = -ูฃุณ + ูกู</span></p>
                                        <p class="text-xs text-gray-500">ูข. ููุณู ุนูู ูฅ: <span class="math-eq">ุต = -<span class="fraction"><span>ูฃ</span><span>ูฅ</span></span>ุณ + ูข</span>. ุงูููู ูโ = <span class="text-blue-600 font-bold">-<span class="fraction"><span>ูฃ</span><span>ูฅ</span></span></span></p>
                                    </div>
                                    <p class="mt-2 p-2 bg-purple-100 text-purple-800 rounded-md font-bold text-center">ุจูุง ุฃู <span class="fraction"><span>ูฅ</span><span>ูฃ</span></span> ร -<span class="fraction"><span>ูฃ</span><span>ูฅ</span></span> = -ูกุ ูุงููุณุชูููุงู ูุชุนุงูุฏุงู.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">ูุซุงู ูข: ูุชุงุจุฉ ูุนุงุฏูุงุช ุงููุณุชูููุงุช (ุชูุงุนูู)</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4 mb-8">
                        <h3 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">ุงูููุน ุงูุฃูู: ูุชุงุจุฉ ูุนุงุฏูุฉ ูุณุชููู ููุงุฒู</h3>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1">
                                <p class="mb-2"><b>ุชูุฑูู (ุฃ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุฉ (-ูกุ -ูฅ) ูููุงุฒู ูููุณุชููู <span class="math-eq">ุต = ูฃุณ + ูข</span>.</p>
                                <div class="border p-4 rounded-lg bg-white h-full flex flex-col">
                                    <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[200px]">
                                        <div id="interactive-explanation-1a" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-1a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-1a">0</span> / 4</span>
                                        <button id="interactive-next-1a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="mb-2"><b>ุชูุฑูู (ุจ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุฉ (ูคุ ู) ูููุงุฒู ูููุณุชููู <span class="math-eq">ูขุณ + ุต = ูก</span>.</p>
                                <div class="border p-4 rounded-lg bg-white h-full flex flex-col">
                                    <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[200px]">
                                        <div id="interactive-explanation-1b" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-1b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-1b">0</span> / 5</span>
                                        <button id="interactive-next-1b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-4 mb-8">
                        <h3 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">ุงูููุน ุงูุซุงูู: ูุชุงุจุฉ ูุนุงุฏูุฉ ูุณุชููู ูุชุนุงูุฏ</h3>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1">
                                <p class="mb-2"><b>ุชูุฑูู (ุฌ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุฉ (ูฆุ -ูก) ููุชุนุงูุฏ ูุน ุงููุณุชููู <span class="math-eq">ุต = -ูขุณ + ูฅ</span>.</p>
                                <div class="border p-4 rounded-lg bg-white h-full flex flex-col">
                                    <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[200px]">
                                        <div id="interactive-explanation-2a" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-2a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-2a">0</span> / 4</span>
                                        <button id="interactive-next-2a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="mb-2"><b>ุชูุฑูู (ุฏ):</b> ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุฉ (-ูคุ ูฃ) ููุชุนุงูุฏ ูุน ุงููุณุชููู <span class="math-eq">ูขุณ - ูฅุต = ูกู</span>.</p>
                                <div class="border p-4 rounded-lg bg-white h-full flex flex-col">
                                    <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[200px]">
                                        <div id="interactive-explanation-2b" class="text-right"></div>
                                    </div>
                                    <div class="mt-4 flex justify-between items-center">
                                        <button id="interactive-back-2b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                        <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-2b">0</span> / 5</span>
                                        <button id="interactive-next-2b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `, 
            generateQuiz: () => {
                const questionBank = [
                    { level: 'โญ', text: `ูุง ููู ุงููุณุชููู ุงูููุงุฒู ูููุณุชููู <span class="math-eq">ุต = ูฅุณ - ูฃ</span>ุ`, options: [ { display: 'ูฅ', value: 'A' }, { display: '-ูฃ', value: 'B' }, { display: '-<span class="fraction"><span>ูก</span><span>ูฅ</span></span>', value: 'C' }, { display: '<span class="fraction"><span>ูก</span><span>ูฅ</span></span>', value: 'D' } ], correct: 'A', explanation: `<p>ุงููุณุชูููุงุช ุงููุชูุงุฒูุฉ ููุง ุงูููู ููุณู.</p><p>ููู ุงููุณุชููู ุงููุนุทู <span class="math-eq">ุต = <span class="text-red-600 font-bold">ูฅ</span>ุณ - ูฃ</span> ูู <span class="text-red-600 font-bold">ูฅ</span>.</p><p>ุฅุฐูุ ููู ุงููุณุชููู ุงูููุงุฒู ูู ูู ุฃูุถุงู <span class="text-red-600 font-bold">ูฅ</span>.</p>` },
                    { level: 'โญ', text: `ูุง ููู ุงููุณุชููู ุงููุชุนุงูุฏ ูุน ุงููุณุชููู <span class="math-eq">ุต = -ูคุณ + ูก</span>ุ`, options: [ { display: '-ูค', value: 'A' }, { display: 'ูค', value: 'B' }, { display: '-<span class="fraction"><span>ูก</span><span>ูค</span></span>', value: 'C' }, { display: '<span class="fraction"><span>ูก</span><span>ูค</span></span>', value: 'D' } ], correct: 'D', explanation: `<p>ููู ุงููุณุชููู ุงููุนุทู ูู <span class="math-eq">ูโ = <span class="text-red-600 font-bold">-ูค</span></span>.</p><p>ููู ุงููุณุชููู ุงููุชุนุงูุฏ ูู ูุนููุณ ููููุจ ุงูููู ุงูุฃูู.</p><p>ููููุจ <span class="text-red-600 font-bold">-ูค</span> ูู <span class="math-eq">-<span class="fraction"><span>ูก</span><span>ูค</span></span></span>.</p><p>ูุนููุณ ุงูุฅุดุงุฑุฉ ูู <span class="math-eq"><span class="text-blue-600 font-bold"><span class="fraction"><span>ูก</span><span>ูค</span></span></span></span>.</p>` },
                    { level: 'โญโญ', text: `ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุฉ (ูขุ ูฃ) ูููุงุฒู ูููุณุชููู <span class="math-eq">ุต = ูขุณ + ูก</span>ุ`, options: [ { display: 'ุต = ูขุณ - ูก', value: 'A' }, { display: 'ุต = ูขุณ + ูฃ', value: 'B' }, { display: 'ุต = -<span class="fraction"><span>ูก</span><span>ูข</span></span>ุณ + ูค', value: 'C' }, { display: 'ุต - ูฃ = ูข(ุณ - ูข)', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ููู ุงููุณุชููู ุงููุนุทู:</b> <span class="math-eq">ู = <span class="text-red-600 font-bold">ูข</span></span>.</p><p><b>2. ููู ุงููุณุชููู ุงูููุงุฒู:</b> <span class="math-eq">ู = <span class="text-red-600 font-bold">ูข</span></span>.</p><p><b>3. ุงุณุชุฎุฏุงู ุตูุบุฉ ุงูููู ูููุทุฉ:</b> <span class="math-eq">ุต - <span class="text-blue-600 font-bold">ูฃ</span> = <span class="text-red-600 font-bold">ูข</span>(ุณ - <span class="text-green-600 font-bold">ูข</span>)</span>.</p><p><b>4. ุงูุชุญููู ูุตูุบุฉ ุงูููู ูุงูููุทุน:</b><br>ููู ุงูููุณ: <span class="math-eq">ุต - ูฃ = ูขุณ - ูค</span><br>ูููู -ูฃ: <span class="math-eq">ุต = ูขุณ - ูก</span></p>` },
                    { level: 'โญโญ', text: `ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุฉ (ูกุ ูจ) ููุชุนุงูุฏ ูุน ุงููุณุชููู <span class="math-eq">ุต = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ + ูฅ</span>ุ`, options: [ { display: 'ุต = -ูคุณ + ูกูข', value: 'A' }, { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ + ูง.ูงูฅ', value: 'B' }, { display: 'ุต = ูคุณ + ูค', value: 'C' }, { display: 'ุต = -ูคุณ + ูจ', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ููู ุงููุณุชููู ุงููุนุทู:</b> <span class="math-eq">ูโ = <span class="text-red-600 font-bold"><span class="fraction"><span>ูก</span><span>ูค</span></span></span></span>.</p><p><b>2. ููู ุงููุณุชููู ุงููุชุนุงูุฏ:</b> ูุนููุณ ููููุจ <span class="text-red-600 font-bold"><span class="fraction"><span>ูก</span><span>ูค</span></span></span> ูู <span class="math-eq">ูโ = <span class="text-blue-600 font-bold">-ูค</span></span>.</p><p><b>3. ุงุณุชุฎุฏุงู ุตูุบุฉ ุงูููู ูููุทุฉ:</b> <span class="math-eq">ุต - <span class="text-green-600 font-bold">ูจ</span> = <span class="text-blue-600 font-bold">-ูค</span>(ุณ - <span class="purple-600 font-bold">ูก</span>)</span>.</p><p><b>4. ุงูุชุญููู ูุตูุบุฉ ุงูููู ูุงูููุทุน:</b><br>ููู ุงูููุณ: <span class="math-eq">ุต - ูจ = -ูคุณ + ูค</span><br>ูููู -ูจ: <span class="math-eq">ุต = -ูคุณ + ูกูข</span></p>` },
                    { level: 'โญโญโญ', text: `ุฃู ูู ุงููุนุงุฏูุงุช ุงูุชุงููุฉ ุชูุซู ูุณุชูููุงู ูุชุนุงูุฏุงู ูุน <span class="math-eq">ูฃุณ + ูขุต = ูฆ</span>ุ`, options: [ { display: 'ุต = -<span class="fraction"><span>ูฃ</span><span>ูข</span></span>ุณ + ูฅ', value: 'A' }, { display: 'ุต = <span class="fraction"><span>ูฃ</span><span>ูข</span></span>ุณ + ูก', value: 'B' }, { display: 'ุต = <span class="fraction"><span>ูข</span><span>ูฃ</span></span>ุณ - ูข', value: 'C' }, { display: 'ุต = -<span class="fraction"><span>ูข</span><span>ูฃ</span></span>ุณ + ูค', value: 'D' } ], correct: 'C', explanation: `<p><b>1. ููุฌุฏ ููู ุงููุณุชููู ุงููุนุทู:</b></p><p class='text-sm'>ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ: <span class="math-eq"><span class="text-red-600 font-bold">ูฃ</span>ุณ + <span class="text-blue-600 font-bold">ูข</span>ุต = ูฆ</span></p><p class='text-sm'>ูููู <span class="text-red-600 font-bold">ูฃ</span>ุณ ููุทุฑู ุงูุขุฎุฑ: <span class="math-eq"><span class="text-blue-600 font-bold">ูข</span>ุต = -<span class="text-red-600 font-bold">ูฃ</span>ุณ + ูฆ</span></p><p class='text-sm'>ููุณู ุงูุทุฑููู ุนูู <span class="text-blue-600 font-bold">ูข</span>: <span class="math-eq">ุต = -<span class="fraction"><span>ูฃ</span><span>ูข</span></span>ุณ + ูฃ</span></p><p>ุฅุฐูุ ููู ุงููุณุชููู ุงููุนุทู ูู <span class="math-eq">ูโ = -<span class="fraction"><span>ูฃ</span><span>ูข</span></span></span>.</p><p><b>2. ููุฌุฏ ููู ุงููุณุชููู ุงููุชุนุงูุฏ:</b></p><p>ููู ุงููุณุชููู ุงููุชุนุงูุฏ ูู ูุนููุณ ููููุจ ุงูููู ุงูุฃูู.</p><p><span class="math-eq">ูโ = <span class="fraction"><span>ูข</span><span>ูฃ</span></span></span>.</p><p><b>3. ูุจุญุซ ุนู ุงููุนุงุฏูุฉ ุงูุชู ููููุง <span class="fraction"><span>ูข</span><span>ูฃ</span></span>:</b></p><p>ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูู <span class="math-eq">ุต = <span class="fraction"><span>ูข</span><span>ูฃ</span></span>ุณ - ูข</span>.</p>` },
                    { level: 'โญ', text: `ูุง ุงูุนูุงูุฉ ุจูู ุงููุณุชููููู <span class="math-eq">ูฆุณ + ูขุต = ูจ</span> ู <span class="math-eq">ุต = -ูฃุณ - ูข</span>ุ`, options: [ { display: 'ูุชูุงุฒูุงู', value: 'A' }, { display: 'ูุชุนุงูุฏุงู', value: 'B' }, { display: 'ูุชูุงุทุนุงู ูุบูุฑ ูุชุนุงูุฏูู', value: 'C' }, { display: 'ูุชุทุงุจูุงู', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ููุฌุฏ ููู ุงููุณุชููู ุงูุฃูู:</b></p><p class='text-sm'>ุงููุนุงุฏูุฉ: <span class="math-eq">ูฆุณ + ูขุต = ูจ</span></p><p class='text-sm'>ูููู ูฆุณ: <span class="math-eq">ูขุต = -ูฆุณ + ูจ</span></p><p class='text-sm'>ููุณู ุนูู ูข: <span class="math-eq">ุต = -ูฃุณ + ูค</span></p><p>ุฅุฐูุ ููู ุงููุณุชููู ุงูุฃูู ูู <span class="math-eq">ูโ = <span class="text-red-600 font-bold">-ูฃ</span></span>.</p><p><b>2. ููุฌุฏ ููู ุงููุณุชููู ุงูุซุงูู:</b></p><p>ุงููุนุงุฏูุฉ <span class="math-eq">ุต = -ูฃุณ - ูข</span> ุฌุงูุฒุฉ ุจุตูุบุฉ ุงูููู ูุงูููุทุน.</p><p>ููู ุงููุณุชููู ุงูุซุงูู ูู <span class="math-eq">ูโ = <span class="text-blue-600 font-bold">-ูฃ</span></span>.</p><p><b>3. ููุงุฑู ุงูููููู:</b></p><p>ุจูุง ุฃู <span class="text-red-600 font-bold">-ูฃ</span> = <span class="text-blue-600 font-bold">-ูฃ</span>ุ ูุงููุณุชูููุงู ูุชูุงุฒูุงู.</p>` },
                    { level: 'โญ', text: `ูุง ููู ุงููุณุชููู ุงููุชุนุงูุฏ ูุน ุงููุณุชููู <span class="math-eq">ุณ = ูฅ</span>ุ`, options: [ { display: 'ู', value: 'A' }, { display: 'ูก', value: 'B' }, { display: 'ุบูุฑ ูุนุฑู', value: 'C' }, { display: '-ูก', value: 'D' } ], correct: 'A', explanation: `<p>ุงููุณุชููู <span class="math-eq">ุณ = ูฅ</span> ูู ูุณุชููู ุฑุฃุณู.</p><p>ููู ุงููุณุชููู ุงูุฑุฃุณู ุบูุฑ ูุนุฑู.</p><p>ุงููุณุชููู ุงููุชุนุงูุฏ ูุน ูุณุชููู ุฑุฃุณู ูู ูุณุชููู ุฃููู.</p><p>ููู ุฃู ูุณุชููู ุฃููู ูุณุงูู <span class="text-red-600 font-bold">ู</span>.</p>` },
                    { level: 'โญโญ', text: `ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุฉ (-ูฃุ -ูก) ูููุงุฒู ูููุณุชููู <span class="math-eq">ุต = -ูขุณ + ูฅ</span>ุ`, options: [ { display: 'ุต = -ูขุณ - ูง', value: 'A' }, { display: 'ุต = -ูขุณ - ูก', value: 'B' }, { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูข</span></span>ุณ + ู.ูฅ', value: 'C' }, { display: 'ุต = -ูขุณ + ูฅ', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ููู ุงููุณุชููู ุงููุนุทู:</b> <span class="math-eq">ู = <span class="text-red-600 font-bold">-ูข</span></span>.</p><p><b>2. ููู ุงููุณุชููู ุงูููุงุฒู:</b> <span class="math-eq">ู = <span class="text-red-600 font-bold">-ูข</span></span>.</p><p><b>3. ุงุณุชุฎุฏุงู ุตูุบุฉ ุงูููู ูููุทุฉ:</b> <span class="math-eq">ุต - (<span class="text-blue-600 font-bold">-ูก</span>) = <span class="text-red-600 font-bold">-ูข</span>(ุณ - (<span class="text-green-600 font-bold">-ูฃ</span>))</span>.</p><p><b>4. ุงูุชุญููู ูุตูุบุฉ ุงูููู ูุงูููุทุน:</b><br>ูุจุณุท: <span class="math-eq">ุต + ูก = -ูข(ุณ + ูฃ)</span><br>ููู ุงูููุณ: <span class="math-eq">ุต + ูก = -ูขุณ - ูฆ</span><br>ูููู ูก: <span class="math-eq">ุต = -ูขุณ - ูง</span></p>` },
                    { level: 'โญโญ', text: `ูุง ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุฉ (ูคุ -ูข) ููุชุนุงูุฏ ูุน ุงููุณุชููู <span class="math-eq">ุต = -ูคุณ + ูก</span>ุ`, options: [ { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ - ูฃ', value: 'A' }, { display: 'ุต = -ูคุณ + ูกูค', value: 'B' }, { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ - ูก', value: 'C' }, { display: 'ุต = ูคุณ - ูกูจ', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ููู ุงููุณุชููู ุงููุนุทู:</b> <span class="math-eq">ูโ = <span class="text-red-600 font-bold">-ูค</span></span>.</p><p><b>2. ููู ุงููุณุชููู ุงููุชุนุงูุฏ:</b> ูุนููุณ ููููุจ <span class="text-red-600 font-bold">-ูค</span> ูู <span class="math-eq">ูโ = <span class="text-blue-600 font-bold"><span class="fraction"><span>ูก</span><span>ูค</span></span></span></span>.</p><p><b>3. ุงุณุชุฎุฏุงู ุตูุบุฉ ุงูููู ูููุทุฉ:</b> <span class="math-eq">ุต - (<span class="text-green-600 font-bold">-ูข</span>) = <span class="text-blue-600 font-bold"><span class="fraction"><span>ูก</span><span>ูค</span></span></span>(ุณ - <span class="purple-600 font-bold">ูค</span>)</span>.</p><p><b>4. ุงูุชุญููู ูุตูุบุฉ ุงูููู ูุงูููุทุน:</b><br>ูุจุณุท: <span class="math-eq">ุต + ูข = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ - ูก</span><br>ูููู ูข: <span class="math-eq">ุต = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ - ูฃ</span></p>` },
                    { level: 'โญโญ', text: `ูุง ุงูุนูุงูุฉ ุจูู ุงููุณุชููููู <span class="math-eq">ุต - ูข = ูฃ(ุณ - ูก)</span> ู <span class="math-eq">ุต = -<span class="fraction"><span>ูก</span><span>ูฃ</span></span>ุณ + ูค</span>ุ`, options: [ { display: 'ูุชูุงุฒูุงู', value: 'A' }, { display: 'ูุชุนุงูุฏุงู', value: 'B' }, { display: 'ูุชูุงุทุนุงู ูุบูุฑ ูุชุนุงูุฏูู', value: 'C' }, { display: 'ูุชุทุงุจูุงู', value: 'D' } ], correct: 'B', explanation: `<p><b>1. ููู ุงููุณุชููู ุงูุฃูู:</b> ุงููุนุงุฏูุฉ ุจุตูุบุฉ ุงูููู ูููุทุฉุ ุฅุฐู ุงูููู ูู <span class="math-eq">ูโ = <span class="text-red-600 font-bold">ูฃ</span></span>.</p><p><b>2. ููู ุงููุณุชููู ุงูุซุงูู:</b> ุงููุนุงุฏูุฉ ุจุตูุบุฉ ุงูููู ูุงูููุทุนุ ุฅุฐู ุงูููู ูู <span class="math-eq">ูโ = <span class="text-blue-600 font-bold">-<span class="fraction"><span>ูก</span><span>ูฃ</span></span></span></span>.</p><p><b>3. ูุชุญูู ูู ุงูุนูุงูุฉ:</b><br>ุญุงุตู ุถุฑุจ ุงูููููู: <span class="math-eq"><span class="text-red-600 font-bold">ูฃ</span> ร (<span class="text-blue-600 font-bold">-<span class="fraction"><span>ูก</span><span>ูฃ</span></span></span>) = -ูก</span>.</p><p>ุจูุง ุฃู ุญุงุตู ุงูุถุฑุจ ูุณุงูู -ูกุ ูุงููุณุชูููุงู ูุชุนุงูุฏุงู.</p>` },
                    { level: 'โญโญโญ', text: `ุงูุชุจ ูุนุงุฏูุฉ ุงููุณุชููู ุงููุงุฑ ุจุงูููุทุฉ (ูขุ ูฅ) ููุชุนุงูุฏ ูุน ุงููุณุชููู <span class="math-eq">ูคุณ + ุต = ูง</span> ุจุตูุบุฉ ุงูููู ูุงูููุทุน.`, options: [ { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ + ูค.ูฅ', value: 'A' }, { display: 'ุต = -ูคุณ + ูกูฃ', value: 'B' }, { display: 'ุต = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ - ูค.ูฅ', value: 'C' }, { display: 'ุต = -ูคุณ + ูฅ', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ููุฌุฏ ููู ุงููุณุชููู ุงููุนุทู:</b><br><span class="math-eq">ูคุณ + ุต = ูง</span> ูููู ูคุณ ูุชุตุจุญ <span class="math-eq">ุต = -ูคุณ + ูง</span>. ุฅุฐู <span class="math-eq">ูโ = <span class="text-red-600 font-bold">-ูค</span></span>.</p><p><b>2. ููู ุงููุณุชููู ุงููุชุนุงูุฏ:</b> ูุนููุณ ููููุจ <span class="text-red-600 font-bold">-ูค</span> ูู <span class="math-eq">ูโ = <span class="text-blue-600 font-bold"><span class="fraction"><span>ูก</span><span>ูค</span></span></span></span>.</p><p><b>3. ุงุณุชุฎุฏุงู ุตูุบุฉ ุงูููู ูููุทุฉ:</b> <span class="math-eq">ุต - <span class="text-green-600 font-bold">ูฅ</span> = <span class="text-blue-600 font-bold"><span class="fraction"><span>ูก</span><span>ูค</span></span></span>(ุณ - <span class="purple-600 font-bold">ูข</span>)</span>.</p><p><b>4. ุงูุชุญููู ูุตูุบุฉ ุงูููู ูุงูููุทุน:</b><br>ููู ุงูููุณ: <span class="math-eq">ุต - ูฅ = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ - <span class="fraction"><span>ูข</span><span>ูค</span></span></span><br>ูุจุณุท ููููู -ูฅ: <span class="math-eq">ุต = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ - ู.ูฅ + ูฅ</span><br>ุงููุงุชุฌ ุงูููุงุฆู: <span class="math-eq">ุต = <span class="fraction"><span>ูก</span><span>ูค</span></span>ุณ + ูค.ูฅ</span></p>` },
                    { level: 'โญโญโญ', text: `ุฃู ูุตู ูุตู ุงููุณุชููููู <span class="math-eq">ูขุณ - ูฅุต = -ูฃ</span> ู <span class="math-eq">ูฅุณ + ูขุต = ูฆ</span>ุ`, options: [ { display: 'ูุชูุงุฒูุงู', value: 'A' }, { display: 'ูุชุนุงูุฏุงู', value: 'B' }, { display: 'ูุชูุงุทุนุงู ูุบูุฑ ูุชุนุงูุฏูู', value: 'C' }, { display: 'ูุชุทุงุจูุงู', value: 'D' } ], correct: 'B', explanation: `<p><b>1. ููุฌุฏ ููู ุงููุณุชููู ุงูุฃูู:</b><br><span class="math-eq">ูขุณ - ูฅุต = -ูฃ</span> ูููู ูขุณ: <span class="math-eq">-ูฅุต = -ูขุณ - ูฃ</span> ููุณู ุนูู -ูฅ: <span class="math-eq">ุต = <span class="text-red-600 font-bold"><span class="fraction"><span>ูข</span><span>ูฅ</span></span></span>ุณ + <span class="fraction"><span>ูฃ</span><span>ูฅ</span></span></span>. ุฅุฐู <span class="math-eq">ูโ = <span class="text-red-600 font-bold"><span class="fraction"><span>ูข</span><span>ูฅ</span></span></span></span>.</p><p><b>2. ููุฌุฏ ููู ุงููุณุชููู ุงูุซุงูู:</b><br><span class="math-eq">ูฅุณ + ูขุต = ูฆ</span> ูููู ูฅุณ: <span class="math-eq">ูขุต = -ูฅุณ + ูฆ</span> ููุณู ุนูู ูข: <span class="math-eq">ุต = <span class="text-blue-600 font-bold">-<span class="fraction"><span>ูฅ</span><span>ูข</span></span></span>ุณ + ูฃ</span>. ุฅุฐู <span class="math-eq">ูโ = <span class="text-blue-600 font-bold">-<span class="fraction"><span>ูฅ</span><span>ูข</span></span></span></span>.</p><p><b>3. ูุชุญูู ูู ุงูุนูุงูุฉ:</b><br>ุญุงุตู ุถุฑุจ ุงูููููู: <span class="math-eq">(<span class="text-red-600 font-bold"><span class="fraction"><span>ูข</span><span>ูฅ</span></span></span>) ร (<span class="text-blue-600 font-bold">-<span class="fraction"><span>ูฅ</span><span>ูข</span></span></span>) = -ูก</span>.</p><p>ุจูุง ุฃู ุญุงุตู ุงูุถุฑุจ ูุณุงูู -ูกุ ูุงููุณุชูููุงู ูุชุนุงูุฏุงู.</p>` }
                ];
                return [...questionBank].sort(() => Math.random() - 0.5).slice(0, 5);
            }  },
        
        // === ุงููุตู ุงูุฑุงุจุน: ุงููุชุจุงููุงุช ุงูุฎุทูุฉ ===
        'c4_l1': { title: 'ุงูุฏุฑุณ ูค-ูก: ุญู ุงููุชุจุงููุงุช ุจุงูุฌูุน ุฃู ุจุงูุทุฑุญ', content: `
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ก ุฃููุงู: ุงูููุงููู ุงูุฃุณุงุณูุฉ</h2>
                    <div class="p-6 bg-blue-50 rounded-lg space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h3 class="text-xl font-semibold text-blue-700 mb-2">ุฎุงุตูุฉ ุงูุฌูุน ูููุชุจุงููุงุช</h3>
                                <p>ุฅุฐุง ุฃูุถูู ุงูุนุฏุฏ ููุณู ุฅูู ูู ูู ุทุฑูู ูุชุจุงููุฉ ุตุญูุญุฉุ ูุฅู ุงููุชุจุงููุฉ ุงููุงุชุฌุฉ ุชุจูู ุตุญูุญุฉ.</p>
                                <div class="mt-4 p-4 bg-white rounded-lg border">
                                    <p class="text-center my-2 p-3 bg-indigo-50 rounded-md text-lg md:text-xl math-eq">
                                        ุฅุฐุง ูุงู ุฃ > ุจุ<br> ูุฅู ุฃ + <span class="text-red-600">ุฌ</span> > ุจ + <span class="text-red-600">ุฌ</span>
                                    </p>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold text-blue-700 mb-2">ุฎุงุตูุฉ ุงูุทุฑุญ ูููุชุจุงููุงุช</h3>
                                <p>ุฅุฐุง ุทูุฑุญ ุงูุนุฏุฏ ููุณู ูู ูู ูู ุทุฑูู ูุชุจุงููุฉ ุตุญูุญุฉุ ูุฅู ุงููุชุจุงููุฉ ุงููุงุชุฌุฉ ุชุจูู ุตุญูุญุฉ.</p>
                                <div class="mt-4 p-4 bg-white rounded-lg border">
                                    <p class="text-center my-2 p-3 bg-indigo-50 rounded-md text-lg md:text-xl math-eq">
                                        ุฅุฐุง ูุงู ุฃ > ุจุ<br> ูุฅู ุฃ - <span class="text-red-600">ุฌ</span> > ุจ - <span class="text-red-600">ุฌ</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-blue-700 mb-2">ุงูููุฑุฏุงุช ุงูุฌุฏูุฏุฉ</h3>
                            <p><span class="vocab-term">ุงููุฌููุนุฉ:</span> ูู ุชุฌูุน ูู ุงูุฃุดูุงุก ุฃู ุงูุฃุนุฏุงุฏ ุงููุชููุฒุฉ.</p>
                            <p class="mt-2"><span class="vocab-term">ุงูุตูุฉ ุงููููุฒุฉ ูููุฌููุนุฉ:</span> ุทุฑููุฉ ูุฎุชุตุฑุฉ ููุตู ูุฌููุนุฉ ุงูุญูููุ ูุซู: <span class="math-eq">{ุณ | ุณ > ูฅ}</span> ูุชูุฑุฃ "ูุฌููุนุฉ ูู ุงูุฃุนุฏุงุฏ ุณ ุญูุซ ุณ ุฃูุจุฑ ูู ูฅ".</p>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">โ๏ธ ุซุงููุงู: ุฃูุซูุฉ ุชูุงุนููุฉ</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="border p-4 rounded-lg bg-white h-full flex flex-col shadow-sm">
                                <p class="mb-2 font-bold">ุฃ) ุญู ูุชุจุงููุฉ ุจุงุณุชุนูุงู ุงูุฌูุน: <span class="math-eq">ุณ - ูกูข โฅ ูจ</span></p>
                                <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[320px]">
                                    <div id="interactive-explanation-1a" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="interactive-back-1a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-1a">0</span> / 4</span>
                                    <button id="interactive-next-1a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                            <div class="border p-4 rounded-lg bg-white h-full flex flex-col shadow-sm">
                                <p class="mb-2 font-bold">ุจ) ุญู ูุชุจุงููุฉ ุจุงุณุชุนูุงู ุงูุทุฑุญ: <span class="math-eq">ู + ูกูฉ > ูฅูฆ</span></p>
                                <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[320px]">
                                    <div id="interactive-explanation-1b" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="interactive-back-1b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-1b">0</span> / 4</span>
                                    <button id="interactive-next-1b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="border p-4 rounded-lg bg-white h-full flex flex-col shadow-sm">
                                <p class="mb-2 font-bold">ุฌ) ูุชุบูุฑ ูู ุทุฑูู ุงููุชุจุงููุฉ: <span class="math-eq">ูฅู - ูก < ูคู + ูฆ</span></p>
                                <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[320px]">
                                    <div id="interactive-explanation-2a" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="interactive-back-2a" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-2a">0</span> / 5</span>
                                    <button id="interactive-next-2a" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                            <div class="border p-4 rounded-lg bg-white h-full flex flex-col shadow-sm">
                                <p class="mb-2 font-bold">ุฏ) ูุชุบูุฑ ูู ุทุฑูู ุงููุชุจุงููุฉ: <span class="math-eq">ูฃุณ + ูฆ โค ูขุณ + ูจ</span></p>
                                <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[320px]">
                                    <div id="interactive-explanation-2b" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="interactive-back-2b" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-2b">0</span> / 5</span>
                                    <button id="interactive-next-2b" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">๐ ุซุงูุซุงู: ุงููุณุงุฆู ุงูููุธูุฉ</h2>
                    <div class="p-6 bg-gray-50 rounded-lg space-y-8">
                        <div>
                            <h3 class="text-xl font-semibold text-gray-700 mb-4">ููุฎุต ุงูููููู: ุงูุนุจุงุฑุงุช ุงูุชู ุชุฏู ุนูู ุงููุชุจุงููุงุช</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full text-center border-collapse">
                                    <thead>
                                        <tr class="bg-blue-600 text-white">
                                            <th class="p-3 border border-blue-400">&lt;</th>
                                            <th class="p-3 border border-blue-400">&gt;</th>
                                            <th class="p-3 border border-blue-400">โค</th>
                                            <th class="p-3 border border-blue-400">โฅ</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white">
                                        <tr>
                                            <td class="p-3 border">ุฃูู ูู<br>ุฃุตุบุฑ ูู</td>
                                            <td class="p-3 border">ุฃูุจุฑ ูู<br>ุฃูุซุฑ ูู</td>
                                            <td class="p-3 border">ุฃูู ูู ุฃู ูุณุงูู<br>ุนูู ุงูุฃูุซุฑ<br>ูุง ูุฒูุฏ ุนูู</td>
                                            <td class="p-3 border">ุฃูุจุฑ ูู ุฃู ูุณุงูู<br>ุนูู ุงูุฃูู<br>ูุง ููู ุนู</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="mt-8">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4 border-t pt-4">ู) ุชุฏุฑูุจุงุช ุนูู ูุชุงุจุฉ ุงููุชุจุงููุงุช (ุฏูู ุญู)</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="p-4 bg-white rounded-lg border">
                                    <p class="mb-2">ูก. ูุฌุจ ุฃู ูููู ุนูุฑู <span class="math-eq">ุน</span> <span class="font-bold text-red-600">ุฃูุจุฑ ูู</span> ูกูจ ุนุงูุงู ููุชุตููุช.</p>
                                    <p class="text-center mt-2 solution-set"><span class="math-eq">ุน > ูกูจ</span></p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border">
                                    <p class="mb-2">ูข. ูุฌุจ ุฃู ุชููู ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ุงูุชุฌูุฏ <span class="math-eq">ุฏ</span> <span class="font-bold text-red-600">ุฃูู ูู</span> ู ุฏุฑุฌุฉ ูุฆููุฉ.</p>
                                    <p class="text-center mt-2 solution-set"><span class="math-eq">ุฏ < ู</span></p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border">
                                    <p class="mb-2">ูฃ. ูุฌุจ ุฃู ูููู ูุนู <span class="math-eq">ู</span> ูู ุงููุงู <span class="font-bold text-red-600">ุนูู ุงูุฃูู</span> ูฅ ุฑูุงูุงุช ูุฏุฎูู ุงูุญุฏููุฉ.</p>
                                    <p class="text-center mt-2 solution-set"><span class="math-eq">ู โฅ ูฅ</span></p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border">
                                    <p class="mb-2">ูค. ุณุนุฉ ุฎุฒุงู ุงููููุฏ <span class="math-eq">ุณ</span> <span class="font-bold text-red-600">ูุง ุชุฒูุฏ ุนูู</span> ูฅู ูุชุฑุงู.</p>
                                    <p class="text-center mt-2 solution-set"><span class="math-eq">ุณ โค ูฅู</span></p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border">
                                    <p class="mb-2">ูฅ. ูุงุชุฌ <span class="font-bold text-red-600">ุฌูุน</span> ุนุฏุฏ <span class="math-eq">ุณ</span> ุฅูู ูจ ูู <span class="font-bold text-red-600">ุฃุตุบุฑ ูู</span> ูขู.</p>
                                    <p class="text-center mt-2 solution-set"><span class="math-eq">ุณ + ูจ < ูขู</span></p>
                                </div>
                                <div class="p-4 bg-white rounded-lg border">
                                    <p class="mb-2">ูฆ. ูุงุชุฌ <span class="font-bold text-red-600">ุทุฑุญ</span> ูฆ ูู ุนุฏุฏ <span class="math-eq">ุต</span> ูู <span class="font-bold text-red-600">ุฃูุจุฑ ูู</span> ูกู.</p>
                                    <p class="text-center mt-2 solution-set"><span class="math-eq">ุต - ูฆ > ูกู</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="border p-4 rounded-lg bg-white h-full flex flex-col shadow-sm">
                                <p class="mb-2 font-bold">ุฒ) ูุณุฃูุฉ ููุธูุฉ (ูุซุงู ูุญููู): ูุน ุฎุงูุฏ ูกูฉูฅ ุฑูุงูุงู ููุฑูุฏ ุฃู ูููููุง ูู ูุฑูุฒ ุชุฌุงุฑู. ุงุดุชุฑู ูููุตุงู ุจูุจูุบ ูงูฅ ุฑูุงูุงูุ ููุฑูุฏ ุฃู ูุดุชุฑู ุจูุทุงูุงู. ูุง ุงููุจูุบ ุงูุฐู ูููู ุฃู ูุฏูุนู ููุจูุทุงูุ</p>
                                <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[320px]">
                                    <div id="interactive-explanation-verbal-1" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="interactive-back-verbal-1" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-verbal-1">0</span> / 3</span>
                                    <button id="interactive-next-verbal-1" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                            <div class="border p-4 rounded-lg bg-white h-full flex flex-col shadow-sm">
                                <p class="mb-2 font-bold">ุญ) ูุณุฃูุฉ ููุธูุฉ (ูุซุงู ูุญููู): ุชุฑูุฏ ุณุงุฑุฉ ุฃู ุชุฏุฎุฑ ูฅูู ุฑูุงู ุนูู ุงูุฃูู. ุฅุฐุง ูุงู ูุฏููุง ูขูกู ุฑูุงูุงุชุ ููุง ุงููุจูุบ ุงูุฅุถุงูู ุงูุฐู ูุฌุจ ุฃู ุชุฏุฎุฑูุ</p>
                                <div class="bg-gray-100 p-4 rounded-lg border flex-grow min-h-[320px]">
                                    <div id="interactive-explanation-verbal-2" class="text-right"></div>
                                </div>
                                <div class="mt-4 flex justify-between items-center">
                                    <button id="interactive-back-verbal-2" class="nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm">ุฑุฌูุน</button>
                                    <span class="text-sm font-bold text-gray-600">ุงูุฎุทูุฉ <span id="interactive-step-counter-verbal-2">0</span> / 3</span>
                                    <button id="interactive-next-verbal-2" class="nav-btn bg-indigo-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-indigo-700 text-sm">ุงูุชุงูู</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `, 
            generateQuiz: () => {
                const questionBank = [
                    { type: 'mcq', level: 'โญ', text: `ุญู ุงููุชุจุงููุฉ ุงูุชุงููุฉ: <span class="math-eq">ุณ + ูค < ูฉ</span>`, options: [ { display: 'ุณ < ูฅ', value: 'A' }, { display: 'ุณ > ูฅ', value: 'B' }, { display: 'ุณ < ูกูฃ', value: 'C' }, { display: 'ุณ > ูกูฃ', value: 'D' } ], correct: 'A', explanation: `<p>ูุญู ุงููุชุจุงููุฉ <span class="math-eq">ุณ + ูค < ูฉ</span>ุ ูุทุฑุญ ูค ูู ุงูุทุฑููู.</p><p><span class="math-eq">ุณ + ูค - ูค < ูฉ - ูค</span></p><p>ุฅุฐูุ ุงูุญู ูู <span class="math-eq">ุณ < ูฅ</span>.</p>` },
                    { type: 'mcq', level: 'โญ', text: `ุญู ุงููุชุจุงููุฉ ุงูุชุงููุฉ: <span class="math-eq">ุต - ูฃ โฅ ูง</span>`, options: [ { display: 'ุต โฅ ูค', value: 'A' }, { display: 'ุต โค ูค', value: 'B' }, { display: 'ุต โฅ ูกู', value: 'C' }, { display: 'ุต โค ูกู', value: 'D' } ], correct: 'C', explanation: `<p>ูุญู ุงููุชุจุงููุฉ <span class="math-eq">ุต - ูฃ โฅ ูง</span>ุ ูุถูู ูฃ ุฅูู ุงูุทุฑููู.</p><p><span class="math-eq">ุต - ูฃ + ูฃ โฅ ูง + ูฃ</span></p><p>ุฅุฐูุ ุงูุญู ูู <span class="math-eq">ุต โฅ ูกู</span>.</p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ุญู ุงููุชุจุงููุฉ ุงูุชุงููุฉ: <span class="math-eq">ูจ โค ู + ูกูฃ</span>`, options: [ { display: 'ู โฅ -ูฅ', value: 'A' }, { display: 'ู โค -ูฅ', value: 'B' }, { display: 'ู โฅ ูขูก', value: 'C' }, { display: 'ู โค ูขูก', value: 'D' } ], correct: 'A', explanation: `<p>ูุญู ุงููุชุจุงููุฉ <span class="math-eq">ูจ โค ู + ูกูฃ</span>ุ ูุทุฑุญ ูกูฃ ูู ุงูุทุฑููู.</p><p><span class="math-eq">ูจ - ูกูฃ โค ู + ูกูฃ - ูกูฃ</span></p><p>ูุจุณุท: <span class="math-eq">-ูฅ โค ู</span>ุ ูุงูุชู ุชูุงูุฆ <span class="math-eq">ู โฅ -ูฅ</span>.</p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ูุง ูู ุงููุชุจุงููุฉ ุงูุชู ุชุนุจุฑ ุนู ุงูุฌููุฉ "ูุงุชุฌ ุฌูุน ุนุฏุฏ ู ูง ุฃูุจุฑ ูู ูกูฅ"ุ`, options: [ { display: 'ุณ + ูง < ูกูฅ', value: 'A' }, { display: 'ุณ + ูง โค ูกูฅ', value: 'B' }, { display: 'ุณ + ูง > ูกูฅ', value: 'C' }, { display: 'ุณ + ูง โฅ ูกูฅ', value: 'D' } ], correct: 'C', explanation: `<p>ุงูุฌููุฉ "ูุงุชุฌ ุฌูุน ุนุฏุฏ ู ูง" ุชุชุฑุฌู ุฅูู <span class="math-eq">ุณ + ูง</span>.</p><p>ุนูุงูุฉ "ุฃูุจุฑ ูู" ูู <span class="math-eq">></span>.</p><p>ุฅุฐูุ ุงููุชุจุงููุฉ ุงููุงููุฉ ูู <span class="math-eq">ุณ + ูง > ูกูฅ</span>.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: `ุญู ุงููุชุจุงููุฉ ุงูุชุงููุฉ: <span class="math-eq">ูฉู - ูก > ูกูู</span>`, options: [ { display: 'ู < -ูก', value: 'A' }, { display: 'ู > -ูก', value: 'B' }, { display: 'ู < ูก', value: 'C' }, { display: 'ู > ูก', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ุงููุชุจุงููุฉ ุงูุฃุตููุฉ:</b> <span class="math-eq">ูฉู - ูก > ูกูู</span>.</p><p><b>2. ูุทุฑุญ ูฉู ูู ุงูุทุฑููู:</b> <span class="math-eq">ูฉู - ูฉู - ูก > ูกูู - ูฉู</span>.</p><p><b>3. ูุจุณุท:</b> <span class="math-eq">-ูก > ู</span>.</p><p><b>4. ุฅุนุงุฏุฉ ุงูุชุฑุชูุจ:</b> <span class="math-eq">ู < -ูก</span>.</p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ุฃู ูู ุงูุฃุนุฏุงุฏ ุงูุชุงููุฉ ููุชูู ููุฌููุนุฉ ุญู ุงููุชุจุงููุฉ <span class="math-eq">ู - ูฉ โค -ูค</span>ุ`, options: [ { display: 'ูฆ', value: 'A' }, { display: 'ูง', value: 'B' }, { display: 'ูจ', value: 'C' }, { display: 'ูฅ', value: 'D' } ], correct: 'D', explanation: `<p><b>1. ูุญู ุงููุชุจุงููุฉ ุฃููุงู:</b> <span class="math-eq">ู - ูฉ โค -ูค</span>.</p><p><b>2. ูุถูู ูฉ ููุทุฑููู:</b> <span class="math-eq">ู - ูฉ + ูฉ โค -ูค + ูฉ</span>.</p><p><b>3. ูุจุณุท:</b> <span class="math-eq">ู โค ูฅ</span>.</p><p><b>4. ูุชุญูู ูู ุงูุฎูุงุฑุงุช:</b> ุงูุนุฏุฏ ุงููุญูุฏ ุงูุฐู ูุญูู ุงูุดุฑุท "ุฃุตุบุฑ ูู ุฃู ูุณุงูู ูฅ" ูู ุงูุนุฏุฏ ูฅ.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: `ุญู ุงููุชุจุงููุฉ ุงูุชุงููุฉ: <span class="math-eq">ูฅูู + ูข โค ูคูู - ูก</span>`, options: [ { display: 'ูู โค -ูฃ', value: 'A' }, { display: 'ูู โฅ -ูฃ', value: 'B' }, { display: 'ูู โค ูก', value: 'C' }, { display: 'ูู โฅ ูก', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ุงููุชุจุงููุฉ ุงูุฃุตููุฉ:</b> <span class="math-eq">ูฅูู + ูข โค ูคูู - ูก</span>.</p><p><b>2. ูุทุฑุญ ูคูู ูู ุงูุทุฑููู:</b> <span class="math-eq">ูฅูู - ูคูู + ูข โค ูคูู - ูคูู - ูก</span>.</p><p><b>3. ูุจุณุท:</b> <span class="math-eq">ูู + ูข โค -ูก</span>.</p><p><b>4. ูุทุฑุญ ูข ูู ุงูุทุฑููู:</b> <span class="math-eq">ูู + ูข - ูข โค -ูก - ูข</span>.</p><p><b>5. ุงูุญู ุงูููุงุฆู:</b> <span class="math-eq">ูู โค -ูฃ</span>.</p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ูุงุชุฌ ุทุฑุญ ูฅ ูู ุนุฏุฏ ูุงุ ูู ุนูู ุงูุฃูู ูกูข. ุงูุชุจ ุงููุชุจุงููุฉ ุงูุชู ุชูุซู ูุฐู ุงูุฌููุฉ.`, options: [ { display: 'ุณ - ูฅ โฅ ูกูข', value: 'A' }, { display: 'ุณ - ูฅ โค ูกูข', value: 'B' }, { display: 'ูฅ - ุณ โฅ ูกูข', value: 'C' }, { display: 'ุณ + ูฅ โฅ ูกูข', value: 'D' } ], correct: 'A', explanation: `<p>ุนุจุงุฑุฉ "ูุงุชุฌ ุทุฑุญ ูฅ ูู ุนุฏุฏ ูุง" ุชุชุฑุฌู ุฅูู <span class="math-eq">ุณ - ูฅ</span>.</p><p>ุนุจุงุฑุฉ "ุนูู ุงูุฃูู" ุชุนูู "ุฃูุจุฑ ูู ุฃู ูุณุงูู" (โฅ).</p><p>ุฅุฐูุ ุงููุชุจุงููุฉ ูู <span class="math-eq">ุณ - ูฅ โฅ ูกูข</span>.</p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ุฃู ูู ุงููุชุจุงููุงุช ุงูุชุงููุฉ ุญููุง ูู <span class="math-eq">ู โฅ -ูข</span>ุ`, options: [ { display: 'ู + ูฃ โฅ ูก', value: 'A' }, { display: 'ู - ูก โฅ ูก', value: 'B' }, { display: 'ู + ูฅ โฅ ูจ', value: 'C' }, { display: 'ู - ูข โฅ -ูฃ', value: 'D' } ], correct: 'A', explanation: `<p>ูุญู ุงูุฎูุงุฑ ุงูุฃูู: <span class="math-eq">ู + ูฃ โฅ ูก</span>.</p><p>ูุทุฑุญ ูฃ ูู ุงูุทุฑููู: <span class="math-eq">ู โฅ ูก - ูฃ</span>.</p><p>ุฅุฐูุ <span class="math-eq">ู โฅ -ูข</span>. ููู ุงูุญู ุงููุทููุจ.</p>` },
                    { type: 'mcq', level: 'โญ', text: `ูุง ูู ุงูุฌููุฉ ุงูุชู ุชูุซู ุงููุชุจุงููุฉ <span class="math-eq">ุณ - ูฅ > ูกู</span>ุ`, options: [ { display: 'ุนุฏุฏ ูุทุฑูุญ ููู ูฅ ุฃูุจุฑ ูู ูกู', value: 'A' }, { display: 'ุนุฏุฏ ูุทุฑูุญ ููู ูฅ ุฃุตุบุฑ ูู ูกู', value: 'B' }, { display: 'ูุฌููุน ุนุฏุฏ ู ูฅ ุฃูุจุฑ ูู ูกู', value: 'C' }, { display: 'ูฅ ูุทุฑูุญ ูู ุนุฏุฏ ุฃูุจุฑ ูู ูกู', value: 'D' } ], correct: 'A', explanation: `<p>ุงููุชุจุงููุฉ <span class="math-eq">ุณ - ูฅ > ูกู</span> ุชูุฑุฃ ุญุฑููุงู: ุนุฏุฏ (ุณ) ูุทุฑูุญ ููู ูฅ ูู ุฃูุจุฑ ูู (>) ูกู.</p>` },
                    { type: 'mcq', level: 'โญโญโญ', text: `ุญู ุงููุชุจุงููุฉ ุงูุชุงููุฉ: <span class="math-eq">-ูข + ู โค -ูง + ูขู</span>`, options: [ { display: 'ู โฅ ูฅ', value: 'A' }, { display: 'ู โค ูฅ', value: 'B' }, { display: 'ู โฅ -ูฉ', value: 'C' }, { display: 'ู โค -ูฉ', value: 'D' } ], correct: 'A', explanation: `<p><b>1. ูุทุฑุญ ู ูู ุงูุทุฑููู:</b> <span class="math-eq">-ูข โค -ูง + ู</span>.</p><p><b>2. ูุถูู ูง ููุทุฑููู:</b> <span class="math-eq">-ูข + ูง โค ู</span>.</p><p><b>3. ูุจุณุท:</b> <span class="math-eq">ูฅ โค ู</span>ุ ูุงูุชู ุชูุงูุฆ <span class="math-eq">ู โฅ ูฅ</span>.</p>` },
                    { type: 'mcq', level: 'โญโญ', text: `ูุฑูุฏ ุณุงุฆู ูุทุน ูุณุงูุฉ ูุง ุชูู ุนู ูฃูู ูู. ุฅุฐุง ูุทุน ูกูขู ูู ุจุงููุนูุ ููุง ุงููุชุจุงููุฉ ุงูุชู ุชูุซู ุงููุณุงูุฉ ุงููุชุจููุฉ <span class="math-eq">ู</span> ุงูุชู ูุฌุจ ุนููู ูุทุนูุงุ`, options: [ { display: 'ูกูขู + ู โฅ ูฃูู', value: 'A' }, { display: 'ูกูขู + ู โค ูฃูู', value: 'B' }, { display: 'ู - ูกูขู โฅ ูฃูู', value: 'C' }, { display: 'ูฃูู - ู โค ูกูขู', value: 'D' } ], correct: 'A', explanation: `<p>ุงููุณุงูุฉ ุงูููุทูุนุฉ (ูกูขู ูู) ุฒุงุฆุฏ ุงููุณุงูุฉ ุงููุชุจููุฉ (<span class="math-eq">ู</span>) ูุฌุจ ุฃู ุชููู "ูุง ุชูู ุนู" (โฅ) ูฃูู ูู.</p><p>ุฅุฐูุ ุงููุชุจุงููุฉ ูู <span class="math-eq">ูกูขู + ู โฅ ูฃูู</span>.</p>` }
                ];
                return [...questionBank].sort(() => Math.random() - 0.5).slice(0, 5);
            }  },
        'c4_l2': { title: 'ุงูุฏุฑุณ ูค-ูข: ุญู ุงููุชุจุงููุงุช ุจุงูุถุฑุจ ุฃู ุจุงููุณูุฉ', content: '<!-- ุณูุชู ุฅุถุงูุฉ ูุญุชูู ุงูุฏุฑุณ ููุง -->', generateQuiz: () => { /* ุณูุชู ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุงูุฏุฑุณ ููุง */ return []; } },
        'c4_l3': { title: 'ุงูุฏุฑุณ ูค-ูฃ: ุญู ุงููุชุจุงููุงุช ุงููุชุนุฏุฏุฉ ุงูุฎุทูุงุช', content: '<!-- ุณูุชู ุฅุถุงูุฉ ูุญุชูู ุงูุฏุฑุณ ููุง -->', generateQuiz: () => { /* ุณูุชู ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุงูุฏุฑุณ ููุง */ return []; } },
        'c4_l4': { title: 'ุงูุฏุฑุณ ูค-ูค: ุญู ุงููุชุจุงููุงุช ุงููุฑูุจุฉ', content: '<!-- ุณูุชู ุฅุถุงูุฉ ูุญุชูู ุงูุฏุฑุณ ููุง -->', generateQuiz: () => { /* ุณูุชู ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุงูุฏุฑุณ ููุง */ return []; } },
        'c4_l5': { title: 'ุงูุฏุฑุณ ูค-ูฅ: ุญู ุงููุชุจุงููุงุช ุงูุชู ุชุชุถูู ุงููููุฉ ุงููุทููุฉ', content: '<!-- ุณูุชู ุฅุถุงูุฉ ูุญุชูู ุงูุฏุฑุณ ููุง -->', generateQuiz: () => { /* ุณูุชู ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุงูุฏุฑุณ ููุง */ return []; } },
    };

    // =================================================================
    // == 2. ูุฑุงุฌุน ุนูุงุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู
    // =================================================================
    const allViews = document.querySelectorAll('.view-section');
    const loginView = document.getElementById('login-view');
    const mainContentView = document.getElementById('main-content-view');
    const lessonView = document.getElementById('lesson-view');
    const userInfoHeader = document.getElementById('user-info-header');
    const teacherName = document.getElementById('teacher-name');
    const headerTitle = document.getElementById('header-title');
    const userWelcomeMessage = document.getElementById('user-welcome-message');
    const dashboardSection = document.getElementById('dashboard-section');
    const loginForm = document.getElementById('login-form');
    const loginSubmitBtn = document.getElementById('login-submit-btn');
    const explanationModal = document.getElementById('explanationModal');
    const explanationText = document.getElementById('explanationText');
    const closeModalBtn = document.getElementById('closeModalBtn');

    // =================================================================
    // == 3. ุงูููุทู ุงูุฃุณุงุณู ููุชุทุจูู
    // =================================================================

    /**
     * ูุฎูู ูู ุงููุงุฌูุงุช ุงูุฑุฆูุณูุฉ ููุธูุฑ ุงููุงุฌูุฉ ุงููุญุฏุฏุฉ.
     * @param {HTMLElement} viewToShow ุนูุตุฑ ุงููุงุฌูุฉ ุงููุฑุงุฏ ุฅุธูุงุฑู.
     */
    function showView(viewToShow) {
        allViews.forEach(v => v.classList.add('hidden'));
        viewToShow.classList.remove('hidden');
    }

    /**
     * ูุจูู ูุงุฆูุฉ ุงูููุฑุณ ุงูุฑุฆูุณูุฉ (ุงูุฃููุฑุฏููู) ูุน ุงููุตูู ูุงูุฏุฑูุณ.
     * @param {object | null} studentData ุจูุงูุงุช ุงูุทุงูุจ ุงููุณุฌูุ ุฃู null ููุฒุงุฆุฑ.
     */
    function buildAccordion(studentData) {
        const accordionContainer = document.getElementById('accordion-container');
        accordionContainer.innerHTML = '';
        const chapters = { c1: [], c2: [], c3: [], c4: [] };
        Object.keys(curriculum).forEach(lessonId => {
            const chapterId = lessonId.substring(0, 2);
            if (chapters[chapterId]) {
                curriculum[lessonId].id = lessonId;
                chapters[chapterId].push(curriculum[lessonId]);
            }
        });
        const chapterTitles = { c1: "ุงููุตู ูก: ุงููุนุงุฏูุงุช ุงูุฎุทูุฉ", c2: "ุงููุตู ูข: ุงูุนูุงูุงุช ูุงูุฏูุงู ุงูุฎุทูุฉ", c3: "ุงููุตู ูฃ: ุงูุฏูุงู ุงูุฎุทูุฉ", c4: "ุงููุตู ูค: ุงููุชุจุงููุงุช ุงูุฎุทูุฉ" };
        
        Object.keys(chapters).forEach(chapterId => {
            if (chapters[chapterId].length === 0) return;
            const lessonsHtml = chapters[chapterId].map(lesson => `
                <li class="flex justify-between items-center">
                    <button data-lesson-id="${lesson.id}" class="lesson-link text-gray-600 hover:text-indigo-600 text-right">${lesson.title}</button>
                    <span id="grade-${lesson.id}" class="grade-display bg-gray-200 text-gray-700 text-sm font-bold px-2 py-1 rounded">-</span>
                </li>
            `).join('');
            const chapterHtml = `
                <div class="border border-gray-200 rounded-lg">
                    <button class="chapter-toggle w-full flex justify-between items-center p-4 bg-gray-50 hover:bg-gray-100">
                        <h4 class="text-xl font-bold text-blue-700">${chapterTitles[chapterId]}</h4>
                        <svg class="w-6 h-6 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="lessons-list hidden p-4 border-t border-gray-200">
                        <ul class="space-y-3">${lessonsHtml}</ul>
                    </div>
                </div>`;
            accordionContainer.innerHTML += chapterHtml;
        });

        document.querySelectorAll('.chapter-toggle').forEach(btn => btn.onclick = () => {
            btn.nextElementSibling.classList.toggle('hidden');
            btn.querySelector('svg').classList.toggle('rotate-180');
        });
        document.querySelectorAll('.lesson-link').forEach(btn => btn.onclick = () => showLessonView(btn.dataset.lessonId));
        if(studentData) {
            updateGradesOnAccordion(studentData.lessons);
        } else {
            // ุจุงููุณุจุฉ ููุฒุงุฆุฑุ ูุฎูู ุฎุงูุฉ ุงูุฏุฑุฌุฉ
            document.querySelectorAll('.grade-display').forEach(el => el.classList.add('hidden'));
        }
    }

    /**
     * ูุญุฏูุซ ุนุฑุถ ุงูุฏุฑุฌุงุช ูู ูุงุฆูุฉ ุงูููุฑุณ.
     * @param {object} lessons ุจูุงูุงุช ุฏุฑูุณ ุงูุทุงูุจ.
     */
    function updateGradesOnAccordion(lessons) {
        if (!lessons) return;
        Object.keys(lessons).forEach(lessonId => {
            const gradeSpan = document.getElementById(`grade-${lessonId}`);
            if (gradeSpan) {
                const grade = lessons[lessonId].grade;
                gradeSpan.textContent = grade;
                gradeSpan.className = 'grade-display text-sm font-bold px-2 py-1 rounded';
                if (grade >= 5) {
                    gradeSpan.classList.add('bg-green-200', 'text-green-800');
                } else {
                    gradeSpan.classList.add('bg-red-200', 'text-red-800');
                }
            }
        });
    }

    /**
     * ูุนุฑุถ ูุญุชูู ูุงุฎุชุจุงุฑ ุฏุฑุณ ูุนูู.
     * @param {string} lessonId ุงููุนุฑูู ุงูุฎุงุต ุจุงูุฏุฑุณ.
     */
    function showLessonView(lessonId) {
        const lesson = curriculum[lessonId];
        if (!lesson || (lesson.content && lesson.content.includes('<!-- ุณูุชู ุฅุถุงูุฉ ูุญุชูู ุงูุฏุฑุณ ููุง -->'))) {
            alert('ุนููุงูุ ูุญุชูู ูุฐุง ุงูุฏุฑุณ ูู ุชุชู ุฅุถุงูุชู ุจุนุฏ.');
            return;
        }

        let attemptsLeft;
        if (currentStudent) {
            // ููุทู ุงูุทุงูุจ ุงููุณุฌู
            const studentLessonData = currentStudent.lessons?.[lessonId] || { attempts: 0 };
            attemptsLeft = MAX_ATTEMPTS - studentLessonData.attempts;
        } else {
            // ููุทู ุงูุฒุงุฆุฑ
            const visitorAttempts = JSON.parse(sessionStorage.getItem('visitorAttempts')) || {};
            attemptsLeft = visitorAttempts[lessonId] ? 0 : 1;
        }

        activeQuizQuestions = lesson.generateQuiz();
        
        const contentHtml = lesson.content;
        
        const quizHtml = activeQuizQuestions.map((q, index) => {
            const borderColorClass = q.level === 'โญ' ? 'border-green-300' : (q.level === 'โญโญ' ? 'border-blue-300' : 'border-red-300');
            const optionsHTML = q.options.map((opt, optIndex) => `
                <div>
                    <input type="radio" name="q${index}" value="${opt.value}" id="q${index}_opt${optIndex}">
                    <label for="q${index}_opt${optIndex}" class="option-label">${opt.display}</label>
                </div>
            `).join('');
            const questionBody = `<div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mt-3">${optionsHTML}</div>`;

            return `
                <div class="p-4 border-2 ${borderColorClass} rounded-lg">
                    <p class="font-bold">${index + 1}. <span class="text-yellow-400">${q.level || ''}</span> ${q.text}</p>
                    ${q.graph ? `<div class="quiz-graph-container">${q.graph}</div>` : ''}
                    ${questionBody}
                    <div id="feedback-q${index}" class="mt-2 text-sm font-bold"></div>
                    <button type="button" data-action="show-explanation" data-index="${index}" class="hidden mt-2 text-xs text-blue-600 hover:underline" id="explain-btn-${index}">ุงุนุฑู ููุงุฐุงุ</button>
                </div>`;
        }).join('');

        lessonView.innerHTML = `
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <header class="flex justify-between items-center mb-8 border-b pb-4 border-gray-200">
                    <h1 class="text-3xl font-bold text-blue-800">${lesson.title}</h1>
                    <button data-action="back-to-main" class="text-sm text-blue-600 hover:underline">&larr; ุงูุนูุฏุฉ ุฅูู ุงูููุฑุณ</button>
                </header>
                
                ${contentHtml}
                
                <section class="mt-12">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-gray-800">โ๏ธ ุงุฎุชุจุฑ ูููู</h2>
                        <div id="attempts-counter" class="text-sm font-bold text-gray-600">ุงููุญุงููุงุช ุงููุชุจููุฉ: <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full">${attemptsLeft}</span></div>
                    </div>
                    ${!currentStudent ? '<p id="visitor-quiz-message" class="text-center text-blue-600 font-bold mb-4 p-3 bg-blue-50 rounded-lg">ูุฏูู ูุญุงููุฉ ูุงุญุฏุฉ ูุฒุงุฆุฑ.</p>' : ''}
                    <form id="quizForm" class="p-6 bg-gray-50 rounded-lg space-y-8">${quizHtml}</form>
                    <div id="quiz-results" class="hidden mt-6 p-4 rounded-lg text-center">
                        <h3 class="text-xl font-bold">ูุชูุฌุชู ุงูููุงุฆูุฉ</h3>
                        <p id="quiz-score" class="text-4xl font-bold my-2"></p>
                        <div id="save-status" class="mt-4 text-sm font-semibold"></div>
                        <button data-action="retake-quiz" data-lesson-id="${lessonId}" class="mt-4 bg-blue-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-blue-700">ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ</button>
                    </div>
                </section>
            </div>`;
        
        // ูุดุบู ุงูุณูุฑูุจุช ุงูุฎุงุต ุจุงูุฏุฑุณ ุจุนุฏ ุนุฑุถ ุงููุญุชูู
        initializeLessonScripts(lessonId);
        
        showView(lessonView);
        initializeQuizInteractivity(lessonId, attemptsLeft);
    }
    
    /**
     * ูุฌูุฒ ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ ุงูุฎุงุตุฉ ุจูููุฐุฌ ุงูุงุฎุชุจุงุฑ.
     * @param {string} lessonId ุงููุนุฑูู ุงูุฎุงุต ุจุงูุฏุฑุณ ุงูุญุงูู.
     * @param {number} attemptsLeft ุนุฏุฏ ุงููุญุงููุงุช ุงููุชุจููุฉ.
     */
    function initializeQuizInteractivity(lessonId, attemptsLeft) {
        const quizForm = document.getElementById('quizForm');
        if (!quizForm) return;

        const submitQuizBtn = document.createElement('button');
        submitQuizBtn.id = 'submit-quiz-btn';
        submitQuizBtn.type = 'submit';
        submitQuizBtn.className = 'w-full text-white bg-green-600 hover:bg-green-700 font-medium rounded-lg text-lg px-5 py-3 mt-8';
        submitQuizBtn.textContent = 'ุชุญูู ูู ุฅุฌุงุจุงุชู';
        quizForm.appendChild(submitQuizBtn);

        const retakeQuizBtn = document.querySelector('[data-action="retake-quiz"]');

        if (attemptsLeft > 0) {
            quizForm.onsubmit = (e) => {
                e.preventDefault();
                let score = 0;
                activeQuizQuestions.forEach((q, index) => {
                    const userAnswer = e.target.elements[`q${index}`]?.value;
                    const feedbackEl = document.getElementById(`feedback-q${index}`);
                    if (userAnswer === q.correct) {
                        score++;
                        feedbackEl.textContent = 'โ ุฅุฌุงุจุฉ ุตุญูุญุฉ!';
                        feedbackEl.className = 'mt-2 text-sm font-bold feedback-correct';
                    } else {
                        feedbackEl.textContent = `โ ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ.`;
                        feedbackEl.className = 'mt-2 text-sm font-bold feedback-incorrect';
                    }
                    document.getElementById(`explain-btn-${index}`).classList.remove('hidden');
                });
                
                const finalGrade = Math.round((score / activeQuizQuestions.length) * 10);
                document.getElementById('quiz-score').textContent = `${finalGrade} / 10`;
                document.getElementById('quiz-results').classList.remove('hidden');
                submitQuizBtn.disabled = true;
                submitQuizBtn.classList.add('btn-disabled');

                if (currentStudent) {
                    // ููุทู ุงูุทุงูุจ ุงููุณุฌู
                    if (attemptsLeft - 1 <= 0) { 
                        retakeQuizBtn.disabled = true; 
                        retakeQuizBtn.textContent = 'ูุง ุชูุฌุฏ ูุญุงููุงุช ุฃุฎุฑู';
                        retakeQuizBtn.classList.add('btn-disabled');
                    }
                    saveGrade(lessonId, finalGrade);
                } else {
                    // ููุทู ุงูุฒุงุฆุฑ
                    const visitorAttempts = JSON.parse(sessionStorage.getItem('visitorAttempts')) || {};
                    visitorAttempts[lessonId] = true;
                    sessionStorage.setItem('visitorAttempts', JSON.stringify(visitorAttempts));
                    
                    const saveStatus = document.getElementById('save-status');
                    saveStatus.textContent = 'ุชู ุนุฑุถ ูุชูุฌุชู. ุณุฌู ุงูุฏุฎูู ูุญูุธ ุชูุฏูู.';
                    saveStatus.className = 'mt-4 text-sm font-semibold text-blue-600';
                    retakeQuizBtn.disabled = true;
                    retakeQuizBtn.textContent = 'ูุง ุชูุฌุฏ ูุญุงููุงุช ุฃุฎุฑู';
                    retakeQuizBtn.classList.add('btn-disabled');
                }
            };
        } else {
            submitQuizBtn.disabled = true;
            submitQuizBtn.classList.add('btn-disabled');
            submitQuizBtn.textContent = 'ูุง ุชูุฌุฏ ูุญุงููุงุช ูุชุจููุฉ';
            retakeQuizBtn.classList.add('hidden');
            if (!currentStudent) {
                document.getElementById('visitor-quiz-message').textContent = 'ููุฏ ุงุณุชููุฏุช ูุญุงููุชู ุงููุญูุฏุฉ ูุฒุงุฆุฑ ููุฐุง ุงูุฏุฑุณ.';
            }
        }
    }

    /**
     * ูุญูุธ ุฏุฑุฌุฉ ุงูุทุงูุจ ูู ุงููุงุฌูุฉ ุงูุฎูููุฉ (ููุท ุฅุฐุง ูุงู ุงูุทุงูุจ ูุณุฌูุงู).
     * @param {string} lessonId ุงููุนุฑูู ุงูุฎุงุต ุจุงูุฏุฑุณ.
     * @param {number} grade ุงูุฏุฑุฌุฉ ุงููุญุณูุจุฉ.
     */
    function saveGrade(lessonId, grade) {
        if (!currentStudent) return; // ูุง ูุญูุธ ุงูุฏุฑุฌุฉ ููุฒุงุฆุฑ
        const saveStatus = document.getElementById('save-status');
        saveStatus.innerHTML = `<div class="flex items-center justify-center text-yellow-600"><div class="loader mr-2"></div> ุฌุงุฑู ุญูุธ ูุชูุฌุชู...</div>`;
        const url = `${SCRIPT_URL}?action=saveGrade&studentId=${currentStudent.id}&lessonId=${lessonId}&grade=${grade}`;
        
        fetch(url).then(res => res.json()).then(result => {
            if (result.status === 'success') {
                saveStatus.textContent = 'โ ุชู ุญูุธ ูุชูุฌุชู ุจูุฌุงุญ!';
                saveStatus.className = 'mt-4 text-sm font-semibold text-green-600';
                if (!currentStudent.lessons) currentStudent.lessons = {};
                if (!currentStudent.lessons[lessonId]) currentStudent.lessons[lessonId] = { grade: 0, attempts: 0};
                currentStudent.lessons[lessonId].grade = grade;
                currentStudent.lessons[lessonId].attempts++;
                updateGradesOnAccordion(currentStudent.lessons);
            } else { throw new Error(result.message); }
        }).catch(error => {
            saveStatus.textContent = 'โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุญูุธ ุงูุฏุฑุฌุฉ.';
            saveStatus.className = 'mt-4 text-sm font-semibold text-red-600';
        });
    }

    /**
     * ูุนุฑุถ ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉุ ุจูุง ูู ุฐูู ููุญุฉ ุงูุชุญูู ูููุณุชุฎุฏููู ุงููุณุฌููู.
     * @param {object | null} studentData ุจูุงูุงุช ุงูุทุงูุจ ุงููุณุฌู.
     */
    function showMainScreen(studentData) {
        if (studentData) { // ุนุฑุถ ูููุณุชุฎุฏู ุงููุณุฌู
            dashboardSection.classList.remove('hidden');
            userWelcomeMessage.textContent = `ุฃููุงูุ ${studentData.name}`;
            ['name', 'id', 'class', 'phone'].forEach(key => document.getElementById(`display-${key}`).textContent = studentData[key] || '-');
            const totals = { level_test: 0, c1: 0, c2: 0, c3: 0, c4: 0 };
            if(studentData.lessons){
                Object.keys(studentData.lessons).forEach(lessonId => {
                    const chapterId = lessonId.substring(0, 2);
                    if(totals.hasOwnProperty(chapterId)){ totals[chapterId] += studentData.lessons[lessonId].grade; }
                });
            }
            ['level_test', 'c1', 'c2', 'c3', 'c4'].forEach(key => {
                const totalEl = document.getElementById(`total-${key}`);
                if(totalEl) totalEl.textContent = totals[key] || 0;
            });
            buildAccordion(studentData);
            userInfoHeader.classList.remove('hidden');
            teacherName.classList.add('hidden');
        } else { // ุนุฑุถ ููุฒุงุฆุฑ
            dashboardSection.classList.add('hidden');
            buildAccordion(null);
            userInfoHeader.classList.add('hidden');
            teacherName.classList.remove('hidden');
        }
        showView(mainContentView);
        headerTitle.textContent = 'ุฑูุงุถูุงุช ุงูุตู ุงูุซุงูุซ ุงููุชูุณุท';
    }

    /**
     * ูุนุงูุฌ ุนูููุฉ ุชุณุฌูู ุฏุฎูู ุงูุทุงูุจ.
     * @param {string} studentId ุฑูู ุงููููุฉ ุงูุฐู ุฃุฏุฎูู ุงูุทุงูุจ.
     */
    function handleLogin(studentId) {
        const loader = document.getElementById('login-loader');
        const errorDiv = document.getElementById('login-error');
        loader.classList.remove('hidden');
        loginSubmitBtn.disabled = true;
        errorDiv.classList.add('hidden');
        
        fetch(`${SCRIPT_URL}?action=getStudentData&studentId=${studentId}`).then(res => res.json()).then(result => {
            if (result.status === 'success' && result.data) {
                currentStudent = result.data;
                sessionStorage.setItem('studentId', result.data.id);
                showMainScreen(result.data);
            } else {
                sessionStorage.removeItem('studentId');
                errorDiv.textContent = 'ุฑูู ุงููููุฉ ุบูุฑ ูุณุฌู.';
                errorDiv.classList.remove('hidden');
            }
        }).catch(err => {
            errorDiv.textContent = 'ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู.';
            errorDiv.classList.remove('hidden');
        }).finally(() => {
            loader.classList.add('hidden');
            loginSubmitBtn.disabled = false;
        });
    }

    /**
     * ูุธูุฑ ูุงูุฐุฉ ุงูุดุฑุญ ูุณุคุงู ูู ุงูุงุฎุชุจุงุฑ.
     * @param {number} index ููุฑุณ ุงูุณุคุงู.
     */
    window.showExplanation = function(index) {
        const question = activeQuizQuestions[index];
        if (!question || !question.explanation) return;

        explanationText.innerHTML = ''; // Clear previous content

        // Check if the explanation is an interactive object or a simple string
        if (typeof question.explanation === 'object' && question.explanation.isInteractive) {
            const interactiveContainer = document.createElement('div');
            
            if (question.explanation.tableHTML) {
                const tableDiv = document.createElement('div');
                tableDiv.innerHTML = question.explanation.tableHTML;
                interactiveContainer.appendChild(tableDiv);
            }

            const explanationDiv = document.createElement('div');
            explanationDiv.className = 'text-right text-base mb-4 min-h-[100px]';
            const navContainer = document.createElement('div');
            navContainer.className = 'flex justify-between items-center';
            
            const backBtn = document.createElement('button');
            backBtn.className = 'nav-btn bg-gray-500 text-white font-medium py-2 px-4 rounded-lg hover:bg-gray-600 text-sm';
            backBtn.textContent = 'ุฑุฌูุน';

            const stepCounter = document.createElement('span');
            stepCounter.className = 'text-xs font-bold text-gray-600';

            const nextBtn = document.createElement('button');
            nextBtn.className = 'nav-btn bg-blue-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-700 text-sm';
            nextBtn.textContent = 'ุงูุชุงูู';

            navContainer.append(backBtn, stepCounter, nextBtn);
            interactiveContainer.append(explanationDiv, navContainer);
            explanationText.appendChild(interactiveContainer);
            
            let currentStep = 0;
            const { totalSteps, stepsContent, tableHTML } = question.explanation;

            const renderStep = (step) => {
                stepCounter.textContent = `ุงูุฎุทูุฉ ${step} / ${totalSteps}`;
                explanationDiv.innerHTML = '';
                if (step > 0) {
                    for (let i = 0; i < step; i++) {
                        explanationDiv.innerHTML += `<div class="explanation-step">${stepsContent[i].text}</div>`;
                    }
                }
                
                if (tableHTML) {
                    const rowsToHighlight = stepsContent[step-1]?.highlightRows || [];
                    const allRows = interactiveContainer.querySelectorAll(`tr[data-expl-row]`);
                    allRows.forEach((row, idx) => {
                        row.classList.toggle('bg-blue-100', rowsToHighlight.includes(idx));
                    });
                }

                backBtn.disabled = (step === 0);
                nextBtn.disabled = (step === totalSteps);
            };

            nextBtn.addEventListener('click', () => {
                if (currentStep < totalSteps) {
                    currentStep++;
                    renderStep(currentStep);
                }
            });

            backBtn.addEventListener('click', () => {
                if (currentStep > 0) {
                    currentStep--;
                    renderStep(currentStep);
                }
            });

            renderStep(0); // Initial render

        } else {
            // Handle simple string explanation
            let fullExplanation = question.explanation;
            if (question.topic === 'concept') {
                const slopeSummarySVG = `
                    <div class="grid grid-cols-2 gap-2 mb-4">
                        <div class="p-2 bg-white rounded-lg border"><svg viewBox="0 0 20 20" class="w-full h-24"><line x1="1" y1="10" x2="19" y2="10" stroke="#9ca3af" stroke-width="0.5"/><line x1="10" y1="1" x2="10" y2="19" stroke="#9ca3af" stroke-width="0.5"/><line x1="1" y1="15" x2="9" y2="5" stroke="#2563eb" stroke-width="1.2"/></svg><p class="font-bold mt-1 text-sm">ููู ููุฌุจ</p></div>
                        <div class="p-2 bg-white rounded-lg border"><svg viewBox="0 0 20 20" class="w-full h-24"><line x1="1" y1="10" x2="19" y2="10" stroke="#9ca3af" stroke-width="0.5"/><line x1="10" y1="1" x2="10" y2="19" stroke="#9ca3af" stroke-width="0.5"/><line x1="1" y1="5" x2="9" y2="15" stroke="#dc2626" stroke-width="1.2"/></svg><p class="font-bold mt-1 text-sm">ููู ุณุงูุจ</p></div>
                        <div class="p-2 bg-white rounded-lg border"><svg viewBox="0 0 20 20" class="w-full h-24"><line x1="1" y1="10" x2="19" y2="10" stroke="#9ca3af" stroke-width="0.5"/><line x1="10" y1="1" x2="10" y2="19" stroke="#9ca3af" stroke-width="0.5"/><line x1="2" y1="5" x2="18" y2="5" stroke="#16a34a" stroke-width="1.2"/></svg><p class="font-bold mt-1 text-sm">ููู ุตูุฑ</p></div>
                        <div class="p-2 bg-white rounded-lg border"><svg viewBox="0 0 20 20" class="w-full h-24"><line x1="1" y1="10" x2="19" y2="10" stroke="#9ca3af" stroke-width="0.5"/><line x1="10" y1="1" x2="10" y2="19" stroke="#9ca3af" stroke-width="0.5"/><line x1="15" y1="2" x2="15" y2="18" stroke="#ca8a04" stroke-width="1.2"/></svg><p class="font-bold mt-1 text-sm">ููู ุบูุฑ ูุนุฑู</p></div>
                    </div>
                `;
                fullExplanation = slopeSummarySVG + question.explanation;
            }
            explanationText.innerHTML = fullExplanation;
        }
        
        explanationModal.classList.remove('hidden');
    }

    /**
     * ูุฌูุฒ ุฑูุงุจุท ุงููุดุงุฑูุฉ ูู ุงูุชุฐููู.
     */
    function initializeShareButtons() {
        const shareText = encodeURIComponent('ุฃุฏุนูู ููุงุณุชูุงุฏุฉ ูู ููุตุฉ ุงูุฑูุงุถูุงุช ูููุนูู ุนุจุฏุงูุนุฒูุฒ ุงูุนุจูุงู:');
        const pageUrl = encodeURIComponent("https://sites.google.com/view/mathablan/");

        const whatsappLink = document.getElementById('share-whatsapp');
        const twitterLink = document.getElementById('share-twitter');

        if (whatsappLink) {
            whatsappLink.href = `https://api.whatsapp.com/send?text=${shareText}%20${pageUrl}`;
        }

        if (twitterLink) {
            twitterLink.href = `https://twitter.com/intent/tweet?text=${shareText}&url=${pageUrl}`;
        }
    }
    
    /**
     * ูุดุบู ุงูุณูุฑูุจุชุงุช ุงูุฎุงุตุฉ ุจูู ุฏุฑุณ ุนูู ุญุฏุฉ
     * @param {string} lessonId ุงููุนุฑู ุงูุฎุงุต ุจุงูุฏุฑุณ
     */
    function initializeLessonScripts(lessonId) {
        // --- ุฏุงูุฉ ุนุงูุฉ ููุชุญูู ูู ุงูุฃูุซูุฉ ุงูุชูุงุนููุฉ ---
        function createInteractiveSection(config) {
            let currentStep = 0;
            const renderStep = (step) => {
                if(config.stepCounter) config.stepCounter.textContent = step;
                
                let introHTML = config.introText ? `<div class="explanation-step" style="opacity:1; border: none; padding: 0; background: none;">${config.introText}</div>` : '';
                let stepsHTML = '';

                if (config.layout === 'grid') {
                    let gridItems = '';
                    for (let i = 0; i < step; i++) {
                        const item = config.stepsContent[i];
                        if (item && !item.fullWidth) {
                            gridItems += `<div class="explanation-step">${item.text}</div>`;
                            if (item.action) setTimeout(item.action, 0);
                        }
                    }
                    stepsHTML = `<div class="step-grid">${gridItems}</div>`;
                    
                    let fullWidthItemsHTML = '';
                    for (let i = 0; i < step; i++) {
                        const item = config.stepsContent[i];
                        if (item && item.fullWidth) {
                            fullWidthItemsHTML += `<div class="explanation-step">${item.text}</div>`;
                            if (item.action) setTimeout(item.action, 0);
                        }
                    }
                    stepsHTML += fullWidthItemsHTML;

                } else {
                    // Original linear layout logic
                    for (let i = 0; i < step; i++) {
                        const item = config.stepsContent[i];
                        if(item) {
                            stepsHTML += `<div class="explanation-step" style="border-right-width: 3px;">${item.text}</div>`;
                            if (item.action) setTimeout(item.action, 0);
                        }
                    }
                }

                if(config.explanationDiv) config.explanationDiv.innerHTML = introHTML + stepsHTML;
                
                if(config.backBtn) config.backBtn.disabled = (step === 0);
                if(config.nextBtn) config.nextBtn.textContent = (step === config.totalSteps) ? 'ุฅุนุงุฏุฉ' : 'ุงูุชุงูู';
            };
            
            if(config.nextBtn) {
                const newNextBtn = config.nextBtn.cloneNode(true);
                config.nextBtn.parentNode.replaceChild(newNextBtn, config.nextBtn);
                config.nextBtn = newNextBtn;
                config.nextBtn.addEventListener('click', () => {
                    currentStep = (currentStep < config.totalSteps) ? currentStep + 1 : 0;
                    renderStep(currentStep);
                });
            }
            
            if(config.backBtn) {
                const newBackBtn = config.backBtn.cloneNode(true);
                config.backBtn.parentNode.replaceChild(newBackBtn, config.backBtn);
                config.backBtn = newBackBtn;
                config.backBtn.addEventListener('click', () => {
                    if (currentStep > 0) {
                        currentStep--;
                        renderStep(currentStep);
                    }
                });
            }
            
            renderStep(0);
        }

        // =================================================================
        // == ุจุฏุงูุฉ ููุทูุฉ ุงูุณูุฑูุจุชุงุช ุงูุฎุงุตุฉ ุจุงูุฏุฑูุณ
        // =================================================================
        switch(lessonId) {
            case 'c1_l1':
                (function() {
                     function setupHybridExample(exampleId, stepsContent) {
                        const container = document.getElementById(`interactive-example-${exampleId}`);
                        if (!container) return;

                        const stepsContainer = container.querySelector('.space-y-4');
                        const nextBtn = container.querySelector(`#next-btn-${exampleId}`);
                        const prevBtn = container.querySelector(`#prev-btn-${exampleId}`);
                        const counterEl = container.querySelector(`#step-counter-${exampleId}`);
                        
                        let mainIndex = 0;
                        let subIndex = 0;

                        const totalStates = stepsContent.reduce((acc, val) => acc + (Array.isArray(val) ? val.length : 1), 0);
                        let currentState = 0;

                        function showState() {
                            stepsContainer.innerHTML = '';

                            for (let i = 0; i <= mainIndex; i++) {
                                const stepData = stepsContent[i];
                                let contentToShow = '';

                                if (Array.isArray(stepData)) {
                                    // It's a group of sub-steps
                                    if (i < mainIndex) {
                                        // This is a completed group, show its last sub-step
                                        contentToShow = stepData[stepData.length - 1];
                                    } else {
                                        // This is the current group, show the current sub-step
                                        contentToShow = stepData[subIndex];
                                    }
                                } else {
                                    // It's a simple, cumulative step
                                    contentToShow = stepData;
                                }
                                
                                const stepDiv = document.createElement('div');
                                stepDiv.innerHTML = contentToShow;
                                // The actual element is the first child of the div
                                stepsContainer.appendChild(stepDiv.firstElementChild);
                            }

                            // Update counter and buttons
                            counterEl.textContent = `ุงูุฎุทูุฉ ${currentState + 1} ูู ${totalStates}`;
                            prevBtn.disabled = currentState === 0;
                            prevBtn.classList.toggle('btn-disabled', currentState === 0);
                            nextBtn.disabled = currentState === totalStates - 1;
                            nextBtn.classList.toggle('btn-disabled', currentState === totalStates - 1);
                        }

                        nextBtn.addEventListener('click', () => {
                            if (currentState >= totalStates - 1) return;
                            currentState++;

                            const currentGroup = stepsContent[mainIndex];
                            if (Array.isArray(currentGroup) && subIndex < currentGroup.length - 1) {
                                subIndex++;
                            } else {
                                if (mainIndex < stepsContent.length - 1) {
                                   mainIndex++;
                                   subIndex = 0;
                                }
                            }
                            showState();
                        });

                        prevBtn.addEventListener('click', () => {
                            if (currentState <= 0) return;
                            currentState--;

                            const currentGroup = stepsContent[mainIndex];
                            if (Array.isArray(currentGroup) && subIndex > 0) {
                                subIndex--;
                            } else {
                                 if (mainIndex > 0) {
                                     mainIndex--;
                                     const newGroup = stepsContent[mainIndex];
                                     if (Array.isArray(newGroup)) {
                                         subIndex = newGroup.length - 1;
                                     } else {
                                         subIndex = 0;
                                     }
                                 }
                            }
                            showState();
                        });

                        showState();
                    }
                    
                    // Content for Example 1
                    const ex1_steps = [
                        // Main Step 0
                        `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุงูุชุนููุถ</h4><p>ูุนูุถ ุนู ุงููุชุบูุฑ <span class="math-eq">ู</span> ุจูู <span class="vocab-term">ุนูุตุฑ</span> ูู <span class="vocab-term">ูุฌููุนุฉ ุงูุชุนููุถ</span>.</p></div>`,
                        // Main Step 1 (Group of replacing sub-steps)
                        [
                            // Sub-step 0
                            `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุญูู</h4>
                                <div class="overflow-x-auto">
                                    <table class="w-full mt-2 text-center"><thead class="bg-gray-200"><tr><th class="p-2">ูููุฉ <span class="math-eq">ู</span></th><th class="p-2">ุงูุชุนููุถ ูู <span class="math-eq">ู + ูฅ</span></th><th class="p-2">ุงููุชูุฌุฉ</th><th class="p-2">ูู ุงููุนุงุฏูุฉ ุตุญูุญุฉุ</th></tr></thead>
                                    <tbody>
                                        <tr class="border-b"><td><span class="math-eq">ูก</span></td><td></td><td></td><td></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูข</span></td><td></td><td></td><td></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูฃ</span></td><td></td><td></td><td></td></tr>
                                        <tr><td><span class="math-eq">ูค</span></td><td></td><td></td><td></td></tr>
                                    </tbody></table>
                                </div></div>`,
                            // Sub-step 1
                            `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุญูู (ู=1)</h4>
                                <div class="overflow-x-auto">
                                    <table class="w-full mt-2 text-center"><thead class="bg-gray-200"><tr><th class="p-2">ูููุฉ <span class="math-eq">ู</span></th><th class="p-2">ุงูุชุนููุถ ูู <span class="math-eq">ู + ูฅ</span></th><th class="p-2">ุงููุชูุฌุฉ</th><th class="p-2">ูู ุงููุนุงุฏูุฉ ุตุญูุญุฉุ</th></tr></thead>
                                    <tbody>
                                        <tr class="border-b"><td><span class="math-eq">ูก</span></td><td><span class="math-eq"><span class="substitution-value">ูก</span> + ูฅ</span></td><td><span class="math-eq">ูฆ</span></td><td><span class="text-red-600 font-bold">ุฎุทุฃ</span> <span class="math-eq">(ูุฃู ูฆ โ ูง)</span></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูข</span></td><td></td><td></td><td></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูฃ</span></td><td></td><td></td><td></td></tr>
                                        <tr><td><span class="math-eq">ูค</span></td><td></td><td></td><td></td></tr>
                                    </tbody></table>
                                </div></div>`,
                            // Sub-step 2
                            `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุญูู (ู=2)</h4>
                                <div class="overflow-x-auto">
                                    <table class="w-full mt-2 text-center"><thead class="bg-gray-200"><tr><th class="p-2">ูููุฉ <span class="math-eq">ู</span></th><th class="p-2">ุงูุชุนููุถ ูู <span class="math-eq">ู + ูฅ</span></th><th class="p-2">ุงููุชูุฌุฉ</th><th class="p-2">ูู ุงููุนุงุฏูุฉ ุตุญูุญุฉุ</th></tr></thead>
                                    <tbody>
                                        <tr class="border-b"><td><span class="math-eq">ูก</span></td><td><span class="math-eq"><span class="substitution-value">ูก</span> + ูฅ</span></td><td><span class="math-eq">ูฆ</span></td><td><span class="text-red-600 font-bold">ุฎุทุฃ</span> <span class="math-eq">(ูุฃู ูฆ โ ูง)</span></td></tr>
                                        <tr class="border-b bg-green-50"><td><span class="math-eq">ูข</span></td><td><span class="math-eq"><span class="substitution-value">ูข</span> + ูฅ</span></td><td><span class="math-eq">ูง</span></td><td><span class="text-green-600 font-bold">ุตุญูุญุฉ โ</span> <span class="math-eq">(ูุฃู ูง = ูง)</span></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูฃ</span></td><td></td><td></td><td></td></tr>
                                        <tr><td><span class="math-eq">ูค</span></td><td></td><td></td><td></td></tr>
                                    </tbody></table>
                                </div></div>`,
                            // Sub-step 3
                            `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุญูู (ู=3)</h4>
                                <div class="overflow-x-auto">
                                    <table class="w-full mt-2 text-center"><thead class="bg-gray-200"><tr><th class="p-2">ูููุฉ <span class="math-eq">ู</span></th><th class="p-2">ุงูุชุนููุถ ูู <span class="math-eq">ู + ูฅ</span></th><th class="p-2">ุงููุชูุฌุฉ</th><th class="p-2">ูู ุงููุนุงุฏูุฉ ุตุญูุญุฉุ</th></tr></thead>
                                    <tbody>
                                        <tr class="border-b"><td><span class="math-eq">ูก</span></td><td><span class="math-eq"><span class="substitution-value">ูก</span> + ูฅ</span></td><td><span class="math-eq">ูฆ</span></td><td><span class="text-red-600 font-bold">ุฎุทุฃ</span> <span class="math-eq">(ูุฃู ูฆ โ ูง)</span></td></tr>
                                        <tr class="border-b bg-green-50"><td><span class="math-eq">ูข</span></td><td><span class="math-eq"><span class="substitution-value">ูข</span> + ูฅ</span></td><td><span class="math-eq">ูง</span></td><td><span class="text-green-600 font-bold">ุตุญูุญุฉ โ</span> <span class="math-eq">(ูุฃู ูง = ูง)</span></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูฃ</span></td><td><span class="math-eq"><span class="substitution-value">ูฃ</span> + ูฅ</span></td><td><span class="math-eq">ูจ</span></td><td><span class="text-red-600 font-bold">ุฎุทุฃ</span> <span class="math-eq">(ูุฃู ูจ โ ูง)</span></td></tr>
                                        <tr><td><span class="math-eq">ูค</span></td><td></td><td></td><td></td></tr>
                                    </tbody></table>
                                </div></div>`,
                            // Sub-step 4 (Final state of the table)
                            `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุญูู (ุงูุฌุฏูู ููุชูู)</h4>
                                <div class="overflow-x-auto">
                                    <table class="w-full mt-2 text-center"><thead class="bg-gray-200"><tr><th class="p-2">ูููุฉ <span class="math-eq">ู</span></th><th class="p-2">ุงูุชุนููุถ ูู <span class="math-eq">ู + ูฅ</span></th><th class="p-2">ุงููุชูุฌุฉ</th><th class="p-2">ูู ุงููุนุงุฏูุฉ ุตุญูุญุฉุ</th></tr></thead>
                                    <tbody>
                                        <tr class="border-b"><td><span class="math-eq">ูก</span></td><td><span class="math-eq"><span class="substitution-value">ูก</span> + ูฅ</span></td><td><span class="math-eq">ูฆ</span></td><td><span class="text-red-600 font-bold">ุฎุทุฃ</span> <span class="math-eq">(ูุฃู ูฆ โ ูง)</span></td></tr>
                                        <tr class="border-b bg-green-50"><td><span class="math-eq">ูข</span></td><td><span class="math-eq"><span class="substitution-value">ูข</span> + ูฅ</span></td><td><span class="math-eq">ูง</span></td><td><span class="text-green-600 font-bold">ุตุญูุญุฉ โ</span> <span class="math-eq">(ูุฃู ูง = ูง)</span></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูฃ</span></td><td><span class="math-eq"><span class="substitution-value">ูฃ</span> + ูฅ</span></td><td><span class="math-eq">ูจ</span></td><td><span class="text-red-600 font-bold">ุฎุทุฃ</span> <span class="math-eq">(ูุฃู ูจ โ ูง)</span></td></tr>
                                        <tr><td><span class="math-eq">ูค</span></td><td><span class="math-eq"><span class="substitution-value">ูค</span> + ูฅ</span></td><td><span class="math-eq">ูฉ</span></td><td><span class="text-red-600 font-bold">ุฎุทุฃ</span> <span class="math-eq">(ูุฃู ูฉ โ ูง)</span></td></tr>
                                    </tbody></table>
                                </div></div>`
                        ],
                        // Main Step 2
                        `<div class="p-4 bg-green-200 rounded-lg step-box border-green-600 interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุชุญุฏูุฏ ูุฌููุนุฉ ุงูุญู</h4><p>ุจุนุฏ ุงูุชุญูู ูู ุฌููุน ุงููููุ ูุฌุฏูุง ุฃู ุงููููุฉ ุงูุชู ุชุฌุนู ุงููุนุงุฏูุฉ ุตุญูุญุฉ ูู <span class="math-eq">ูข</span>. ุฅุฐูุ <span class="vocab-term">ูุฌููุนุฉ ุงูุญู</span> ูู <span class="math-eq">{ูข}</span>.</div>`
                    ];
                    setupHybridExample('1', ex1_steps);

                    // Content for Example 2
                    const ex2_steps = [
                        `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุฌุฏูู</h4><p>ููุธู ุงูุญู ุจุฅูุดุงุก ุฌุฏูู ููุนูุถ ุนู ูู ูููุฉ ูู <span class="math-eq">ุณ</span> ูุฅูุฌุงุฏ ูููุฉ <span class="math-eq">ุต</span> ุงูููุงุจูุฉ.</p></div>`,
                        [
                            `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุนููุถ ูุงูุญุณุงุจ</h4>
                                <div class="overflow-x-auto">
                                    <table class="w-full mt-2 text-center"><thead class="bg-gray-200"><tr><th class="p-2"><span class="math-eq">ุณ</span></th><th class="p-2">ุงูุชุนููุถ ูู <span class="math-eq">ูจ - ูขุณ</span></th><th class="p-2"><span class="math-eq">ุต</span></th><th class="p-2">ุงูุญู (<span class="math-eq">ุณุ ุต</span>)</th></tr></thead>
                                    <tbody>
                                        <tr class="border-b"><td><span class="math-eq">ูก</span></td><td></td><td></td><td></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูข</span></td><td></td><td></td><td></td></tr>
                                        <tr><td><span class="math-eq">ูฃ</span></td><td></td><td></td><td></td></tr>
                                    </tbody></table>
                                </div></div>`,
                            `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุนููุถ ูุงูุญุณุงุจ (ุณ=1)</h4>
                                <div class="overflow-x-auto">
                                    <table class="w-full mt-2 text-center"><thead class="bg-gray-200"><tr><th class="p-2"><span class="math-eq">ุณ</span></th><th class="p-2">ุงูุชุนููุถ ูู <span class="math-eq">ูจ - ูขุณ</span></th><th class="p-2"><span class="math-eq">ุต</span></th><th class="p-2">ุงูุญู (<span class="math-eq">ุณุ ุต</span>)</th></tr></thead>
                                    <tbody>
                                        <tr class="border-b"><td><span class="math-eq">ูก</span></td><td><span class="math-eq">ูจ - ูข(<span class="substitution-value">ูก</span>)</span></td><td><span class="math-eq">ูฆ</span></td><td><span class="math-eq">(ูกุ ูฆ)</span></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูข</span></td><td></td><td></td><td></td></tr>
                                        <tr><td><span class="math-eq">ูฃ</span></td><td></td><td></td><td></td></tr>
                                    </tbody></table>
                                </div></div>`,
                            `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุนููุถ ูุงูุญุณุงุจ (ุณ=2)</h4>
                                <div class="overflow-x-auto">
                                    <table class="w-full mt-2 text-center"><thead class="bg-gray-200"><tr><th class="p-2"><span class="math-eq">ุณ</span></th><th class="p-2">ุงูุชุนููุถ ูู <span class="math-eq">ูจ - ูขุณ</span></th><th class="p-2"><span class="math-eq">ุต</span></th><th class="p-2">ุงูุญู (<span class="math-eq">ุณุ ุต</span>)</th></tr></thead>
                                    <tbody>
                                        <tr class="border-b"><td><span class="math-eq">ูก</span></td><td><span class="math-eq">ูจ - ูข(<span class="substitution-value">ูก</span>)</span></td><td><span class="math-eq">ูฆ</span></td><td><span class="math-eq">(ูกุ ูฆ)</span></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูข</span></td><td><span class="math-eq">ูจ - ูข(<span class="substitution-value">ูข</span>)</span></td><td><span class="math-eq">ูค</span></td><td><span class="math-eq">(ูขุ ูค)</span></td></tr>
                                        <tr><td><span class="math-eq">ูฃ</span></td><td></td><td></td><td></td></tr>
                                    </tbody></table>
                                </div></div>`,
                            `<div class="p-4 bg-white rounded-lg step-box interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 2: ุงูุชุนููุถ ูุงูุญุณุงุจ (ุงูุฌุฏูู ููุชูู)</h4>
                                <div class="overflow-x-auto">
                                    <table class="w-full mt-2 text-center"><thead class="bg-gray-200"><tr><th class="p-2"><span class="math-eq">ุณ</span></th><th class="p-2">ุงูุชุนููุถ ูู <span class="math-eq">ูจ - ูขุณ</span></th><th class="p-2"><span class="math-eq">ุต</span></th><th class="p-2">ุงูุญู (<span class="math-eq">ุณุ ุต</span>)</th></tr></thead>
                                    <tbody>
                                        <tr class="border-b"><td><span class="math-eq">ูก</span></td><td><span class="math-eq">ูจ - ูข(<span class="substitution-value">ูก</span>)</span></td><td><span class="math-eq">ูฆ</span></td><td><span class="math-eq">(ูกุ ูฆ)</span></td></tr>
                                        <tr class="border-b"><td><span class="math-eq">ูข</span></td><td><span class="math-eq">ูจ - ูข(<span class="substitution-value">ูข</span>)</span></td><td><span class="math-eq">ูค</span></td><td><span class="math-eq">(ูขุ ูค)</span></td></tr>
                                        <tr><td><span class="math-eq">ูฃ</span></td><td><span class="math-eq">ูจ - ูข(<span class="substitution-value">ูฃ</span>)</span></td><td><span class="math-eq">ูข</span></td><td><span class="math-eq">(ูฃุ ูข)</span></td></tr>
                                    </tbody></table>
                                </div></div>`
                        ],
                        `<div class="p-4 bg-green-200 rounded-lg step-box border-green-600 interactive-step"><h4 class="font-bold">ุงูุฎุทูุฉ 3: ุชุญุฏูุฏ ูุฌููุนุฉ ุงูุญู</h4><p><span class="vocab-term">ูุฌููุนุฉ ุงูุญู</span> ูู ูุฌููุนุฉ ุงูุฃุฒูุงุฌ ุงููุฑุชุจุฉ: <span class="math-eq">{(ูกุ ูฆ)ุ (ูขุ ูค)ุ (ูฃุ ูข)}</span>.</p></div>`
                    ];
                    setupHybridExample('2', ex2_steps);
                })();
                break;
            case 'c1_l3':
                (function() {
                     const exampleContainers = document.querySelectorAll('[id^="interactive-example-"]');
                     const state = {};

                     exampleContainers.forEach(container => {
                         const exampleId = container.id.split('-')[2];
                         state[exampleId] = {
                             currentIndex: 0,
                             steps: container.querySelectorAll('.step-interactive'),
                             prevBtn: container.querySelector('.prev-btn'),
                             nextBtn: container.querySelector('.next-btn')
                         };

                         const updateButtons = () => {
                             state[exampleId].prevBtn.disabled = state[exampleId].currentIndex === 0;
                             state[exampleId].nextBtn.disabled = state[exampleId].currentIndex === state[exampleId].steps.length - 1;
                         };

                         state[exampleId].nextBtn.addEventListener('click', () => {
                             if (state[exampleId].currentIndex < state[exampleId].steps.length - 1) {
                                 state[exampleId].currentIndex++;
                                 state[exampleId].steps[state[exampleId].currentIndex].classList.add('active');
                                 updateButtons();
                             }
                         });

                         state[exampleId].prevBtn.addEventListener('click', () => {
                             if (state[exampleId].currentIndex > 0) {
                                 state[exampleId].steps[state[exampleId].currentIndex].classList.remove('active');
                                 state[exampleId].currentIndex--;
                                 updateButtons();
                             }
                         });

                         // Initial setup for each example
                         updateButtons();
                     });
                })();
                break;
                 case 'c1_l4':
                (function() {
                    document.querySelectorAll('.interactive-example').forEach(example => {
                        const nextBtn = example.querySelector('.next-btn');
                        const prevBtn = example.querySelector('.prev-btn');
                        const steps = Array.from(example.querySelectorAll('.steps-container .step-box'));
                        const stepCounter = example.querySelector('.step-counter');
                        let currentStep = -1;

                        const updateState = () => {
                            steps.forEach((step, index) => {
                                if (index <= currentStep) {
                                    step.classList.remove('hidden');
                                } else {
                                    step.classList.add('hidden');
                                }
                            });
                            
                            if(stepCounter){
                                if (currentStep >= 0) {
                                   stepCounter.textContent = `ุงูุฎุทูุฉ ${currentStep + 1} ูู ${steps.length}`;
                                } else {
                                   stepCounter.textContent = 'ุงุจุฏุฃ ุงูุญู';
                                }
                            }

                            prevBtn.disabled = currentStep < 0;
                            nextBtn.disabled = currentStep >= steps.length - 1;
                        };

                        nextBtn.addEventListener('click', () => {
                            if (currentStep < steps.length - 1) {
                                currentStep++;
                                updateState();
                            }
                        });

                        prevBtn.addEventListener('click', () => {
                            if (currentStep >= 0) {
                                currentStep--;
                                updateState();
                            }
                        });
                        updateState(); // Initial setup
                    });
                })();
                break;
             case 'c3_l2':
                (function() {
                    const configs = {
                        "1a": { totalSteps: 3, introText: `ูุจุฏุฃ ุจุตูุบุฉ ุงูููู ูุงูููุทุน: <br><span class='math-eq'>ุต = ู ุณ + ุจ</span>.`, stepsContent: [ { text: `<strong>1. ูุนูุถ ุจุงููุนุทูุงุช:</strong><br>ุงูููู <span class='math-eq'>ู = ูค</span>ุ ูุงูููุทุฉ (<span class="text-red-600">ูข</span>ุ <span class="text-blue-600">ูฅ</span>).<br><span class='math-eq'><span class="text-blue-600">ูฅ</span> = ูค(<span class="text-red-600">ูข</span>) + ุจ</span>` }, { text: "<strong>2. ูุญู ุงููุนุงุฏูุฉ ูุฅูุฌุงุฏ (ุจ):</strong><br><span class='math-eq'>ูฅ = ูจ + ุจ</span><br>ุจุทุฑุญ ูจ ูู ุงูุทุฑูููุ ูุฌุฏ ุฃู:<br><span class='math-eq'>ุจ = -ูฃ</span>" }, { text: `<strong>3. ููุชุจ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ:</strong><br>ุงูุขู ุจุนุฏ ุฃู ุนุฑููุง ุฃู <span class='math-eq'>ู = ูค</span> ู <span class='math-eq'>ุจ = -ูฃ</span>ุ ููุชุจ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ:<br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ุต = ูคุณ - ูฃ</span></div>` } ] },
                        "1b": { totalSteps: 3, introText: `ูุจุฏุฃ ุจุตูุบุฉ ุงูููู ูุงูููุทุน: <br><span class='math-eq'>ุต = ู ุณ + ุจ</span>.`, stepsContent: [ { text: `<strong>1. ูุนูุถ ุจุงููุนุทูุงุช:</strong><br>ุงูููู <span class='math-eq'>ู = -ูข</span>ุ ูุงูููุทุฉ (<span class="text-red-600">-ูก</span>ุ <span class="text-blue-600">ูฆ</span>).<br><span class='math-eq'><span class="text-blue-600">ูฆ</span> = -ูข(<span class="text-red-600">-ูก</span>) + ุจ</span>` }, { text: "<strong>2. ูุญู ุงููุนุงุฏูุฉ ูุฅูุฌุงุฏ (ุจ):</strong><br><span class='math-eq'>ูฆ = ูข + ุจ</span><br>ุจุทุฑุญ ูข ูู ุงูุทุฑูููุ ูุฌุฏ ุฃู:<br><span class='math-eq'>ุจ = ูค</span>" }, { text: `<strong>3. ููุชุจ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ:</strong><br>ูุฌุฏูุง ุฃู <span class='math-eq'>ู = -ูข</span> ู <span class='math-eq'>ุจ = ูค</span>. ุฅุฐู ุงููุนุงุฏูุฉ ูู:<br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ุต = -ูขุณ + ูค</span></div>` } ] },
                        "2a": { totalSteps: 3, introText: `ูุฏููุง ููุทุชุงูุ ูุฐูู ุณูููู ุจุซูุงุซ ุฎุทูุงุช ุจุณูุทุฉ ูููุตูู ููุญู.`, stepsContent: [ { text: `<strong>ุงูุฎุทูุฉ 1: ูุฌุฏ ุงูููู (ู)</strong><br>ูุณุชุฎุฏู ุงูููุทุชูู (<span class="text-red-600">ูก</span>ุ <span class="text-blue-600">ูข</span>) ู (<span class="text-red-600">ูฃ</span>ุ <span class="text-blue-600">ูจ</span>).<br><span class='math-eq'>ู = <span class="fraction"><span>ูุฑู ุงูุตุงุฏุงุช</span><span>ูุฑู ุงูุณููุงุช</span></span> = <span class="fraction"><span><span class="text-blue-600">ูจ</span> - <span class="text-blue-600">ูข</span></span><span><span class="text-red-600">ูฃ</span> - <span class="text-red-600">ูก</span></span></span> = <span class="fraction"><span>ูฆ</span><span>ูข</span></span> = ูฃ</span>` }, { text: `<strong>ุงูุฎุทูุฉ 2: ูุฌุฏ ุงูููุทุน (ุจ)</strong><br>ุงูุขู ูุนุฑู ุฃู <span class='math-eq'>ู = ูฃ</span>. ูุณุชุฎุฏู ุงูููุทุฉ (<span class="text-red-600">ูก</span>ุ <span class="text-blue-600">ูข</span>) ููุนูุถ ูู <span class='math-eq'>ุต = ู ุณ + ุจ</span>.<br><span class='math-eq'><span class="text-blue-600">ูข</span> = ูฃ(<span class="text-red-600">ูก</span>) + ุจ</span><br><span class='math-eq'>ูข = ูฃ + ุจ</span>  &larr;  <span class='math-eq'>ุจ = -ูก</span>` }, { text: `<strong>ุงูุฎุทูุฉ 3: ููุชุจ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</strong><br>ูุฌุฏูุง ุฃู <span class='math-eq'>ู = ูฃ</span> ู <span class='math-eq'>ุจ = -ูก</span>. ุฅุฐู ุงููุนุงุฏูุฉ ูู:<br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ุต = ูฃุณ - ูก</span></div>` } ] },
                        "2b": { totalSteps: 3, introText: `ูุฏููุง ููุทุชุงูุ ูุฐูู ุณูููู ุจุซูุงุซ ุฎุทูุงุช ุจุณูุทุฉ ูููุตูู ููุญู.`, stepsContent: [ { text: `<strong>ุงูุฎุทูุฉ 1: ูุฌุฏ ุงูููู (ู)</strong><br>ูุณุชุฎุฏู ุงูููุทุชูู (<span class="text-red-600">ูข</span>ุ <span class="text-blue-600">ูฅ</span>) ู (<span class="text-red-600">ูค</span>ุ <span class="text-blue-600">ูก</span>).<br><span class='math-eq'>ู = <span class="fraction"><span>ูุฑู ุงูุตุงุฏุงุช</span><span>ูุฑู ุงูุณููุงุช</span></span> = <span class="fraction"><span><span class="text-blue-600">ูก</span> - <span class="text-blue-600">ูฅ</span></span><span><span class="text-red-600">ูค</span> - <span class="text-red-600">ูข</span></span></span> = <span class="fraction"><span>-ูค</span><span>ูข</span></span> = -ูข</span>` }, { text: `<strong>ุงูุฎุทูุฉ 2: ูุฌุฏ ุงูููุทุน (ุจ)</strong><br>ุงูุขู ูุนุฑู ุฃู <span class='math-eq'>ู = -ูข</span>. ูุณุชุฎุฏู ุงูููุทุฉ (<span class="text-red-600">ูข</span>ุ <span class="text-blue-600">ูฅ</span>) ููุนูุถ ูู <span class='math-eq'>ุต = ู ุณ + ุจ</span>.<br><span class='math-eq'><span class="text-blue-600">ูฅ</span> = -ูข(<span class="text-red-600">ูข</span>) + ุจ</span><br><span class='math-eq'>ูฅ = -ูค + ุจ</span>  &larr;  <span class='math-eq'>ุจ = ูฉ</span>` }, { text: `<strong>ุงูุฎุทูุฉ 3: ููุชุจ ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ</strong><br>ูุฌุฏูุง ุฃู <span class='math-eq'>ู = -ูข</span> ู <span class='math-eq'>ุจ = ูฉ</span>. ุฅุฐู ุงููุนุงุฏูุฉ ูู:<br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ุต = -ูขุณ + ูฉ</span></div>` } ] },
                        "3a": { totalSteps: 5, introText: `ูุฅูุฌุงุฏ ุงููุนุงุฏูุฉ ูุงูุชูุจุค ุจุงูุฃุฌุฑุฉุ ุนูููุง ุฃููุงู ุชุญุฏูุฏ ุงูููู (ู) ูุงูููุทุน ุงูุตุงุฏู (ุจ).`, stepsContent: [ { text: `<strong>ุงูุฎุทูุฉ 1: ูุญุฏุฏ ููุทุชูู ูู ุงููุณุฃูุฉ</strong><br>ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุนูุฏ ุณ=ู ุณุงุนุงุช) ูู ูฃูฅูก ุฑูุงู &larr; ุงูููุทุฉ (<span class="text-red-600">ู</span>ุ <span class="text-blue-600">ูฃูฅูก</span>).<br>ุจุนุฏ ูฅ ุณุงุนุงุช ุฅุถุงููุฉุ ุงูุฃุฌุฑุฉ ูคูกูฆ ุฑูุงู &larr; ุงูููุทุฉ (<span class="text-red-600">ูฅ</span>ุ <span class="text-blue-600">ูคูกูฆ</span>).` }, { text: `<strong>ุงูุฎุทูุฉ 2: ูุฌุฏ ุงูููู (ู)</strong><br>ุงูููู ูู ุงูุฃุฌุฑุฉ ููู ุณุงุนุฉ ุฅุถุงููุฉ.<br><span class='math-eq'>ู = <span class="fraction"><span>ูคูกูฆ - ูฃูฅูก</span><span>ูฅ - ู</span></span> = <span class="fraction"><span>ูฆูฅ</span><span>ูฅ</span></span> = ูกูฃ</span>` }, { text: `<strong>ุงูุฎุทูุฉ 3: ูุฌุฏ ุงูููุทุน (ุจ)</strong><br>ูุนูุถ ุงูููู <span class='math-eq'>ู = ูกูฃ</span> ูุงูููุทุฉ ุงูุฃุณูู (<span class='math-eq'>(ูุ ูฃูฅูก)</span>) ูู ุงููุนุงุฏูุฉ <span class='math-eq'>ุต = ู ุณ + ุจ</span>.<br><span class='math-eq'><span class="text-blue-600">ูฃูฅูก</span> = ูกูฃ(<span class="text-red-600">ู</span>) + ุจ</span><br><span class='math-eq'>ูฃูฅูก = ู + ุจ</span> &larr; <span class='math-eq'>ุจ = ูฃูฅูก</span>` }, { text: `<strong>ุงูุฎุทูุฉ 4: ููุชุจ ุงููุนุงุฏูุฉ</strong><br>ุงูููู (ู) = ูกูฃ ูุงูููุทุน (ุจ) = ูฃูฅูก.<br>ุฅุฐู ุงููุนุงุฏูุฉ ูู:<br><div class="text-center mt-2 p-2 bg-blue-100 rounded-md"><span class='math-eq'>ุต = ูกูฃุณ + ูฃูฅูก</span></div>` }, { text: `<strong>ุงูุฎุทูุฉ 5: ูุชูุจุฃ ุจุงูุฃุฌุฑุฉ ูู ูจ ุณุงุนุงุช</strong><br>ูุนูุถ ุณ = ูจ ูู ุงููุนุงุฏูุฉ.<br><span class='math-eq'>ุต = ูกูฃ(ูจ) + ูฃูฅูก</span><br><span class='math-eq'>ุต = ูกููค + ูฃูฅูก = ูคูฅูฅ</span><br><div class="text-center mt-2 p-2 bg-green-100 rounded-md">ุฅุฐูุ ุณุชููู ุฃุฌุฑุชู ูคูฅูฅ ุฑูุงูุงู.</div>` } ] },
                        "3b": { totalSteps: 4, introText: `ูุญู ูุฐู ุงููุณุฃูุฉุ ุนูููุง ุฃููุงู ุฅูุฌุงุฏ ูุนุงุฏูุฉ ุงูุฎุท ุงููุณุชููู ุงูุชู ุชูุซู ุชูููุฉ ุงูุงุดุชุฑุงู.`, stepsContent: [ { text: `<strong>ุงูุฎุทูุฉ 1: ูุญุฏุฏ ุงูููุทุชูู</strong><br>ุงูููุทุฉ ุงูุฃููู ูู (ุนุฏุฏ ุงูุฃุดูุฑุ ุงูุชูููุฉ) = (<span class="text-red-600">ูข</span>ุ <span class="text-blue-600">ูฃูู</span>).<br>ุงูููุทุฉ ุงูุซุงููุฉ ูู (<span class="text-red-600">ูฅ</span>ุ <span class="text-blue-600">ูฆูู</span>).` }, { text: `<strong>ุงูุฎุทูุฉ 2: ูุฌุฏ ุงูููู (ู)</strong><br>ุงูููู ููุซู ุงูุชูููุฉ ุงูุดูุฑูุฉ.<br><span class='math-eq'>ู = <span class="fraction"><span>ูฆูู - ูฃูู</span><span>ูฅ - ูข</span></span> = <span class="fraction"><span>ูฃูู</span><span>ูฃ</span></span> = ูกูู</span> ุฑูุงู ููู ุดูุฑ.` }, { text: `<strong>ุงูุฎุทูุฉ 3: ูุฌุฏ ุงููุนุงุฏูุฉ</strong><br>ูุณุชุฎุฏู ุงูููู <span class='math-eq'>ู = ูกูู</span> ูุงูููุทุฉ (<span class="text-red-600">ูข</span>ุ <span class="text-blue-600">ูฃูู</span>) ูุฅูุฌุงุฏ (ุจ) (ุฑุณูู ุงูุชุณุฌูู ุงูุฃูููุฉ).<br><span class='math-eq'>ูฃูู = ูกูู(ูข) + ุจ</span>  &larr;  <span class='math-eq'>ูฃูู = ูขูู + ุจ</span>  &larr;  <span class='math-eq'>ุจ = ูกูู</span>.<br>ุฅุฐู ุงููุนุงุฏูุฉ ูู: <span class='math-eq'>ุต = ูกููุณ + ูกูู</span>.` }, { text: `<strong>ุงูุฎุทูุฉ 4: ูุชูุจุฃ ุจุงูุชูููุฉ ุจุนุฏ ูจ ุฃุดูุฑ</strong><br>ูุนูุถ <span class='math-eq'>ุณ = ูจ</span> ูู ุงููุนุงุฏูุฉ.<br><span class='math-eq'>ุต = ูกูู(ูจ) + ูกูู</span><br><span class='math-eq'>ุต = ูจูู + ูกูู = ูฉูู</span><br><div class="text-center mt-2 p-2 bg-green-100 rounded-md">ุฅุฐูุ ุณูููู ุนูู ูุฏ ุฏูุน ูฉูู ุฑูุงู ุจุนุฏ ูจ ุฃุดูุฑ.</div>` } ] }
                    };
                    Object.keys(configs).forEach(key => {
                        createInteractiveSection({
                            nextBtn: document.getElementById(`interactive-next-${key}`),
                            backBtn: document.getElementById(`interactive-back-${key}`),
                            stepCounter: document.getElementById(`interactive-step-counter-${key}`),
                            explanationDiv: document.getElementById(`interactive-explanation-${key}`),
                            ...configs[key]
                        });
                    });
                })();
                break;
            case 'c1_l5':
                (function() {
                    const examplesData = {
                        'eval-ex1': {
                            title: 'ูุซุงู ูก: ุงุญุณุจ ูููุฉ <span class="math-eq">| ูู - ูกูฃ |</span>',
                            steps: [
                                'ุงุถุบุท "ุงูุชุงูู" ูุนุฑุถ ุฎุทูุงุช ุงูุญู.',
                                '<h4>ุงูุฎุทูุฉ ูก: ุนูุถ ุนู ูู ุจูููุชูุง</h4><p class="math-block">| <span class="highlight-change">ูฅ</span> - ูกูฃ |</p>',
                                '<h4>ุงูุฎุทูุฉ ูข: ุงุญุณุจ ูุง ุจุฏุงุฎู ุงููููุฉ ุงููุทููุฉ</h4><p class="math-block">| -ูจ |</p>',
                                '<h4>ุงูุฎุทูุฉ ูฃ: ุฃูุฌุฏ ุงููููุฉ ุงููุทููุฉ</h4><p class="math-block text-xl font-bold text-green-600">= ูจ</p>'
                            ]
                        },
                        'eval-ex2': {
                            title: 'ูุซุงู ูข: ุงุญุณุจ ูููุฉ <span class="math-eq">| ูกูฆ - ุฏ | + | ู |</span>',
                            steps: [
                                'ุงุถุบุท "ุงูุชุงูู" ูุนุฑุถ ุฎุทูุงุช ุงูุญู.',
                                '<h4>ุงูุฎุทูุฉ ูก: ุนูุถ ุนู ุงููุชุบูุฑุงุช ุจููููุง</h4><p class="math-block">| ูกูฆ - (<span class="highlight-change">-ูค</span>) | + | (<span class="highlight-change">-ูฃ</span>) |</p>',
                                '<h4>ุงูุฎุทูุฉ ูข: ุงุญุณุจ ูุง ุจุฏุงุฎู ูู ูููุฉ ูุทููุฉ</h4><p class="math-block">| ูขู | + | -ูฃ |</p>',
                                '<h4>ุงูุฎุทูุฉ ูฃ: ุฃูุฌุฏ ุงููููุฉ ุงููุทููุฉ</h4><p class="math-block">ูขู + ูฃ</p>',
                                '<h4>ุงูุฎุทูุฉ ูค: ุงุฌูุน ุงูููู</h4><p class="math-block text-xl font-bold text-green-600">= ูขูฃ</p>'
                            ]
                        },
                        'eval-ex3': {
                            title: 'ูุซุงู ูฃ: ุงุญุณุจ ูููุฉ <span class="math-eq">| ู + ุฏ | - ูู</span>',
                            steps: [
                                'ุงุถุบุท "ุงูุชุงูู" ูุนุฑุถ ุฎุทูุงุช ุงูุญู.',
                                '<h4>ุงูุฎุทูุฉ ูก: ุนูุถ ุจุงูููู</h4><p class="math-block">| (<span class="highlight-change">-ูฃ</span>) + (<span class="highlight-change">-ูค</span>) | - <span class="highlight-change">ูฅ</span></p>',
                                '<h4>ุงูุฎุทูุฉ ูข: ุงุญุณุจ ูุง ุจุฏุงุฎู ุงููููุฉ ุงููุทููุฉ</h4><p class="math-block">| -ูง | - ูฅ</p>',
                                '<h4>ุงูุฎุทูุฉ ูฃ: ุงุทุฑุญ ุงูููู</h4><p class="math-block text-xl font-bold text-green-600">= ูง - ูฅ = ูข</p>'
                            ]
                        },
                        'eval-ex4': {
                            title: 'ูุซุงู ูค: ุงุญุณุจ ูููุฉ <span class="math-eq">ูฃ - | ูู |</span>',
                            steps: [
                                'ุงุถุบุท "ุงูุชุงูู" ูุนุฑุถ ุฎุทูุงุช ุงูุญู.',
                                '<h4>ุงูุฎุทูุฉ ูก: ุนูุถ ุนู ูู ุจูููุชูุง</h4><p class="math-block">ูฃ - | <span class="highlight-change">ูฅ</span> |</p>',
                                '<h4>ุงูุฎุทูุฉ ูข: ุงุญุณุจ ุงููููุฉ ุงููุทููุฉ ุฃููุงู</h4><p class="math-block">ูฃ - <span class="highlight-change">ูฅ</span></p>',
                                '<h4>ุงูุฎุทูุฉ ูฃ: ุฃูุฌุฏ ุงููุงุชุฌ ุงูููุงุฆู</h4><p class="math-block text-xl font-bold text-green-600">= -ูข</p>'
                            ]
                        },
                        'solve-ex1': {
                            title: 'ูุซุงู ูฅ: ุญู ุงููุนุงุฏูุฉ<span class="math-block">| ุณ + ูฃ | = ูจ</span>',
                            steps: [
                                'ูุญู ูุนุงุฏูุฉ ุงููููุฉ ุงููุทููุฉุ ููุตููุง ุฅูู ูุนุงุฏูุชูู. ุงุถุบุท "ุงูุชุงูู".',
                                '<h4>ุงูุฎุทูุฉ ูก: ูุชุงุจุฉ ุงูุญุงูุชูู</h4><p>ุจูุง ุฃู ุงููููุฉ ุงููุทููุฉ ุชุณุงูู ูจุ ููุง ุจุฏุงุฎููุง ุฅูุง ุฃู ูุณุงูู ูจ ุฃู -ูจ. ูุฐุง ูุนุทููุง ูุนุงุฏูุชูู:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-center mt-2"><div class="p-3 bg-blue-100 rounded-lg border border-blue-200"><h5><b>ุงูุญุงูุฉ ุงูุฃููู (ุงูููุฌุจุฉ)</b></h5><hr class="my-2"><p class="math-block">ุณ + ูฃ = ูจ</p></div><div class="p-3 bg-red-100 rounded-lg border border-red-200"><h5><b>ุงูุญุงูุฉ ุงูุซุงููุฉ (ุงูุณุงูุจุฉ)</b></h5><hr class="my-2"><p class="math-block">ุณ + ูฃ = -ูจ</p></div></div>',
                                '<h4>ุงูุฎุทูุฉ ูข: ุญู ุงูุญุงูุชูู</h4><p>ุงูุขู ูุญู ูู ุญุงูุฉ ุนูู ุญุฏุฉ.</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"><div class="p-3 bg-blue-100 rounded-lg border border-blue-200 text-center"><div class="space-y-1"><p>ูุทุฑุญ ูฃ ูู ุงูุทุฑููู</p><p class="math-block">ุณ = ูจ <span class="highlight-change">- ูฃ</span></p><p class="math-block font-bold text-green-600">ุณ = ูฅ</p></div></div><div class="p-3 bg-red-100 rounded-lg border border-red-200 text-center"><div class="space-y-1"><p>ูุทุฑุญ ูฃ ูู ุงูุทุฑููู</p><p class="math-block">ุณ = -ูจ <span class="highlight-change">- ูฃ</span></p><p class="math-block font-bold text-green-600">ุณ = -ูกูก</p></div></div></div>',
                                '<h4>ุงูุฎุทูุฉ ูฃ: ูุฌููุนุฉ ุงูุญู</h4><p>ุงูุญู ูุชููู ูู ูููุชูู. ุฅุฐูุ ูุฌููุนุฉ ุงูุญู ูู:</p><p class="math-block text-2xl">{ูฅุ -ูกูก}</p>'
                            ]
                        },
                        'solve-ex2': {
                            title: 'ูุซุงู ูฆ: ุญู ุงููุนุงุฏูุฉ<span class="math-block">ูข|ุณ - ูฃ| + ูฅ = ูกูฃ</span>',
                            steps: [
                                'ูู ูุฐู ุงููุนุงุฏูุฉุ ูุฌุจ ุฃููุงู ุนุฒู ุงููููุฉ ุงููุทููุฉ ูู ุทุฑู ููุญุฏูุง. ุงุถุบุท "ุงูุชุงูู" ููุจุฏุก.',
                                '<h4>ุงูุฎุทูุฉ ูก: ุงุทุฑุญ ูฅ ูู ุงูุทุฑููู</h4><p>ููุจุฏุก ูู ุนุฒู ุงููููุฉ ุงููุทููุฉุ ูุชุฎูุต ุฃููุงู ูู ุงูุนุฏุฏ ูฅ.</p><p class="math-block">ูข|ุณ - ูฃ| + ูฅ <span class="highlight-change">- ูฅ</span> = ูกูฃ <span class="highlight-change">- ูฅ</span></p><p class="math-block">ูข|ุณ - ูฃ| = ูจ</p>',
                                '<h4>ุงูุฎุทูุฉ ูข: ุงูุณู ุงูุทุฑููู ุนูู ูข</h4><p>ุงูุขู ูุชุฎูุต ูู ุงูุนุฏุฏ ูข ุงููุถุฑูุจ ูู ุงููููุฉ ุงููุทููุฉ.</p><p class="math-block"><span class="fraction"><span>ูข|ุณ - ูฃ|</span><span class="frac-bar"></span><span class="highlight-change">ูข</span></span> = <span class="fraction"><span>ูจ</span><span class="frac-bar"></span><span class="highlight-change">ูข</span></span></p><p class="math-block">|ุณ - ูฃ| = ูค</p>',
                                '<h4>ุงูุฎุทูุฉ ูฃ: ูุชุงุจุฉ ุงูุญุงูุชูู</h4><p>ุงูุขู ุจุนุฏ ุฃู ุฃุตุจุญุช ุงููููุฉ ุงููุทููุฉ ูุนุฒููุฉุ ููุชุจ ุงููุนุงุฏูุชูู ุงูููููุชูู:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"><div class="p-3 bg-blue-100 rounded-lg border border-blue-200 text-center"><h5><b>ุงูุญุงูุฉ ุงูุฃููู (ุงูููุฌุจุฉ)</b></h5><hr class="my-2"><p class="math-block">ุณ - ูฃ = ูค</p></div><div class="p-3 bg-red-100 rounded-lg border border-red-200 text-center"><h5><b>ุงูุญุงูุฉ ุงูุซุงููุฉ (ุงูุณุงูุจุฉ)</b></h5><hr class="my-2"><p class="math-block">ุณ - ูฃ = -ูค</p></div></div>',
                                '<h4>ุงูุฎุทูุฉ ูค: ุญู ุงูุญุงูุชูู</h4><p>ุงูุขู ูุญู ูู ุญุงูุฉ ุนูู ุญุฏุฉ.</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"><div class="p-3 bg-blue-100 rounded-lg border border-blue-200 text-center"><div class="space-y-1"><p>ูุถูู ูฃ ุฅูู ุงูุทุฑููู</p><p class="math-block">ุณ = ูค <span class="highlight-change">+ ูฃ</span></p><p class="math-block font-bold text-green-600">ุณ = ูง</p></div></div><div class="p-3 bg-red-100 rounded-lg border border-red-200 text-center"><div class="space-y-1"><p>ูุถูู ูฃ ุฅูู ุงูุทุฑููู</p><p class="math-block">ุณ = -ูค <span class="highlight-change">+ ูฃ</span></p><p class="math-block font-bold text-green-600">ุณ = -ูก</p></div></div></div>',
                                '<h4>ุงูุฎุทูุฉ ูฅ: ูุฌููุนุฉ ุงูุญู</h4><p>ุงูุญู ูุชููู ูู ูููุชูู. ุฅุฐูุ ูุฌููุนุฉ ุงูุญู ูู:</p><p class="math-block text-2xl">{ูงุ -ูก}</p>'
                            ]
                        },
                        'write-ex1': {
                            title: 'ูุซุงู ูง: ูุชุงุจุฉ ูุนุงุฏูุฉ ููุชูุซูู ุงูุจูุงูู',
                            steps: [
                                `<p class="mb-4 text-center">ุงูููุฑุฉ ูู ูุตู ุงูููุทุชูู (ูกูก ู ูกูฉ) ุจุงุณุชุฎุฏุงู ููุทุฉ ุชูุน ูู ููุชุตูููุง ุชูุงูุงู. ุงุถุบุท 'ุงูุชุงูู' ููุจุฏุก.</p><svg viewBox="0 0 320 80" class="mx-auto my-2 w-full max-w-sm h-auto"><defs><marker id="arrowhead-interactive" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#4a5568"/></marker></defs><line x1="15" y1="40" x2="305" y2="40" stroke="#4a5568" stroke-width="2" marker-start="url(#arrowhead-interactive)" marker-end="url(#arrowhead-interactive)" /><g font-size="12" font-family="sans-serif" fill="#4a5568" text-anchor="middle"><text x="40" y="65">ูกูก</text><line x1="40" y1="35" x2="40" y2="45" stroke="#4a5568" stroke-width="1.5" /><text x="280" y="65">ูกูฉ</text><line x1="280" y1="35" x2="280" y2="45" stroke="#4a5568" stroke-width="1.5" /></g><circle cx="40" cy="40" r="4" fill="#3b82f6" /><circle cx="280" cy="40" r="4" fill="#3b82f6" /></svg>`,
                                '<h4>ุงูุฎุทูุฉ ูก: ุฅูุฌุงุฏ ููุทุฉ ุงูููุชุตู (ุงููุฑูุฒ)</h4><p class="text-center">ุฃููุงูุ ูุฌุฏ ุงูุนุฏุฏ ุงูุฐู ููุน ูู ุงูููุชุตู ุชูุงูุงู ุจูู ูกูก ู ูกูฉ ุนู ุทุฑูู ุญุณุงุจ ูุชูุณุทููุง:</p><p class="math-block text-lg"><span class="fraction"><span>ูกูก + ูกูฉ</span><span class="frac-bar"></span><span>ูข</span></span> = ูกูฅ</p><svg viewBox="0 0 320 80" class="mx-auto my-2 w-full max-w-sm h-auto"><line x1="15" y1="40" x2="305" y2="40" stroke="#4a5568" stroke-width="2" marker-start="url(#arrowhead-interactive)" marker-end="url(#arrowhead-interactive)" /><g font-size="12" font-family="sans-serif" fill="#4a5568" text-anchor="middle"><text x="40" y="65">ูกูก</text><line x1="40" y1="35" x2="40" y2="45" stroke="#4a5568" stroke-width="1.5" /><text x="160" y="20" fill="#16a34a">ุงูููุชุตู = ูกูฅ</text><line x1="160" y1="35" x2="160" y2="45" stroke="#16a34a" stroke-width="1.5" /><text x="280" y="65">ูกูฉ</text><line x1="280" y1="35" x2="280" y2="45" stroke="#4a5568" stroke-width="1.5" /></g><circle cx="40" cy="40" r="4" fill="#3b82f6" /><circle cx="280" cy="40" r="4" fill="#3b82f6" /><circle cx="160" cy="40" r="4" fill="#16a34a" /></svg>',
                                '<h4>ุงูุฎุทูุฉ ูข: ุฅูุฌุงุฏ ุงููุณุงูุฉ</h4><p class="text-center">ุงูุขูุ ูุญุณุจ ูู ุชุจุนุฏ ูู ููุทุฉ ุนู ุงูููุชุตู. ุงููุณุงูุฉ ูู ูกูฅ ุฅูู ูกูฉ ูู ูค ุฎุทูุงุช.</p><p class="math-block">ูกูฉ - ูกูฅ = ูค</p><svg viewBox="0 0 320 80" class="mx-auto my-2 w-full max-w-sm h-auto"><line x1="15" y1="40" x2="305" y2="40" stroke="#4a5568" stroke-width="2" marker-start="url(#arrowhead-interactive)" marker-end="url(#arrowhead-interactive)" /><g font-size="12" font-family="sans-serif" fill="#4a5568" text-anchor="middle"><text x="40" y="65">ูกูก</text><text x="280" y="65">ูกูฉ</text></g><path d="M 160 30 Q 220 20 280 30" stroke="#ef4444" stroke-width="2" fill="none" stroke-dasharray="4 4" /><text x="220" y="18" fill="#ef4444" font-size="10" text-anchor="middle">ุงููุณุงูุฉ = ูค</text><path d="M 160 50 Q 100 60 40 50" stroke="#ef4444" stroke-width="2" fill="none" stroke-dasharray="4 4" /><text x="100" y="68" fill="#ef4444" font-size="10" text-anchor="middle">ุงููุณุงูุฉ = ูค</text><circle cx="40" cy="40" r="4" fill="#3b82f6" /><circle cx="280" cy="40" r="4" fill="#3b82f6" /><circle cx="160" cy="40" r="4" fill="#16a34a" /></svg>',
                                '<h4>ุงูุฎุทูุฉ ูฃ: ูุชุงุจุฉ ุงููุนุงุฏูุฉ</h4><p class="text-center">ุงูุตูุบุฉ ุงูุนุงูุฉ ูู: <span class="math-eq">|ุณ - ุงูููุชุตู| = ุงููุณุงูุฉ</span>. ุงูุขู ูุนูุถ ุจุงูููู ุงูุชู ุฃูุฌุฏูุงูุง ููุญุตูู ุนูู ุงููุนุงุฏูุฉ ุงูููุงุฆูุฉ:</p><p class="math-block text-2xl text-center mt-4">| ุณ - ูกูฅ | = ูค</p>'
                            ]
                        }
                    };

                    function setupInteractiveExample(containerId) {
                        const container = document.getElementById(containerId);
                        const data = examplesData[containerId];
                        if (!container || !data) return;

                        let currentStep = 0;
                        const totalSteps = data.steps.length - 1;

                        const title = document.createElement('h4');
                        title.className = 'text-lg font-bold text-gray-800 mb-4 text-center';
                        title.innerHTML = data.title;

                        const display = document.createElement('div');
                        display.className = 'interactive-display';

                        const controls = document.createElement('div');
                        controls.className = 'interactive-controls flex justify-between items-center mt-4';

                        const backBtn = document.createElement('button');
                        backBtn.textContent = 'ุฑุฌูุน';
                        backBtn.className = 'btn-back';

                        const stepCounter = document.createElement('span');
                        stepCounter.className = 'step-counter';

                        const nextBtn = document.createElement('button');
                        nextBtn.textContent = 'ุงูุชุงูู';
                        nextBtn.className = 'btn-next';

                        controls.appendChild(backBtn);
                        controls.appendChild(stepCounter);
                        controls.appendChild(nextBtn);

                        container.innerHTML = '';
                        container.appendChild(title);
                        container.appendChild(display);
                        container.appendChild(controls);

                        function updateStep() {
                            display.style.opacity = 0;
                            setTimeout(() => {
                                let cumulativeHTML = '';
                                if (currentStep === 0) {
                                    cumulativeHTML = `<div class="text-center text-gray-600 p-4">${data.steps[0]}</div>`;
                                } else {
                                    for (let i = 1; i <= currentStep; i++) {
                                        cumulativeHTML += `<div class="step-wrapper">${data.steps[i]}</div>`;
                                    }
                                }
                                display.innerHTML = cumulativeHTML;
                                
                                stepCounter.textContent = `ุงูุฎุทูุฉ ${currentStep}/${totalSteps}`;
                                backBtn.disabled = currentStep === 0;
                                nextBtn.disabled = currentStep === totalSteps;
                                display.style.opacity = 1;
                            }, 150);
                        }

                        nextBtn.addEventListener('click', () => {
                            if (currentStep < totalSteps) {
                                currentStep++;
                                updateStep();
                            }
                        });

                        backBtn.addEventListener('click', () => {
                            if (currentStep > 0) {
                                currentStep--;
                                updateStep();
                            }
                        });

                        updateStep(); // Initialize view
                    }

                    Object.keys(examplesData).forEach(id => {
                        setupInteractiveExample(id);
                    });
                })();
                break;
            case 'c3_l3':
                (function() {
                    const configs = {
                        "1a": { totalSteps: 2, introText: `ูุจุฏุฃ ุจุตูุบุฉ ุงูููู ูููุทุฉ: <br><span class='math-eq'>ุต - ุตโ = ู (ุณ - ุณโ)</span>.`, stepsContent: [ { text: `<strong>1. ูุนูุถ ุจุงููุนุทูุงุช:</strong><br>ุงูููู <span class='math-eq'>ู = ูง</span>ุ ูุงูููุทุฉ (<span class="text-red-600">-ูฃ</span>ุ <span class="text-blue-600">ูฅ</span>).<br><span class='math-eq'>ุต - <span class="text-blue-600">ูฅ</span> = ูง(ุณ - (<span class="text-red-600">-ูฃ</span>))</span>` }, { text: `<strong>2. ูุจุณุท ุงููุนุงุฏูุฉ:</strong><br>ุนูุฏ ุทุฑุญ ุนุฏุฏ ุณุงูุจุ ูุฅููุง ูุฌูุน.<br><div class='text-center mt-2 p-2 bg-green-100 rounded-md'><span class='math-eq'>ุต - ูฅ = ูง(ุณ + ูฃ)</span></div>` } ] },
                        "1b": { totalSteps: 2, introText: `ูุจุฏุฃ ุจุตูุบุฉ ุงูููู ูููุทุฉ: <br><span class='math-eq'>ุต - ุตโ = ู (ุณ - ุณโ)</span>.`, stepsContent: [ { text: `<strong>1. ูุนูุถ ุจุงููุนุทูุงุช:</strong><br>ุงูููู <span class='math-eq'>ู = -<span class="fraction"><span>ูก</span><span>ูฃ</span></span></span>ุ ูุงูููุทุฉ (<span class="text-red-600">ู</span>ุ <span class="text-blue-600">-ูข</span>).<br><span class='math-eq'>ุต - (<span class="text-blue-600">-ูข</span>) = -<span class="fraction"><span>ูก</span><span>ูฃ</span></span>(ุณ - <span class="text-red-600">ู</span>)</span>` }, { text: `<strong>2. ูุจุณุท ุงููุนุงุฏูุฉ:</strong><br><div class='text-center mt-2 p-2 bg-green-100 rounded-md'><span class='math-eq'>ุต + ูข = -<span class="fraction"><span>ูก</span><span>ูฃ</span></span>ุณ</span></div>` } ] },
                        "2a": { totalSteps: 3, introText: `ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ: <span class='math-eq'>ุต - ูกู = ูข(ุณ - ูจ)</span><br>ุงููุฏู ูู ุงููุตูู ููุตูุฑุฉ ุงูููุงุณูุฉ: <span class='math-eq'>ุฃ ุณ + ุจ ุต = ุฌ</span>.`, stepsContent: [ { text: `<strong>ุงูุฎุทูุฉ 1: ูู ุงูุฃููุงุณ (ุฎุงุตูุฉ ุงูุชูุฒูุน)</strong><br><span class='math-eq'>ุต - ูกู = ูขุณ - ูกูฆ</span>` }, { text: `<strong>ุงูุฎุทูุฉ 2: ูุฌูุน <span style='color: #4f46e5;'>ุงููุชุบูุฑุงุช</span> ู <span style='color: #db2777;'>ุงูุซูุงุจุช</span></strong><br>ูููู ุงููุชุบูุฑุงุช ุฅูู ุทุฑู ูุงูุซูุงุจุช ุฅูู ุงูุทุฑู ุงูุขุฎุฑ.<br><span class='math-eq'><span style='color: #4f46e5;'>-ูขุณ + ุต</span> = <span style='color: #db2777;'>-ูกูฆ + ูกู</span></span><br><span class='math-eq'>-ูขุณ + ุต = -ูฆ</span>` }, { text: `<strong>ุงูุฎุทูุฉ 3: ูุฌุนู ูุนุงูู 'ุณ' ููุฌุจูุง</strong><br>ูุถุฑุจ ุงููุนุงุฏูุฉ ูููุง ูู -ูก.<br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ูขุณ - ุต = ูฆ</span></div>` } ] },
                        "2b": { totalSteps: 2, introText: `ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ: <span class='math-eq'>ุต - ูฆ = -ูฃ(ุณ + ูข)</span><br>ุงููุฏู ูู ุงููุตูู ููุตูุฑุฉ ุงูููุงุณูุฉ: <span class='math-eq'>ุฃ ุณ + ุจ ุต = ุฌ</span>.`, stepsContent: [ { text: `<strong>ุงูุฎุทูุฉ 1: ูู ุงูุฃููุงุณ (ุฎุงุตูุฉ ุงูุชูุฒูุน)</strong><br><span class='math-eq'>ุต - ูฆ = -ูฃุณ - ูฆ</span>` }, { text: `<strong>ุงูุฎุทูุฉ 2: ูุฌูุน <span style='color: #4f46e5;'>ุงููุชุบูุฑุงุช</span> ู <span style='color: #db2777;'>ุงูุซูุงุจุช</span></strong><br>ูููู ุงููุชุบูุฑุงุช ุฅูู ุทุฑู ูุงูุซูุงุจุช ุฅูู ุงูุทุฑู ุงูุขุฎุฑ.<br><span class='math-eq'><span style='color: #4f46e5;'>ูฃุณ + ุต</span> = <span style='color: #db2777;'>-ูฆ + ูฆ</span></span><br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ูฃุณ + ุต = ู</span></div>` } ] },
                        "3a": { totalSteps: 3, introText: `ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ: <span class='math-eq'>ุต - ูฆ = -ูข(ุณ - ูง)</span><br>ุงููุฏู ูู ุงููุตูู ูุตูุบุฉ ุงูููู ูุงูููุทุน: <span class='math-eq'>ุต = ู ุณ + ุจ</span>.`, stepsContent: [ { text: `<strong>ุงูุฎุทูุฉ 1: ูู ุงูุฃููุงุณ (ุฎุงุตูุฉ ุงูุชูุฒูุน)</strong><br><span class='math-eq'>ุต - ูฆ = -ูขุณ + ูกูค</span>` }, { text: `<strong>ุงูุฎุทูุฉ 2: ูุนุฒู ุงููุชุบูุฑ 'ุต'</strong><br>ูููู -ูฆ ุฅูู ุงูุทุฑู ุงูุขุฎุฑ.<br><span class='math-eq'>ุต = -ูขุณ + ูกูค + ูฆ</span>` }, { text: `<strong>ุงูุฎุทูุฉ 3: ูุจุณุท ุงููุนุงุฏูุฉ</strong><br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ุต = -ูขุณ + ูขู</span></div>` } ] },
                        "3b": { totalSteps: 4, introText: `ุงููุนุงุฏูุฉ ุงูุฃุตููุฉ: <span class='math-eq'>ูฃุต + ูฅ = ูข(ุณ + ูง)</span><br>ุงููุฏู ูู ุงููุตูู ูุตูุบุฉ ุงูููู ูุงูููุทุน: <span class='math-eq'>ุต = ู ุณ + ุจ</span>.`, stepsContent: [ { text: `<strong>ุงูุฎุทูุฉ 1: ูู ุงูุฃููุงุณ (ุฎุงุตูุฉ ุงูุชูุฒูุน)</strong><br><span class='math-eq'>ูฃุต + ูฅ = ูขุณ + ูกูค</span>` }, { text: `<strong>ุงูุฎุทูุฉ 2: ูุนุฒู ุงูุญุฏ 'ูฃุต'</strong><br>ูููู +ูฅ ุฅูู ุงูุทุฑู ุงูุขุฎุฑ.<br><span class='math-eq'>ูฃุต = ูขุณ + ูกูค - ูฅ</span><br><span class='math-eq'>ูฃุต = ูขุณ + ูฉ</span>` }, { text: `<strong>ุงูุฎุทูุฉ 3: ูุนุฒู ุงููุชุบูุฑ 'ุต'</strong><br>ููุณู ุทุฑูู ุงููุนุงุฏูุฉ ุนูู ูฃ.<br><span class='math-eq'>ุต = <span class="fraction"><span>ูขุณ + ูฉ</span><span>ูฃ</span></span></span>`}, { text: `<strong>ุงูุฎุทูุฉ 4: ูุจุณุท ุงููุนุงุฏูุฉ</strong><br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ุต = <span class="fraction"><span>ูข</span><span>ูฃ</span></span>ุณ + ูฃ</span></div>` } ] }
                    };
                    
                    Object.keys(configs).forEach(key => {
                        createInteractiveSection({
                            nextBtn: document.getElementById(`interactive-next-${key}`),
                            backBtn: document.getElementById(`interactive-back-${key}`),
                            stepCounter: document.getElementById(`interactive-step-counter-${key}`),
                            explanationDiv: document.getElementById(`interactive-explanation-${key}`),
                            ...configs[key]
                        });
                    });
                })();
                break;
            case 'c3_l4':
                (function() {
                    const formulaReminder = `<div class="text-sm">ูุญู ูุฐุง ุงูุชูุฑููุ ุชุฐูุฑ ุงูุตูุบ ุงูุชุงููุฉ:</div><ul class='list-disc pr-5 mt-1 space-y-1 text-sm'><li><strong>ุตูุบุฉ ุงูููู ูุงูููุทุน:</strong> <span class='math-eq'>ุต = ู ุณ + ุจ</span></li><li><strong>ุตูุบุฉ ุงูููู ูููุทุฉ:</strong> <span class='math-eq'>ุต - ุตโ = ู (ุณ - ุณโ)</span></li></ul>`;
                    const configs = {
                        "1a": { totalSteps: 4, introText: formulaReminder, stepsContent: [ { text: `<strong>1. ูุญุฏุฏ ููู ุงููุณุชููู ุงููุนุทู:</strong><br>ุงููุนุงุฏูุฉ <span class='math-eq'>ุต = ูฃุณ + ูข</span> ุนูู ุตูุบุฉ ุงูููู ูุงูููุทุน. ุฅุฐูุ ุงูููู <span class='math-eq'>ู = ูฃ</span>.` }, { text: `<strong>2. ูุณุชุฎุฏู ููู ุงููุณุชููู ุงูููุงุฒู:</strong><br>ุงููุณุชูููุงุช ุงููุชูุงุฒูุฉ ููุง ุงูููู ููุณู. ุฅุฐูุ ููู ุงููุณุชููู ุงููุทููุจ ูู <span class='math-eq'>ู = ูฃ</span>.` }, { text: `<strong>3. ูุนูุถ ูู ุตูุบุฉ ุงูููู ูููุทุฉ:</strong><br>ุงูููุทุฉ (<span class="text-red-600 font-bold">-ูก</span>ุ <span class="text-blue-600 font-bold">-ูฅ</span>) ูุงูููู <span class="text-green-600 font-bold">ูฃ</span>.<br><span class='math-eq'>ุต - (<span class="text-blue-600 font-bold">-ูฅ</span>) = <span class="text-green-600 font-bold">ูฃ</span>(ุณ - (<span class="text-red-600 font-bold">-ูก</span>))</span>` }, { text: `<strong>4. ูุจุณุท ุงููุนุงุฏูุฉ:</strong><br><div class='text-center mt-2 p-2 bg-green-100 rounded-md'><span class='math-eq'>ุต + ูฅ = ูฃ(ุณ + ูก)</span></div>` } ] },
                        "1b": { totalSteps: 5, introText: formulaReminder, stepsContent: [ { text: `<strong>1. ููุฌุฏ ููู ุงููุณุชููู ุงููุนุทู:</strong><br>ููุชุงุจุฉ ุงููุนุงุฏูุฉ ุจุตูุบุฉ ุงูููู ูุงูููุทุนุ ูููู ูขุณ ููุทุฑู ุงูุขุฎุฑ.<br><span class='math-eq'>ุต = -ูขุณ + ูก</span>` }, { text: `<strong>2. ูุญุฏุฏ ุงูููู:</strong><br>ูู ุงูุตูุบุฉ ุงูุฌุฏูุฏุฉุ ุงูููู ูู <span class='math-eq'>ู = -ูข</span>.` }, { text: `<strong>3. ููู ุงููุณุชููู ุงูููุงุฒู:</strong><br>ููู ุงููุณุชููู ุงููุทููุจ ูู ููุณูุ ุฃู <span class='math-eq'>ู = -ูข</span>.` }, { text: `<strong>4. ูุนูุถ ูู ุตูุบุฉ ุงูููู ูููุทุฉ:</strong><br>ุงูููุทุฉ (<span class="text-red-600 font-bold">ูค</span>ุ <span class="text-blue-600 font-bold">ู</span>) ูุงูููู <span class="text-green-600 font-bold">-ูข</span>.<br><span class='math-eq'>ุต - <span class="text-blue-600 font-bold">ู</span> = <span class="text-green-600 font-bold">-ูข</span>(ุณ - <span class="text-red-600 font-bold">ูค</span>)</span>` }, { text: `<strong>5. ูุจุณุท ุงููุนุงุฏูุฉ:</strong><br><div class='text-center mt-2 p-2 bg-green-100 rounded-md'><span class='math-eq'>ุต = -ูข(ุณ - ูค)</span></div>` } ] },
                        "2a": { totalSteps: 4, introText: formulaReminder, stepsContent: [ { text: `<strong>1. ูุญุฏุฏ ููู ุงููุณุชููู ุงููุนุทู:</strong><br>ููู ุงููุณุชููู ุงููุนุทู ูู <span class='math-eq'>ูโ = -ูข</span>.` }, { text: `<strong>2. ููุฌุฏ ููู ุงููุณุชููู ุงููุชุนุงูุฏ:</strong><br>ููู ุงููุณุชููู ุงููุชุนุงูุฏ ูู ูุนููุณ ููููุจ ุงูููู ุงูุฃูู.<br><span class='math-eq'>ูโ = <span class="fraction"><span>ูก</span><span>ูข</span></span></span>` }, { text: `<strong>3. ูุนูุถ ูู ุตูุบุฉ ุงูููู ูููุทุฉ:</strong><br>ุงูููุทุฉ (<span class="text-red-600 font-bold">ูฆ</span>ุ <span class="text-blue-600 font-bold">-ูก</span>) ูุงูููู <span class="text-green-600 font-bold"><span class="fraction"><span>ูก</span><span>ูข</span></span></span>.<br><span class='math-eq'>ุต - (<span class="text-blue-600 font-bold">-ูก</span>) = <span class="text-green-600 font-bold"><span class="fraction"><span>ูก</span><span>ูข</span></span></span>(ุณ - <span class="text-red-600 font-bold">ูฆ</span>)</span>` }, { text: `<strong>4. ูุจุณุท ุงููุนุงุฏูุฉ:</strong><br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ุต + ูก = <span class="fraction"><span>ูก</span><span>ูข</span></span>(ุณ - ูฆ)</span></div>` } ] },
                        "2b": { totalSteps: 5, introText: formulaReminder, stepsContent: [ { text: `<strong>1. ููุฌุฏ ููู ุงููุณุชููู ุงููุนุทู:</strong><br>ูุญูู ุงููุนุงุฏูุฉ ุฅูู ุตูุบุฉ ุงูููู ูุงูููุทุน.<br>ูููู ูขุณ: <span class='math-eq'>-ูฅุต = -ูขุณ + ูกู</span><br>ููุณู ุนูู -ูฅ: <span class='math-eq'>ุต = <span class="fraction"><span>ูข</span><span>ูฅ</span></span>ุณ - ูข</span>` }, { text: `<strong>2. ูุญุฏุฏ ุงูููู:</strong><br>ููู ุงููุณุชููู ุงููุนุทู ูู <span class='math-eq'>ูโ = <span class="fraction"><span>ูข</span><span>ูฅ</span></span></span>.` }, { text: `<strong>3. ููุฌุฏ ููู ุงููุณุชููู ุงููุชุนุงูุฏ:</strong><br>ุงูููู ูู ูุนููุณ ููููุจ ุงูููู ุงูุฃูู.<br><span class='math-eq'>ูโ = -<span class="fraction"><span>ูฅ</span><span>ูข</span></span></span>` }, { text: `<strong>4. ูุนูุถ ูู ุตูุบุฉ ุงูููู ูููุทุฉ:</strong><br>ุงูููุทุฉ (<span class="text-red-600 font-bold">-ูค</span>ุ <span class="text-blue-600 font-bold">ูฃ</span>) ูุงูููู <span class="text-green-600 font-bold">-<span class="fraction"><span>ูฅ</span><span>ูข</span></span></span>.<br><span class='math-eq'>ุต - <span class="text-blue-600 font-bold">ูฃ</span> = <span class="text-green-600 font-bold">-<span class="fraction"><span>ูฅ</span><span>ูข</span></span></span>(ุณ - (<span class="text-red-600 font-bold">-ูค</span>))</span>` }, { text: `<strong>5. ูุจุณุท ุงููุนุงุฏูุฉ:</strong><br><div class="text-center mt-2 p-2 bg-green-100 rounded-md"><span class='math-eq'>ุต - ูฃ = -<span class="fraction"><span>ูฅ</span><span>ูข</span></span>(ุณ + ูค)</span></div>` } ] }
                    };
                    Object.keys(configs).forEach(key => {
                        createInteractiveSection({
                            nextBtn: document.getElementById(`interactive-next-${key}`),
                            backBtn: document.getElementById(`interactive-back-${key}`),
                            stepCounter: document.getElementById(`interactive-step-counter-${key}`),
                            explanationDiv: document.getElementById(`interactive-explanation-${key}`),
                            ...configs[key]
                        });
                    });
                })();
                break;
            case 'c4_l1':
                (function() {
                    function generateNumberLine(containerId, value, type) {
                        const container = document.getElementById(containerId);
                        if (!container) return;

                        const start = value - 5;
                        const end = value + 5;
                        const range = end - start;
                        const svgWidth = container.clientWidth > 0 ? container.clientWidth : 250;
                        const svgHeight = 100;

                        const valueToX = (val) => ((val - start) / range) * (svgWidth - 60) + 30;

                        const isClosed = type === 'gte' || type === 'lte';
                        const isLeft = type === 'lt' || type === 'lte';

                        let ticksHtml = '';
                        for (let i = start; i <= end; i++) {
                            const x = valueToX(i);
                            ticksHtml += `<line x1="${x}" y1="35" x2="${x}" y2="45" stroke="gray" stroke-width="1"></line>`;
                            ticksHtml += `<text x="${x}" y="65" text-anchor="middle" font-size="12" fill="black">${i}</text>`;
                        }

                        const valueX = valueToX(value);
                        const circleHtml = `<circle cx="${valueX}" cy="40" r="5" stroke="#3b82f6" stroke-width="2" fill="${isClosed ? '#3b82f6' : 'white'}"></circle>`;
                        
                        let rayHtml = '';
                        if (isLeft) {
                            rayHtml = `<line x1="${valueX}" y1="40" x2="0" y2="40" stroke="#3b82f6" stroke-width="3"></line>`;
                            rayHtml += `<polygon points="10,35 0,40 10,45" fill="#3b82f6"></polygon>`;
                        } else {
                            rayHtml = `<line x1="${valueX}" y1="40" x2="${svgWidth}" y2="40" stroke="#3b82f6" stroke-width="3"></line>`;
                            rayHtml += `<polygon points="${svgWidth-10},35 ${svgWidth},40 ${svgWidth-10},45" fill="#3b82f6"></polygon>`;
                        }

                        const svg = `<svg width="100%" height="${svgHeight}" class="number-line-svg">${ticksHtml}<line x1="0" y1="40" x2="${svgWidth}" y2="40" stroke="gray" stroke-width="2"></line>${rayHtml}${circleHtml}</svg>`;
                        container.innerHTML = svg;
                    }

                    const configs = {
                        "1a": { totalSteps: 4, introText: `<div class="text-sm">ูุญู ุงููุชุจุงููุฉุ ูุฑูุฏ ุนุฒู ุงููุชุบูุฑ <strong>ุณ</strong> ูู ุทุฑู ุจููุฑุฏู.</div>`, stepsContent: [ { text: `<strong>1. ุฃุถู <span class='text-red-600 font-bold'>ูกูข</span> ููุทุฑููู:</strong><br>ููุชุฎูุต ูู (-ูกูข) ุจุฌุงูุจ ุงููุชุบูุฑ ุณ.<br><span class='math-eq'>ุณ - ูกูข <span class='text-red-600 font-bold'>+ ูกูข</span> โฅ ูจ <span class='text-red-600 font-bold'>+ ูกูข</span></span>` }, { text: `<strong>2. ุจุณูุท ุงููุนุงุฏูุฉ:</strong><br>ุจุฌูุน ุงูุฃุฑูุงู ูู ูู ุทุฑู.<br><span class='math-eq'>ุณ โฅ ูขู</span>` }, { text: `<strong>3. ูุฌููุนุฉ ุงูุญู:</strong><br>ุงูุญู ูู ูู ุงูุฃุนุฏุงุฏ ุงูุฃูุจุฑ ูู ุฃู ุชุณุงูู ูขู.<br><div class='solution-set mt-2'>{ุณ | ุณ โฅ ูขู}</div>` }, { text: `<strong>4. ุงูุชูุซูู ุนูู ุฎุท ุงูุฃุนุฏุงุฏ:</strong><div id="nl-1a" class="number-line-container"></div>`, action: () => generateNumberLine('nl-1a', 20, 'gte') } ] },
                        "1b": { totalSteps: 4, introText: `<div class="text-sm">ูุญู ุงููุชุจุงููุฉุ ูุฑูุฏ ุนุฒู ุงููุชุบูุฑ <strong>ู</strong> ูู ุทุฑู ุจููุฑุฏู.</div>`, stepsContent: [ { text: `<strong>1. ุงุทุฑุญ <span class='text-red-600 font-bold'>ูกูฉ</span> ูู ุงูุทุฑููู:</strong><br>ููุชุฎูุต ูู (+ูกูฉ) ุจุฌุงูุจ ุงููุชุบูุฑ ู.<br><span class='math-eq'>ู + ูกูฉ <span class='text-red-600 font-bold'>- ูกูฉ</span> > ูฅูฆ <span class='text-red-600 font-bold'>- ูกูฉ</span></span>` }, { text: `<strong>2. ุจุณูุท ุงููุนุงุฏูุฉ:</strong><br>ุจุทุฑุญ ุงูุฃุฑูุงู ูู ูู ุทุฑู.<br><span class='math-eq'>ู > ูฃูง</span>` }, { text: `<strong>3. ูุฌููุนุฉ ุงูุญู:</strong><br>ุงูุญู ูู ูู ุงูุฃุนุฏุงุฏ ุงูุฃูุจุฑ ูู ูฃูง.<br><div class='solution-set mt-2'>{ู | ู > ูฃูง}</div>` }, { text: `<strong>4. ุงูุชูุซูู ุนูู ุฎุท ุงูุฃุนุฏุงุฏ:</strong><div id="nl-1b" class="number-line-container"></div>`, action: () => generateNumberLine('nl-1b', 37, 'gt') } ] },
                        "2a": { totalSteps: 5, introText: `<div class="text-sm">ูุญู ุงููุชุจุงููุฉุ ูุฌูุน ุงููุชุบูุฑุงุช ูู ุทุฑู ูุงูุฃุนุฏุงุฏ ูู ุงูุทุฑู ุงูุขุฎุฑ.</div>`, stepsContent: [ { text: `<strong>1. ุงุทุฑุญ <span class='text-red-600 font-bold'>ูคู</span> ูู ุงูุทุฑููู:</strong><br>ูุฌูุน ุงููุชุบูุฑุงุช ูู ุงูุทุฑู ุงูุฃููู.<br><span class='math-eq'>ูฅู <span class='text-red-600 font-bold'>- ูคู</span> - ูก < ูคู <span class='text-red-600 font-bold'>- ูคู</span> + ูฆ</span>` }, { text: `<strong>2. ุจุณูุท:</strong><br><span class='math-eq'>ู - ูก < ูฆ</span>` }, { text: `<strong>3. ุฃุถู <span class='text-blue-600 font-bold'>ูก</span> ููุทุฑููู:</strong><br>ูุฌูุน ุงูุฃุนุฏุงุฏ ูู ุงูุทุฑู ุงูุฃูุณุฑ.<br><span class='math-eq'>ู - ูก <span class='text-blue-600 font-bold'>+ ูก</span> < ูฆ <span class='text-blue-600 font-bold'>+ ูก</span></span>` }, { text: `<strong>4. ุงูุญู ุงูููุงุฆู:</strong><br>ุงูุญู ูู ูู ุงูุฃุนุฏุงุฏ ุงูุฃุตุบุฑ ูู ูง.<br><div class='solution-set mt-2'>{ู | ู < ูง}</div>` }, { text: `<strong>5. ุงูุชูุซูู ุนูู ุฎุท ุงูุฃุนุฏุงุฏ:</strong><div id="nl-2a" class="number-line-container"></div>`, action: () => generateNumberLine('nl-2a', 7, 'lt') } ] },
                        "2b": { totalSteps: 5, introText: `<div class="text-sm">ูุญู ุงููุชุจุงููุฉุ ูุฌูุน ุงููุชุบูุฑุงุช ูู ุทุฑู ูุงูุฃุนุฏุงุฏ ูู ุงูุทุฑู ุงูุขุฎุฑ.</div>`, stepsContent: [ { text: `<strong>1. ุงุทุฑุญ <span class='text-red-600 font-bold'>ูขุณ</span> ูู ุงูุทุฑููู:</strong><br>ูุฌูุน ุงููุชุบูุฑุงุช ูู ุงูุทุฑู ุงูุฃููู.<br><span class='math-eq'>ูฃุณ <span class='text-red-600 font-bold'>- ูขุณ</span> + ูฆ โค ูขุณ <span class='text-red-600 font-bold'>- ูขุณ</span> + ูจ</span>` }, { text: `<strong>2. ุจุณูุท:</strong><br><span class='math-eq'>ุณ + ูฆ โค ูจ</span>` }, { text: `<strong>3. ุงุทุฑุญ <span class='text-blue-600 font-bold'>ูฆ</span> ูู ุงูุทุฑููู:</strong><br>ูุฌูุน ุงูุฃุนุฏุงุฏ ูู ุงูุทุฑู ุงูุฃูุณุฑ.<br><span class='math-eq'>ุณ + ูฆ <span class='text-blue-600 font-bold'>- ูฆ</span> โค ูจ <span class='text-blue-600 font-bold'>- ูฆ</span></span>` }, { text: `<strong>4. ุงูุญู ุงูููุงุฆู:</strong><br>ุงูุญู ูู ูู ุงูุฃุนุฏุงุฏ ุงูุฃุตุบุฑ ูู ุฃู ุชุณุงูู ูข.<br><div class='solution-set mt-2'>{ุณ | ุณ โค ูข}</div>` }, { text: `<strong>5. ุงูุชูุซูู ุนูู ุฎุท ุงูุฃุนุฏุงุฏ:</strong><div id="nl-2b" class="number-line-container"></div>`, action: () => generateNumberLine('nl-2b', 2, 'lte') } ] }
                    };
                    const verbalConfig1 = { totalSteps: 3, layout: 'grid', introText: `<div class="text-sm">ููุญูู ุงููุณุฃูุฉ ุฅูู ูุชุจุงููุฉ ุฑูุงุถูุฉ ููุญููุง.</div>`, stepsContent: [ { text: `<strong>1. ุชุญุฏูุฏ ุงููุชุบูุฑ ูุงูุนุจุงุฑุฉ:</strong><br>ูููุฑุถ ุฃู ุณุนุฑ ุงูุจูุทุงู ูู <span class='math-eq'>ุจ</span>.<br>ุงููุจูุบ ุงูุฅุฌูุงูู ูู <span class='math-eq'>ูงูฅ + ุจ</span>.<br>ุงูุฅููุงู ูุฌุจ ุฃู ูุง ูุฒูุฏ ุนูู ูกูฉูฅ ุฑูุงูุงู.` }, { text: `<strong>2. ูุชุงุจุฉ ุงููุชุจุงููุฉ:</strong><br>ุนุจุงุฑุฉ "ูุง ูุฒูุฏ ุนูู" ุชุนูู "ุฃูู ูู ุฃู ูุณุงูู" (โค).<br><span class='math-eq'>ูงูฅ + ุจ โค ูกูฉูฅ</span>` }, { text: `<strong>3. ุญู ุงููุชุจุงููุฉ:</strong><br>ุงุทุฑุญ <span class='text-red-600 font-bold'>ูงูฅ</span> ูู ุงูุทุฑููู.<br><span class='math-eq'>ุจ โค ูกูขู</span>.<br>ูุฌุจ ุฃู ูููู ุณุนุฑ ุงูุจูุทุงู ูกูขู ุฑูุงูุงู ุฃู ุฃูู.` } ] };
                    const verbalConfig2 = { totalSteps: 3, layout: 'grid', introText: `<div class="text-sm">ููุญูู ุงููุณุฃูุฉ ุฅูู ูุชุจุงููุฉ ุฑูุงุถูุฉ ููุญููุง.</div>`, stepsContent: [ { text: `<strong>1. ุชุญุฏูุฏ ุงููุชุบูุฑ ูุงูุนุจุงุฑุฉ:</strong><br>ูููุฑุถ ุฃู ุงููุจูุบ ุงูุฅุถุงูู ูู <span class='math-eq'>ุณ</span>.<br>ุงููุจูุบ ุงูุฅุฌูุงูู ูู <span class='math-eq'>ูขูกู + ุณ</span>.<br>ุงูุงุฏุฎุงุฑ ูุฌุจ ุฃู ูููู ูฅูู ุฑูุงู ุนูู ุงูุฃูู.` }, { text: `<strong>2. ูุชุงุจุฉ ุงููุชุจุงููุฉ:</strong><br>ุนุจุงุฑุฉ "ุนูู ุงูุฃูู" ุชุนูู "ุฃูุจุฑ ูู ุฃู ูุณุงูู" (โฅ).<br><span class='math-eq'>ูขูกู + ุณ โฅ ูฅูู</span>` }, { text: `<strong>3. ุญู ุงููุชุจุงููุฉ:</strong><br>ุงุทุฑุญ <span class='text-red-600 font-bold'>ูขูกู</span> ูู ุงูุทุฑููู.<br><span class='math-eq'>ุณ โฅ ูขูฉู</span>.<br>ูุฌุจ ุฃู ุชุฏุฎุฑ ูขูฉู ุฑูุงูุงู ุฃู ุฃูุซุฑ.` } ] };

                    Object.keys(configs).forEach(key => {
                        createInteractiveSection({
                            nextBtn: document.getElementById(`interactive-next-${key}`),
                            backBtn: document.getElementById(`interactive-back-${key}`),
                            stepCounter: document.getElementById(`interactive-step-counter-${key}`),
                            explanationDiv: document.getElementById(`interactive-explanation-${key}`),
                            ...configs[key]
                        });
                    });

                    createInteractiveSection({
                        nextBtn: document.getElementById('interactive-next-verbal-1'),
                        backBtn: document.getElementById('interactive-back-verbal-1'),
                        stepCounter: document.getElementById('interactive-step-counter-verbal-1'),
                        explanationDiv: document.getElementById('interactive-explanation-verbal-1'),
                        ...verbalConfig1
                    });
                     createInteractiveSection({
                        nextBtn: document.getElementById('interactive-next-verbal-2'),
                        backBtn: document.getElementById('interactive-back-verbal-2'),
                        stepCounter: document.getElementById('interactive-step-counter-verbal-2'),
                        explanationDiv: document.getElementById('interactive-explanation-verbal-2'),
                        ...verbalConfig2
                    });
                })();
                break;
        }
    }
    /**
     * ูุฌุนู ุงูุฏูุงู ุงููุณุงุนุฏุฉ ูุชุงุญุฉ ุจุดูู ุนุงู ูููุตูู ุฅูููุง ูู ุฎูุงู onclick.
     * @param {string} questionId ูุนุฑู ุงูุณุคุงู.
     * @param {string} view ุงูุนุฑุถ ุงููุทููุจ (mental ุฃู formal).
     */
    window.toggleSolution = function(questionId, view) {
        const formalDiv = document.getElementById(`formal-solution-${questionId}`);
        const mentalDiv = document.getElementById(`mental-solution-${questionId}`);

        if (view === 'mental') {
            formalDiv.style.display = 'none';
            mentalDiv.style.display = 'block';
        } else {
            formalDiv.style.display = 'block';
            mentalDiv.style.display = 'none';
        }
    }

    // =================================================================
    // == 4. ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ (Event Listeners)
    // =================================================================
    
    document.addEventListener('DOMContentLoaded', () => {
        const storedStudentId = sessionStorage.getItem('studentId');
        if (storedStudentId) {
            handleLogin(storedStudentId);
        } else {
            showView(loginView);
        }
        initializeShareButtons(); // ุชููุฆุฉ ุฃุฒุฑุงุฑ ุงููุดุงุฑูุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
    });

    loginForm.addEventListener('submit', (e) => { e.preventDefault(); const studentId = document.getElementById('login-id').value.trim(); if (studentId) handleLogin(studentId); });
    document.getElementById('visitor-btn').addEventListener('click', () => { sessionStorage.removeItem('studentId'); sessionStorage.removeItem('visitorAttempts'); currentStudent = null; showMainScreen(null); });
    document.getElementById('logout-btn').addEventListener('click', () => { sessionStorage.removeItem('studentId'); sessionStorage.removeItem('visitorAttempts'); currentStudent = null; showView(loginView); });
    document.getElementById('dashboard-btn').addEventListener('click', () => { showView(mainContentView); });
    closeModalBtn.addEventListener('click', () => { explanationModal.classList.add('hidden'); });

    document.body.addEventListener('click', function(event) {
        const target = event.target.closest('button');
        if (!target) return;

        const action = target.dataset.action;
        if (action === 'back-to-main') {
            showMainScreen(currentStudent);
        } else if (action === 'retake-quiz') {
            showLessonView(target.dataset.lessonId);
        } else if (action === 'show-explanation') {
            showExplanation(target.dataset.index);
        }
    });

    </script>
</body>
</html>
