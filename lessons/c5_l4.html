<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø¯Ø±Ø³ Ù¥-Ù¤: Ø­Ù„ Ù†Ø¸Ø§Ù… Ù…Ù† Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ† Ø¨Ø§Ù„Ø­Ø°Ù Ø¨Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ø§Ù„Ø¶Ø±Ø¨ | Ù…Ù†ØµØ© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Cairo', sans-serif; }
        .hidden { display: none; }
        .step-box { border-right: 4px solid #9333ea; /* purple-600 */ }
        .math-eq { font-family: "Courier New", monospace; font-size: 1.2rem; font-weight: bold; color: #4338ca; background-color: #f3f4f6; border: 1px solid #d1d5db; padding: 4px 10px; border-radius: 6px; display: inline-block; vertical-align: middle; transition: all 0.3s ease-in-out; }
        .step-interactive { display: none; opacity: 0; transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out; transform: translateY(10px); }
        .step-interactive.active { display: block; opacity: 1; transform: translateY(0); }
        .highlight-number {
            background-color: #fef9c3; /* yellow-100 */
            color: #b45309; /* amber-700 */
            padding: 1px 5px;
            border-radius: 4px;
            border: 1px solid #fde047; /* yellow-300 */
            font-weight: bold;
        }
        .target-term {
            outline: 2px solid #ef4444; /* red-500 */
            box-shadow: 0 0 10px #f43f5e;
            border-radius: 4px;
            transition: all 0.3s ease-in-out;
        }
        .eq-1-color { color: #2563eb; /* blue-600 */ }
        .eq-2-color { color: #16a34a; /* green-600 */ }
        .eq-3-color { color: #9333ea; /* purple-600 */ }
        .eq-4-color { color: #c2410c; /* orange-600 */ }
        .eq-5-color { color: #0891b2; /* cyan-600 */ }
        .eq-1-bg { background-color: #dbeafe; border-color: #93c5fd; }
        .eq-2-bg { background-color: #dcfce7; border-color: #86efac; }
        .eq-3-bg { background-color: #f3e8ff; border-color: #d8b4fe; }
        .eq-4-bg { background-color: #ffedd5; border-color: #fed7aa; }
        .eq-5-bg { background-color: #cffafe; border-color: #a5f3fc; }
        .temp-comment {
            transition: opacity 0.3s ease-in-out;
            min-height: 56px; /* To prevent layout shift for two lines */
        }
        .multiplier {
            transition: all 0.3s ease-in-out;
            opacity: 0;
            transform: translateX(-10px);
            font-size: 1.1rem; /* Smaller font size */
        }
        .multiplier.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .visual-workspace .math-eq { width: 100%; text-align: center; }
        .visual-workspace {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .visual-workspace.visible {
            opacity: 1;
        }
        .option-label { display: block; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; cursor: pointer; transition: all 0.2s ease-in-out; }
        .option-label:hover { border-color: #3b82f6; background-color: #eff6ff; }
        input[type="radio"]:checked + .option-label { border-color: #2563eb; background-color: #dbeafe; box-shadow: 0 0 0 2px #bfdbfe; }
        input[type="radio"] { display: none; }
    </style>
</head>
<body class="bg-gray-100">
    <div id="app-container" class="grid grid-template-rows: auto 1fr auto; min-height: 100vh;">
        <header id="main-header" class="bg-white shadow-md sticky top-0 z-50"></header>
        <main class="container mx-auto max-w-4xl my-8">
            <div class="p-6 bg-white rounded-xl shadow-lg">
                <header class="flex justify-between items-center mb-8 border-b pb-4 border-gray-200">
                    <h1 id="lesson-title" class="text-3xl font-bold text-purple-800">Ø§Ù„Ø¯Ø±Ø³ Ù¥-Ù¤: Ø­Ù„ Ù†Ø¸Ø§Ù… Ù…Ù† Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ† Ø¨Ø§Ù„Ø­Ø°Ù Ø¨Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ø§Ù„Ø¶Ø±Ø¨</h1>
                    <a href="../index.html" target="_top" class="text-sm text-blue-600 hover:underline">&larr; Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ÙÙ‡Ø±Ø³</a>
                </header>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">ğŸ’¡ Ø£ÙˆÙ„Ø§Ù‹: Ø§Ù„Ù…ÙÙ‡ÙˆÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</h2>
                    <div class="p-4 bg-purple-50 rounded-lg space-y-3">
                        <p>Ù„Ø­Ù„ Ù†Ø¸Ø§Ù… Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø¨Ø§Ù„Ø­Ø°ÙØŒ Ù‚Ø¯ Ù†Ø­ØªØ§Ø¬ Ù„Ø¶Ø±Ø¨ Ø¥Ø­Ø¯Ù‰ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ† Ø£Ùˆ ÙƒÙ„ØªÙŠÙ‡Ù…Ø§ ÙÙŠ Ø¹Ø¯Ø¯ Ø«Ø§Ø¨Øª Ù„Ø¬Ø¹Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø£Ø­Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±ÙŠÙ† Ù…ØªØ¹Ø§ÙƒØ³Ø©.</p>
                        <ol class="list-decimal pr-8 space-y-2">
                            <li><strong>Ø§Ù„Ø®Ø·ÙˆØ© Ù¡:</strong> Ø§Ø®ØªØ± Ù…ØªØºÙŠØ±Ø§Ù‹ Ù„Ø­Ø°ÙÙ‡ØŒ ÙˆØ§Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª ÙÙŠ Ø£Ø¹Ø¯Ø§Ø¯ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø¬Ø¹Ù„ Ù…Ø¹Ø§Ù…Ù„ÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØºÙŠØ± Ù…ØªØ¹Ø§ÙƒØ³ÙŠÙ† (Ù…Ø«Ù„ <span class="highlight-number">Ù¦</span> Ùˆ <span class="highlight-number">-Ù¦</span>).</li>
                            <li><strong>Ø§Ù„Ø®Ø·ÙˆØ© Ù¢:</strong> Ø§Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯ØªÙŠÙ† Ù„Ù„ØªØ®Ù„Øµ Ù…Ù† Ø§Ù„Ù…ØªØºÙŠØ±ØŒ ÙˆØ­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù†Ø§ØªØ¬Ø©.</li>
                            <li><strong>Ø§Ù„Ø®Ø·ÙˆØ© Ù£:</strong> Ø¹ÙˆÙ‘Ø¶ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù†Ø§ØªØ¬Ø© ÙÙŠ Ø£ÙŠ Ù…Ù† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„Ø¥ÙŠØ¬Ø§Ø¯ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…ØªØºÙŠØ± Ø§Ù„Ø«Ø§Ù†ÙŠ.</li>
                        </ol>
                    </div>
                </section>
                <section class="mb-12">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">ğŸ¯ Ø«Ø§Ù†ÙŠØ§Ù‹: Ø£Ù…Ø«Ù„Ø© ØªÙØ§Ø¹Ù„ÙŠØ©</h2>
                    <div class="p-6 bg-gray-50 rounded-lg">
                        <div class="flex flex-col space-y-8">
                            
                            <!-- ØµÙ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø£ÙˆÙ„ -->
                            <div class="grid md:grid-cols-2 gap-8">
                                <!-- Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ø£ÙˆÙ„ -->
                                <div id="interactive-container-1" class="p-4 bg-white rounded-lg shadow">
                                    <p class="text-lg font-semibold mb-2">Ù…Ø«Ø§Ù„ Ù¡: Ø¶Ø±Ø¨ Ø¥Ø­Ø¯Ù‰ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ†</p>
                                    <div class="mb-4 p-3 bg-gray-100 rounded-lg text-center">
                                        <p class="font-semibold mb-2">Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢ØªÙŠ:</p>
                                        <div class="inline-block text-left">
                                            <p class="math-eq eq-1-bg eq-1-color">Ù¢Ø³ + Øµ = Ù¢Ù£</p><br>
                                            <p class="math-eq eq-2-bg eq-2-color">Ù£Ø³ + Ù¢Øµ = Ù£Ù§</p>
                                        </div>
                                    </div>
                                    <div id="visual-workspace-1" class="visual-workspace space-y-3 text-center min-h-[250px] flex flex-col justify-center items-center">
                                        <div class="inline-flex flex-col items-center space-y-2">
                                            <div class="flex items-center justify-start gap-4 w-full">
                                                <div id="multiplier-1" class="multiplier font-bold text-red-500 w-16 text-center"></div>
                                                <p id="eq1-visual-1" class="math-eq eq-1-bg eq-1-color flex-1">Ù¢Ø³ + <span>Øµ</span> = Ù¢Ù£</p>
                                            </div>
                                            <div class="flex items-center justify-start gap-4 w-full">
                                                <div class="w-16"></div> <!-- Placeholder for alignment -->
                                                <p id="eq2-visual-1" class="math-eq eq-2-bg eq-2-color flex-1">Ù£Ø³ + <span>Ù¢Øµ</span> = Ù£Ù§</p>
                                            </div>
                                            <div class="flex items-center justify-start gap-4 w-full">
                                                <div class="w-16"></div> <!-- Placeholder for alignment -->
                                                <div class="flex flex-col items-center flex-1">
                                                    <div id="addition-line-1" class="border-t-2 border-gray-700 my-2 opacity-0 transition-opacity w-full"></div>
                                                    <p id="result-visual-1" class="math-eq opacity-0 w-full"></p>
                                                    <p id="simplified-result-visual-1" class="math-eq opacity-0 w-full"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <p id="temp-comment-1" class="temp-comment text-purple-700 font-semibold"></p>
                                    </div>
                                    <div class="steps-container-text-1 space-y-4">
                                         <div class="step-interactive p-4 bg-gray-50 rounded-lg step-box"><h4 class="font-bold">Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©: Ø§Ù„ØªØ¹ÙˆÙŠØ¶</h4><p>Ø¨Ø¹Ø¯ Ø¥ÙŠØ¬Ø§Ø¯ Ù‚ÙŠÙ…Ø© <span class="math-eq">Ø³ = Ù©</span>ØŒ Ù†Ø¹ÙˆØ¶Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„Ø¥ÙŠØ¬Ø§Ø¯ Ù‚ÙŠÙ…Ø© (Øµ).</p></div>
                                        <div class="step-interactive p-4 bg-gray-50 rounded-lg step-box"><h4 class="font-bold">Ø­Ù„ Ù„Ø¥ÙŠØ¬Ø§Ø¯ Øµ</h4><p><span class="math-eq eq-1-bg eq-1-color">Ù¢(Ù©) + Øµ = Ù¢Ù£</span><br><span class="math-eq">Ù¡Ù¨ + Øµ = Ù¢Ù£</span><br><span class="math-eq">Øµ = Ù¥</span></p></div>
                                        <div class="step-interactive p-4 bg-green-200 rounded-lg step-box border-green-600"><h4 class="font-bold">Ø§Ù„Ø­Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h4><p>Ø§Ù„Ø­Ù„ Ù‡Ùˆ Ø§Ù„Ø²ÙˆØ¬ Ø§Ù„Ù…Ø±ØªØ¨ <span class="math-eq">(Ù©, Ù¥)</span>.</p></div>
                                    </div>
                                    <div class="flex justify-between mt-6">
                                        <button data-example="1" class="prev-btn bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed">Ø±Ø¬ÙˆØ¹</button>
                                        <div>
                                            <button data-example="1" class="next-btn bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                                            <button data-example="1" class="reset-btn hidden bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700">Ø¥Ø¹Ø§Ø¯Ø©</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ø«Ø§Ù†ÙŠ -->
                                <div id="interactive-container-2" class="p-4 bg-white rounded-lg shadow">
                                     <p class="text-lg font-semibold mb-2">Ù…Ø«Ø§Ù„ Ù¢: Ø¶Ø±Ø¨ ÙƒÙ„ØªØ§ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ†</p>
                                    <div class="mb-4 p-3 bg-gray-100 rounded-lg text-center">
                                        <p class="font-semibold mb-2">Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢ØªÙŠ:</p>
                                        <div class="inline-block text-left">
                                            <p class="math-eq eq-1-bg eq-1-color">Ù¤Ø³ + Ù£Øµ = Ù¨</p><br>
                                            <p class="math-eq eq-2-bg eq-2-color">Ù£Ø³ - Ù¥Øµ = -Ù¢Ù£</p>
                                        </div>
                                    </div>
                                    <div id="visual-workspace-2" class="visual-workspace space-y-3 text-center min-h-[250px] flex flex-col justify-center items-center">
                                        <div class="inline-flex flex-col items-center space-y-2">
                                            <div class="flex items-center justify-start gap-4 w-full">
                                                <div id="multiplier-2a" class="multiplier font-bold text-red-500 w-16 text-center"></div>
                                                <p id="eq1-visual-2" class="math-eq eq-1-bg eq-1-color flex-1">Ù¤Ø³ + <span>Ù£Øµ</span> = Ù¨</p>
                                            </div>
                                            <div class="flex items-center justify-start gap-4 w-full">
                                                <div id="multiplier-2b" class="multiplier font-bold text-red-500 w-16 text-center"></div>
                                                <p id="eq2-visual-2" class="math-eq eq-2-bg eq-2-color flex-1">Ù£Ø³ - <span>Ù¥Øµ</span> = -Ù¢Ù£</p>
                                            </div>
                                            <div class="flex items-center justify-start gap-4 w-full">
                                                <div class="w-16"></div> <!-- Placeholder for alignment -->
                                                <div class="flex flex-col items-center flex-1">
                                                    <div id="addition-line-2" class="border-t-2 border-gray-700 my-2 opacity-0 transition-opacity w-full"></div>
                                                    <p id="result-visual-2" class="math-eq opacity-0 w-full"></p>
                                                    <p id="simplified-result-visual-2" class="math-eq opacity-0 w-full"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <p id="temp-comment-2" class="temp-comment text-purple-700 font-semibold"></p>
                                    </div>
                                    <div class="steps-container-text-2 space-y-4">
                                         <div class="step-interactive p-4 bg-gray-50 rounded-lg step-box"><h4 class="font-bold">Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©: Ø§Ù„ØªØ¹ÙˆÙŠØ¶</h4><p>Ø¨Ø¹Ø¯ Ø¥ÙŠØ¬Ø§Ø¯ Ù‚ÙŠÙ…Ø© <span class="math-eq">Ø³ = -Ù¡</span>ØŒ Ù†Ø¹ÙˆØ¶Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„Ø¥ÙŠØ¬Ø§Ø¯ Ù‚ÙŠÙ…Ø© (Øµ).</p></div>
                                        <div class="step-interactive p-4 bg-gray-50 rounded-lg step-box"><h4 class="font-bold">Ø­Ù„ Ù„Ø¥ÙŠØ¬Ø§Ø¯ Øµ</h4><p><span class="math-eq eq-1-bg eq-1-color">Ù¤(-Ù¡) + Ù£Øµ = Ù¨</span><br><span class="math-eq">-Ù¤ + Ù£Øµ = Ù¨</span><br><span class="math-eq">Ù£Øµ = Ù¡Ù¢</span> âŸ¸ <span class="math-eq">Øµ = Ù¤</span></p></div>
                                        <div class="step-interactive p-4 bg-green-200 rounded-lg step-box border-green-600"><h4 class="font-bold">Ø§Ù„Ø­Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h4><p>Ø§Ù„Ø­Ù„ Ù‡Ùˆ Ø§Ù„Ø²ÙˆØ¬ Ø§Ù„Ù…Ø±ØªØ¨ <span class="math-eq">(-Ù¡, Ù¤)</span>.</p></div>
                                    </div>
                                    <div class="flex justify-between mt-6">
                                        <button data-example="2" class="prev-btn bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed">Ø±Ø¬ÙˆØ¹</button>
                                        <div>
                                            <button data-example="2" class="next-btn bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                                            <button data-example="2" class="reset-btn hidden bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700">Ø¥Ø¹Ø§Ø¯Ø©</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ØµÙ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠ -->
                            <div>
                                <!-- Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ø«Ø§Ù„Ø« -->
                                <div id="interactive-container-3" class="p-4 bg-white rounded-lg shadow">
                                    <p class="text-lg font-semibold mb-2">Ù…Ø«Ø§Ù„ Ù£: Ù…Ø³Ø§Ø¦Ù„ Ù…Ù† ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø­ÙŠØ§Ø©</p>
                                    <div class="mb-4 p-3 bg-gray-100 rounded-lg">
                                        <p class="font-semibold mb-2 text-center">Ø§Ù„Ù…Ø³Ø£Ù„Ø©:</p>
                                        <p>Ø§Ø´ØªØ±Ù‰ Ø£Ø­Ù…Ø¯ <span class="highlight-number">Ù£</span> Ø¯ÙØ§ØªØ± Ùˆ <span class="highlight-number">Ù¤</span> Ø£Ù‚Ù„Ø§Ù… Ø¨Ù…Ø¨Ù„Øº <span class="highlight-number">Ù£Ù©</span> Ø±ÙŠØ§Ù„Ø§Ù‹. ÙˆØ§Ø´ØªØ±Ù‰ ØµØ¯ÙŠÙ‚Ù‡ Ø¯ÙØªØ±ÙŠÙ† Ùˆ <span class="highlight-number">Ù¥</span> Ø£Ù‚Ù„Ø§Ù… Ù…Ù† Ù†ÙØ³ Ø§Ù„Ù†ÙˆØ¹ Ø¨Ù…Ø¨Ù„Øº <span class="highlight-number">Ù£Ù¨</span> Ø±ÙŠØ§Ù„Ø§Ù‹. ÙÙ…Ø§ Ø«Ù…Ù† Ø§Ù„Ø¯ÙØªØ± Ø§Ù„ÙˆØ§Ø­Ø¯ ÙˆØ§Ù„Ù‚Ù„Ù… Ø§Ù„ÙˆØ§Ø­Ø¯ØŸ</p>
                                    </div>
                                    <div id="visual-workspace-3" class="visual-workspace space-y-3 text-center min-h-[250px] flex flex-col justify-center items-center">
                                        <div class="inline-flex flex-col items-center space-y-2">
                                            <div class="flex items-center justify-start gap-4 w-full">
                                                <div id="multiplier-3a" class="multiplier font-bold text-red-500 w-16 text-center"></div>
                                                <p id="eq1-visual-3" class="math-eq eq-1-bg eq-1-color flex-1 opacity-0"><span>Ù£Ø¯</span> + Ù¤Ù‚ = Ù£Ù©</p>
                                            </div>
                                            <div class="flex items-center justify-start gap-4 w-full">
                                                <div id="multiplier-3b" class="multiplier font-bold text-red-500 w-16 text-center"></div>
                                                <p id="eq2-visual-3" class="math-eq eq-2-bg eq-2-color flex-1 opacity-0"><span>Ù¢Ø¯</span> + Ù¥Ù‚ = Ù£Ù¨</p>
                                            </div>
                                            <div class="flex items-center justify-start gap-4 w-full">
                                                <div class="w-16"></div> <!-- Placeholder for alignment -->
                                                <div class="flex flex-col items-center flex-1">
                                                    <div id="addition-line-3" class="border-t-2 border-gray-700 my-2 opacity-0 transition-opacity w-full"></div>
                                                    <p id="result-visual-3" class="math-eq opacity-0 w-full"></p>
                                                    <p id="simplified-result-visual-3" class="math-eq opacity-0 w-full"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <p id="temp-comment-3" class="temp-comment text-purple-700 font-semibold"></p>
                                    </div>
                                    <div class="steps-container-text-3 space-y-4">
                                         <div class="step-interactive p-4 bg-gray-50 rounded-lg step-box"><h4 class="font-bold">Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©: Ø§Ù„ØªØ¹ÙˆÙŠØ¶</h4><p>Ø¨Ø¹Ø¯ Ø¥ÙŠØ¬Ø§Ø¯ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ù„Ù… (Ù‚) = <span class="highlight-number">Ù¤</span> Ø±ÙŠØ§Ù„Ø§ØªØŒ Ù†Ø¹ÙˆØ¶Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„Ø¥ÙŠØ¬Ø§Ø¯ Ø«Ù…Ù† Ø§Ù„Ø¯ÙØªØ± (Ø¯).</p></div>
                                        <div class="step-interactive p-4 bg-gray-50 rounded-lg step-box"><h4 class="font-bold">Ø­Ù„ Ù„Ø¥ÙŠØ¬Ø§Ø¯ Ø¯</h4><p><span class="math-eq eq-1-bg eq-1-color">Ù£Ø¯ + Ù¤(Ù¤) = Ù£Ù©</span><br><span class="math-eq">Ù£Ø¯ + Ù¡Ù¦ = Ù£Ù©</span><br><span class="math-eq">Ù£Ø¯ = Ù¢Ù£</span><br><span class="math-eq">Ø¯ = Ù§</span></p></div>
                                        <div class="step-interactive p-4 bg-green-200 rounded-lg step-box border-green-600"><h4 class="font-bold">Ø§Ù„Ø­Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h4><p>Ø«Ù…Ù† Ø§Ù„Ø¯ÙØªØ± = <span class="highlight-number">Ù§</span> Ø±ÙŠØ§Ù„ØŒ ÙˆØ«Ù…Ù† Ø§Ù„Ù‚Ù„Ù… = <span class="highlight-number">Ù¤</span> Ø±ÙŠØ§Ù„.</p></div>
                                    </div>
                                    <div class="flex justify-between mt-6">
                                        <button data-example="3" class="prev-btn bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed">Ø±Ø¬ÙˆØ¹</button>
                                        <div>
                                            <button data-example="3" class="next-btn bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                                            <button data-example="3" class="reset-btn hidden bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700">Ø¥Ø¹Ø§Ø¯Ø©</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </section>
                
                <section class="mt-12">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-gray-800">âœï¸ Ø±Ø§Ø¨Ø¹Ø§Ù‹: Ø­Ø§Ù† Ø¯ÙˆØ±Ùƒ! Ø§Ø®ØªØ¨Ø± ÙÙ‡Ù…Ùƒ</h2>
                        <div id="attempts-counter" class="text-sm font-bold text-gray-600"></div>
                    </div>
                    <form id="quizForm" class="p-6 bg-gray-50 rounded-lg space-y-8"></form>
                    <div id="quiz-results" class="hidden mt-6 p-4 rounded-lg text-center">
                        <h3 class="text-xl font-bold">Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h3>
                        <p id="quiz-score" class="text-4xl font-bold my-2"></p>
                        <div id="save-status" class="mt-4 text-sm font-semibold"></div>
                        <button id="retake-quiz-btn" class="hidden mt-4 bg-blue-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-blue-700">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
                    </div>
                </section>

            </div>
        </main>
        <footer id="main-footer" class="bg-gray-200 py-4"></footer>
    </div>
    <div id="explanationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-lg shadow-2xl p-6 max-w-lg w-full">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">ğŸ’¡ Ø´Ø±Ø­ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</h3>
                <button id="closeModalBtn" class="p-2 -m-2 rounded-full hover:bg-gray-200">
                    <svg class="h-6 w-6 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div id="explanationText" class="text-gray-700 max-h-[60vh] overflow-y-auto"></div>
        </div>
    </div>
    <div id="smartExplanationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-lg shadow-2xl p-6 max-w-lg w-full border-t-4 border-purple-500">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-purple-800">ğŸ§  Ø§Ù„Ø­Ù„ Ø§Ù„Ø°ÙƒÙŠ</h3>
                <button id="closeSmartModalBtn" class="p-2 -m-2 rounded-full hover:bg-gray-200">
                    <svg class="h-6 w-6 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div id="smartExplanationText" class="text-gray-700 max-h-[60vh] overflow-y-auto"></div>
        </div>
    </div>
    
    <script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzrf1-At3Pq7i39bGV3F1iD3-b0G-WWyRi5cgpKeQjyn_N5fh2EmGhoyRKUsbLd-F_UJQ/exec";
    const MAX_ATTEMPTS = 3;
    let currentQuestions = []; 
    // --- SCRIPT GENERAL ---
    function getStudentFromStorage() { return null; }
    function buildHeader(studentData, lessonTitle = null) {
        const headerContainer = document.getElementById('main-header');
        if (!headerContainer) return;
        let titleHtml = `<a href="../index.html" target="_top"><h1 class="text-2xl font-bold text-purple-800">Ù…Ù†ØµØ© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</h1></a>`;
        if (lessonTitle) {
            titleHtml = `<div><h2 class="text-sm text-gray-500 leading-tight">Ù…Ù†ØµØ© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</h2><h1 class="text-xl font-bold text-purple-700 leading-tight">${lessonTitle}</h1></div>`;
        }
        headerContainer.innerHTML = `<div class="container mx-auto px-6 py-4 flex justify-between items-center">${titleHtml}<p class="text-lg text-gray-600">Ø²Ø§Ø¦Ø±</p></div>`;
    }
    function buildFooter() {
        const footerContainer = document.getElementById('main-footer');
        if (!footerContainer) return;
        footerContainer.innerHTML = `<div class="container mx-auto px-6"><p class="text-center text-gray-600 text-sm">Â© 2024 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© | ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ±: Ø£. Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø®Ø§Ù„Ø¯ Ø§Ù„Ø¹Ø¨Ù„Ø§Ù†</p></div>`;
    }
    function initializeQuiz(lessonId, questions, studentData) { currentQuestions = questions; const quizForm = document.getElementById('quizForm'); if (!quizForm) return; if (questions.length === 0) { quizForm.innerHTML = `<p class="text-center text-gray-600">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…ØªØ§Ø­Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø±Ø³ Ø­Ø§Ù„ÙŠØ§Ù‹.</p>`; return; } let attemptsLeft; if (studentData) { const studentLessonData = studentData.lessons?.[lessonId] || { attempts: 0 }; attemptsLeft = MAX_ATTEMPTS - studentLessonData.attempts; } else { attemptsLeft = 1; } const attemptsCounter = document.getElementById('attempts-counter'); if (attemptsCounter) { attemptsCounter.innerHTML = `Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full">${attemptsLeft}</span>`; } const quizHtml = questions.map((q, index) => { const optionsHTML = q.options.map((opt, optIndex) => `<div><input type="radio" name="q${index}" value="${opt.value}" id="q${index}_opt${optIndex}" class="hidden"><label for="q${index}_opt${optIndex}" class="option-label">${opt.display}</label></div>`).join(''); const smartButtonHTML = q.smartExplanation ? `<button type="button" id="smart-explain-btn-${index}" class="hidden mt-2 text-xs text-purple-600 hover:underline font-semibold">ğŸ§  Ø§Ù„Ø­Ù„ Ø§Ù„Ø°ÙƒÙŠ</button>` : ''; return `<div class="p-4 border-2 border-gray-200 rounded-lg"><p class="font-bold">${index + 1}. <span class="text-yellow-500">${q.level}</span> ${q.text}</p><div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mt-3">${optionsHTML}</div><div id="feedback-q${index}" class="mt-2 text-sm font-bold"></div><div class="flex items-center space-x-4 space-x-reverse">${smartButtonHTML}<button type="button" id="explain-btn-${index}" class="hidden mt-2 text-xs text-blue-600 hover:underline">Ø§Ø¹Ø±Ù Ù„Ù…Ø§Ø°Ø§ØŸ</button></div></div>`; }).join(''); quizForm.innerHTML = quizHtml + `<button type="submit" id="submit-quiz-btn" class="w-full text-white bg-green-600 hover:bg-green-700 font-medium rounded-lg text-lg px-5 py-3 mt-8">ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¬Ø§Ø¨Ø§ØªÙŠ</button>`; questions.forEach((q, index) => { const explainBtn = document.getElementById(`explain-btn-${index}`); if(explainBtn) explainBtn.addEventListener('click', () => showExplanation(index)); if (q.smartExplanation) { const smartExplainBtn = document.getElementById(`smart-explain-btn-${index}`); if(smartExplainBtn) smartExplainBtn.addEventListener('click', () => showSmartExplanation(index)); } }); if (attemptsLeft <= 0) { const submitBtn = quizForm.querySelector('#submit-quiz-btn'); submitBtn.disabled = true; submitBtn.textContent = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¨Ù‚ÙŠØ©'; submitBtn.classList.add('bg-gray-400', 'hover:bg-gray-400'); } quizForm.onsubmit = (e) => { e.preventDefault(); let score = 0; questions.forEach((q, index) => { const userAnswer = e.target.elements[`q${index}`]?.value; const feedbackEl = document.getElementById(`feedback-q${index}`); if (userAnswer === q.correct) { score++; feedbackEl.textContent = 'âœ” Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!'; feedbackEl.className = 'mt-2 text-sm font-bold text-green-600'; } else { feedbackEl.textContent = `âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©.`; feedbackEl.className = 'mt-2 text-sm font-bold text-red-600'; } document.getElementById(`explain-btn-${index}`).classList.remove('hidden'); if (q.smartExplanation) { document.getElementById(`smart-explain-btn-${index}`).classList.remove('hidden'); } }); const finalGrade = Math.round((score / questions.length) * 10); const resultsDiv = document.getElementById('quiz-results'); resultsDiv.classList.remove('hidden'); document.getElementById('quiz-score').textContent = `${finalGrade} / 10`; if (studentData) { saveGrade(lessonId, finalGrade, studentData.id); if (attemptsLeft - 1 > 0) { document.getElementById('retake-quiz-btn').classList.remove('hidden'); } } else { document.getElementById('save-status').textContent = 'ØªÙ… Ø¹Ø±Ø¶ Ù†ØªÙŠØ¬ØªÙƒ. Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ.'; } e.target.querySelector('#submit-quiz-btn').disabled = true; }; }
    function saveGrade(lessonId, grade, studentId) { /* ... */ }
    function showExplanation(questionIndex) { const modal = document.getElementById('explanationModal'); const explanationText = document.getElementById('explanationText'); if(modal && explanationText && currentQuestions[questionIndex] && currentQuestions[questionIndex].explanation) { explanationText.innerHTML = currentQuestions[questionIndex].explanation; modal.classList.remove('hidden'); } }
    function closeModal() { document.getElementById('explanationModal').classList.add('hidden'); }
    function showSmartExplanation(questionIndex) { const modal = document.getElementById('smartExplanationModal'); const explanationText = document.getElementById('smartExplanationText'); if(modal && explanationText && currentQuestions[questionIndex] && currentQuestions[questionIndex].smartExplanation) { explanationText.innerHTML = currentQuestions[questionIndex].smartExplanation; modal.classList.remove('hidden'); } }
    function closeSmartModal() { document.getElementById('smartExplanationModal').classList.add('hidden'); }
    // --- END SCRIPT GENERAL ---

    document.addEventListener('DOMContentLoaded', () => {
        const lessonTitleElement = document.getElementById('lesson-title');
        const lessonTitle = lessonTitleElement ? lessonTitleElement.textContent : null;
        buildHeader(null, lessonTitle);
        buildFooter();
        
        const LESSON_ID = 'c5_l4';
        const quizQuestions = generateQuiz();
        initializeQuiz(LESSON_ID, quizQuestions, null);
        const retakeBtn = document.getElementById('retake-quiz-btn');
        if(retakeBtn) { retakeBtn.addEventListener('click', () => { window.location.reload(); }); }
        document.getElementById('closeModalBtn').addEventListener('click', closeModal);
        document.getElementById('closeSmartModalBtn').addEventListener('click', closeSmartModal);

        // --- Interactive Examples Setup ---
        const examples = {
            '1': {
                totalSteps: 9,
                workspace: document.getElementById('visual-workspace-1'),
                multiplier: document.getElementById('multiplier-1'),
                eq1: document.getElementById('eq1-visual-1'),
                eq2: document.getElementById('eq2-visual-1'),
                line: document.getElementById('addition-line-1'),
                result: document.getElementById('result-visual-1'),
                simplifiedResult: document.getElementById('simplified-result-visual-1'),
                comment: document.getElementById('temp-comment-1'),
                textSteps: document.querySelectorAll('.steps-container-text-1 .step-interactive'),
                runStep: runStep1,
            },
            '2': {
                totalSteps: 11,
                workspace: document.getElementById('visual-workspace-2'),
                multiplierA: document.getElementById('multiplier-2a'),
                multiplierB: document.getElementById('multiplier-2b'),
                eq1: document.getElementById('eq1-visual-2'),
                eq2: document.getElementById('eq2-visual-2'),
                line: document.getElementById('addition-line-2'),
                result: document.getElementById('result-visual-2'),
                simplifiedResult: document.getElementById('simplified-result-visual-2'),
                comment: document.getElementById('temp-comment-2'),
                textSteps: document.querySelectorAll('.steps-container-text-2 .step-interactive'),
                runStep: runStep2,
            },
            '3': {
                totalSteps: 17,
                workspace: document.getElementById('visual-workspace-3'),
                multiplierA: document.getElementById('multiplier-3a'),
                multiplierB: document.getElementById('multiplier-3b'),
                eq1: document.getElementById('eq1-visual-3'),
                eq2: document.getElementById('eq2-visual-3'),
                line: document.getElementById('addition-line-3'),
                result: document.getElementById('result-visual-3'),
                simplifiedResult: document.getElementById('simplified-result-visual-3'),
                comment: document.getElementById('temp-comment-3'),
                textSteps: document.querySelectorAll('.steps-container-text-3 .step-interactive'),
                runStep: runStep3,
            }
        };

        Object.keys(examples).forEach(key => {
            const ex = examples[key];
            ex.currentIndex = -1;
            ex.nextBtn = document.querySelector(`button.next-btn[data-example="${key}"]`);
            ex.prevBtn = document.querySelector(`button.prev-btn[data-example="${key}"]`);
            ex.resetBtn = document.querySelector(`button.reset-btn[data-example="${key}"]`);
            setupExample(ex);
        });

        function setupExample(ex) {
            ex.nextBtn.addEventListener('click', () => {
                if (ex.currentIndex < ex.totalSteps) {
                    ex.currentIndex++;
                    ex.runStep(ex.currentIndex);
                }
            });
            ex.prevBtn.addEventListener('click', () => {
                if (ex.currentIndex > -1) {
                    ex.currentIndex--;
                    ex.runStep(ex.currentIndex);
                }
            });
            ex.resetBtn.addEventListener('click', () => {
                ex.currentIndex = -1;
                ex.runStep(ex.currentIndex);
            });
            ex.runStep(-1); // Initial setup
        }

        function updateButtons(ex) {
            ex.prevBtn.disabled = ex.currentIndex <= -1;
            if (ex.currentIndex >= ex.totalSteps) {
                ex.nextBtn.classList.add('hidden');
                ex.resetBtn.classList.remove('hidden');
            } else {
                ex.nextBtn.classList.remove('hidden');
                ex.resetBtn.classList.add('hidden');
            }
        }

        // --- Step Runners for each example ---
        function runStep1(index) {
            const ex = examples['1'];
            // Reset
            ex.workspace.classList.remove('visible');
            ex.eq1.innerHTML = 'Ù¢Ø³ + <span>Øµ</span> = Ù¢Ù£';
            ex.eq2.innerHTML = 'Ù£Ø³ + <span>Ù¢Øµ</span> = Ù£Ù§';
            ex.eq1.querySelector('span').classList.remove('target-term');
            ex.eq2.querySelector('span').classList.remove('target-term');
            ex.comment.textContent = '';
            ex.multiplier.classList.remove('visible');
            ex.eq1.className = 'math-eq eq-1-bg eq-1-color flex-1';
            ex.line.style.opacity = '0';
            ex.result.style.opacity = '0';
            ex.simplifiedResult.style.opacity = '0';
            ex.textSteps.forEach(s => s.classList.remove('active'));

            // Apply
            if (index >= 0) ex.workspace.classList.add('visible');
            if (index >= 1) {
                ex.eq1.querySelector('span').classList.add('target-term');
                ex.eq2.querySelector('span').classList.add('target-term');
                ex.comment.textContent = 'Ù„Ø­Ø°Ù (Øµ)ØŒ Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ (-Ù¢).';
            }
            if (index >= 2) {
                ex.comment.textContent = '';
                ex.multiplier.textContent = 'Ã— (-Ù¢)';
                ex.multiplier.classList.add('visible');
            }
            if (index >= 3) {
                ex.multiplier.classList.remove('visible');
                ex.eq1.innerHTML = '-Ù¤Ø³ - Ù¢Øµ = -Ù¤Ù¦';
                ex.eq1.className = 'math-eq eq-3-bg eq-3-color flex-1';
                ex.eq2.querySelector('span').classList.remove('target-term');
            }
            if (index >= 4) {
                ex.comment.textContent = 'Ø§Ù„Ø¢Ù†ØŒ Ù†Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ†.';
                ex.line.style.opacity = '1';
            }
            if (index >= 5) {
                ex.comment.textContent = '';
                ex.result.innerHTML = '-Ø³ + Ù  = -Ù©';
                ex.result.style.opacity = '1';
            }
            if (index >= 6) {
                ex.comment.textContent = 'Ù†Ø¨Ø³Ø· Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©.';
            }
            if (index >= 7) {
                ex.comment.textContent = '';
                ex.simplifiedResult.innerHTML = 'Ø³ = Ù©';
                ex.simplifiedResult.className = 'math-eq bg-green-200 border-green-600 w-full';
                ex.simplifiedResult.style.opacity = '1';
            }
            if (index >= 8) ex.textSteps[0].classList.add('active');
            if (index >= 9) ex.textSteps[1].classList.add('active');
            if (index >= 10) ex.textSteps[2].classList.add('active');
            
            updateButtons(ex);
        }

        function runStep2(index) {
            const ex = examples['2'];
            // Reset
            ex.workspace.classList.remove('visible');
            ex.eq1.innerHTML = 'Ù¤Ø³ + <span>Ù£Øµ</span> = Ù¨';
            ex.eq2.innerHTML = 'Ù£Ø³ - <span>Ù¥Øµ</span> = -Ù¢Ù£';
            ex.eq1.querySelector('span').classList.remove('target-term');
            ex.eq2.querySelector('span').classList.remove('target-term');
            ex.comment.textContent = '';
            ex.multiplierA.classList.remove('visible');
            ex.multiplierB.classList.remove('visible');
            ex.eq1.className = 'math-eq eq-1-bg eq-1-color flex-1';
            ex.eq2.className = 'math-eq eq-2-bg eq-2-color flex-1';
            ex.line.style.opacity = '0';
            ex.result.style.opacity = '0';
            ex.simplifiedResult.style.opacity = '0';
            ex.textSteps.forEach(s => s.classList.remove('active'));

            // Apply
            if (index >= 0) ex.workspace.classList.add('visible');
            if (index >= 1) {
                ex.eq1.querySelector('span').classList.add('target-term');
                ex.eq2.querySelector('span').classList.add('target-term');
                ex.comment.textContent = 'Ù„Ø­Ø°Ù (Øµ)ØŒ Ù†Ø¶Ø±Ø¨ Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ (Ù¥) ÙˆØ§Ù„Ø«Ø§Ù†ÙŠØ© ÙÙŠ (Ù£).';
            }
            if (index >= 2) {
                ex.comment.textContent = '';
                ex.multiplierA.textContent = 'Ã— (Ù¥)';
                ex.multiplierA.classList.add('visible');
            }
            if (index >= 3) {
                ex.eq1.innerHTML = 'Ù¢Ù Ø³ + Ù¡Ù¥Øµ = Ù¤Ù ';
                ex.eq1.className = 'math-eq eq-4-bg eq-4-color flex-1';
            }
            if (index >= 4) {
                ex.multiplierB.textContent = 'Ã— (Ù£)';
                ex.multiplierB.classList.add('visible');
            }
            if (index >= 5) {
                ex.multiplierA.classList.remove('visible');
                ex.multiplierB.classList.remove('visible');
                ex.eq2.innerHTML = 'Ù©Ø³ - Ù¡Ù¥Øµ = -Ù¦Ù©';
                ex.eq2.className = 'math-eq eq-5-bg eq-5-color flex-1';
            }
            if (index >= 6) {
                ex.comment.textContent = 'Ø§Ù„Ø¢Ù†ØŒ Ù†Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ†.';
                ex.line.style.opacity = '1';
            }
            if (index >= 7) {
                ex.comment.textContent = '';
                ex.result.innerHTML = 'Ù¢Ù©Ø³ = -Ù¢Ù©';
                ex.result.style.opacity = '1';
            }
            if (index >= 8) {
                ex.comment.textContent = 'Ù†Ø¨Ø³Ø· Ù„Ø¥ÙŠØ¬Ø§Ø¯ (Ø³).';
            }
            if (index >= 9) {
                ex.comment.textContent = '';
                ex.simplifiedResult.innerHTML = 'Ø³ = -Ù¡';
                ex.simplifiedResult.className = 'math-eq bg-green-200 border-green-600 w-full';
                ex.simplifiedResult.style.opacity = '1';
            }
            if (index >= 10) ex.textSteps[0].classList.add('active');
            if (index >= 11) ex.textSteps[1].classList.add('active');
            if (index >= 12) ex.textSteps[2].classList.add('active');

            updateButtons(ex);
        }
        
        function runStep3(index) {
            const ex = examples['3'];
            // Reset
            ex.workspace.classList.remove('visible');
            ex.eq1.innerHTML = '<span>Ù£Ø¯</span> + Ù¤Ù‚ = Ù£Ù©';
            ex.eq2.innerHTML = '<span>Ù¢Ø¯</span> + Ù¥Ù‚ = Ù£Ù¨';
            ex.eq1.className = 'math-eq eq-1-bg eq-1-color flex-1 opacity-0';
            ex.eq2.className = 'math-eq eq-2-bg eq-2-color flex-1 opacity-0';
            ex.eq1.querySelector('span').classList.remove('target-term');
            ex.eq2.querySelector('span').classList.remove('target-term');
            ex.comment.textContent = '';
            ex.comment.className = 'temp-comment text-purple-700 font-semibold';
            ex.multiplierA.classList.remove('visible');
            ex.multiplierB.classList.remove('visible');
            ex.line.style.opacity = '0';
            ex.result.style.opacity = '0';
            ex.simplifiedResult.style.opacity = '0';
            ex.textSteps.forEach(s => s.classList.remove('active'));

            // Apply
            if (index >= 0) {
                 ex.workspace.classList.add('visible');
                 ex.comment.innerHTML = "Ø£ÙˆÙ„Ø§Ù‹ØŒ Ù†Ø­Ø¯Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª:<br> <span class='font-bold text-blue-600'>Ø¯ = Ø«Ù…Ù† Ø§Ù„Ø¯ÙØªØ±</span>, <span class='font-bold text-green-600'>Ù‚ = Ø«Ù…Ù† Ø§Ù„Ù‚Ù„Ù…</span>";
            }
            if (index >= 1) {
                ex.comment.innerHTML = "<span class='text-blue-600'>Ù…Ù† Ø¬Ù…Ù„Ø© 'Ù£ Ø¯ÙØ§ØªØ± Ùˆ Ù¤ Ø£Ù‚Ù„Ø§Ù… Ø¨Ù…Ø¨Ù„Øº Ù£Ù© Ø±ÙŠØ§Ù„Ø§Ù‹'ØŒ Ù†ÙƒÙˆÙ† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰.</span>";
            }
            if (index >= 2) {
                 ex.eq1.classList.remove('opacity-0');
                 ex.comment.innerHTML = '';
            }
            if (index >= 3) {
                 ex.comment.innerHTML = "<span class='text-green-600'>ÙˆÙ…Ù† Ø¬Ù…Ù„Ø© 'Ø¯ÙØªØ±ÙŠÙ† Ùˆ Ù¥ Ø£Ù‚Ù„Ø§Ù… Ø¨Ù…Ø¨Ù„Øº Ù£Ù¨ Ø±ÙŠØ§Ù„Ø§Ù‹'ØŒ Ù†ÙƒÙˆÙ† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©.</span>";
            }
            if (index >= 4) {
                ex.eq2.classList.remove('opacity-0');
                ex.comment.innerHTML = '';
            }
            if (index >= 5) {
                ex.eq1.querySelector('span').classList.add('target-term');
                ex.eq2.querySelector('span').classList.add('target-term');
                ex.comment.textContent = 'Ù„Ø­Ø°Ù (Ø¯)ØŒ Ù†Ø¶Ø±Ø¨ Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ (Ù¢) ÙˆØ§Ù„Ø«Ø§Ù†ÙŠØ© ÙÙŠ (-Ù£).';
            }
            if (index >= 6) {
                ex.comment.textContent = '';
                ex.multiplierA.textContent = 'Ã— (Ù¢)';
                ex.multiplierA.classList.add('visible');
            }
            if (index >= 7) {
                ex.eq1.innerHTML = 'Ù¦Ø¯ + Ù¨Ù‚ = Ù§Ù¨';
                ex.eq1.className = 'math-eq eq-4-bg eq-4-color flex-1';
            }
            if (index >= 8) {
                ex.multiplierB.textContent = 'Ã— (-Ù£)';
                ex.multiplierB.classList.add('visible');
            }
            if (index >= 9) {
                ex.multiplierA.classList.remove('visible');
                ex.multiplierB.classList.remove('visible');
                ex.eq2.innerHTML = '-Ù¦Ø¯ - Ù¡Ù¥Ù‚ = -Ù¡Ù¡Ù¤';
                ex.eq2.className = 'math-eq eq-5-bg eq-5-color flex-1';
            }
            if (index >= 10) {
                ex.comment.textContent = 'Ø§Ù„Ø¢Ù†ØŒ Ù†Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ†.';
                ex.line.style.opacity = '1';
            }
            if (index >= 11) {
                ex.comment.textContent = '';
                ex.result.innerHTML = '-Ù§Ù‚ = -Ù£Ù¦';
                ex.result.style.opacity = '1';
            }
            if (index >= 12) {
                ex.comment.textContent = 'Ù†Ø¨Ø³Ø· Ù„Ø¥ÙŠØ¬Ø§Ø¯ (Ù‚).';
            }
            if (index >= 13) {
                ex.comment.textContent = '';
                ex.simplifiedResult.innerHTML = 'Ù‚ = Ù¤';
                ex.simplifiedResult.className = 'math-eq bg-green-200 border-green-600 w-full';
                ex.simplifiedResult.style.opacity = '1';
            }
            if (index >= 14) ex.textSteps[0].classList.add('active');
            if (index >= 15) ex.textSteps[1].classList.add('active');
            if (index >= 16) ex.textSteps[2].classList.add('active');

            updateButtons(ex);
        }
        
        function generateQuiz() {
            const questionBank = [
                {
                    type: 'mcq',
                    level: 'â­',
                    topic: 'elimination_multiplication',
                    text: 'Ù„Ø­Ø°Ù Ø§Ù„Ù…ØªØºÙŠØ± (Øµ) ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ§Ù„ÙŠØŒ ÙÙŠ Ø£ÙŠ Ø¹Ø¯Ø¯ ÙŠØ¬Ø¨ Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŸ <br><span class="math-eq eq-1-bg eq-1-color">Ø³ + Øµ = Ù¥</span><br><span class="math-eq eq-2-bg eq-2-color">Ù¢Ø³ - Ù£Øµ = Ù </span>',
                    options: [
                        { display: '<span class="highlight-number">-Ù¢</span>', value: 'a' },
                        { display: '<span class="highlight-number">Ù¢</span>', value: 'b' },
                        { display: '<span class="highlight-number">Ù£</span>', value: 'c' },
                        { display: '<span class="highlight-number">-Ù£</span>', value: 'd' }
                    ],
                    correct: 'c',
                    explanation: 'Ù„Ø¬Ø¹Ù„ Ù…Ø¹Ø§Ù…Ù„ (Øµ) ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù…Ø¹ÙƒÙˆØ³Ø§Ù‹ Ø¬Ù…Ø¹ÙŠØ§Ù‹ Ù„Ù…Ø¹Ø§Ù…Ù„ (Øµ) ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (<span class="highlight-number">-Ù£</span>)ØŒ ÙŠØ¬Ø¨ Ø£Ù† Ù†Ø¬Ø¹Ù„Ù‡ <span class="highlight-number">+Ù£</span>. Ù„Ø°Ù„ÙƒØŒ Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙƒÙ„Ù‡Ø§ ÙÙŠ <span class="highlight-number">Ù£</span>.'
                },
                {
                    type: 'mcq',
                    level: 'â­â­',
                    topic: 'elimination_multiplication',
                    text: 'Ù…Ø§ Ù‡Ùˆ Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ§Ù„ÙŠØŸ<br><span class="math-eq">Ù¥Ø³ + Ù¢Øµ = Ù¦</span><br><span class="math-eq">-Ù¢Ø³ + Øµ = Ù£</span>',
                    options: [
                        { display: '<span class="math-eq">(Ù , Ù£)</span>', value: 'a' },
                        { display: '<span class="math-eq">(Ù¢, -Ù¢)</span>', value: 'b' },
                        { display: '<span class="math-eq">(Ù£, Ù )</span>', value: 'c' },
                        { display: '<span class="math-eq">(Ù¤, -Ù§)</span>', value: 'd' }
                    ],
                    correct: 'a',
                    explanation: `<div class='space-y-3 text-center'>
                        <p>Ù„Ø­Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ Ø³Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø°Ù Ø¨Ø§Ù„Ø¶Ø±Ø¨. Ù‡Ø¯ÙÙ†Ø§ Ù‡Ùˆ Ø¬Ø¹Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª 'Øµ' Ù…ØªØ¹Ø§ÙƒØ³Ø©.</p>
                        <div class='p-2 bg-gray-50 rounded-lg'>
                            <h4 class='font-bold text-purple-700'>Ø§Ù„Ø®Ø·ÙˆØ© Ù¡: ØªØ­Ø¯ÙŠØ¯ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¶Ø±Ø¨</h4>
                            <p>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªØ§Ù† Ù‡Ù…Ø§:</p>
                            <div class="inline-block text-left">
                                <p class="math-eq eq-1-bg eq-1-color">Ù¥Ø³ + Ù¢Øµ = Ù¦</p><br>
                                <p class="math-eq eq-2-bg eq-2-color">-Ù¢Ø³ + <span class='target-term'>Øµ</span> = Ù£</p>
                            </div>
                            <p class='mt-2'>Ù„Ø¬Ø¹Ù„ Ù…Ø¹Ø§Ù…Ù„ 'Øµ' ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (<span class='highlight-number'>Ù¡</span>) Ù…Ø¹ÙƒÙˆØ³Ø§Ù‹ Ù„Ù…Ø¹Ø§Ù…Ù„ 'Øµ' ÙÙŠ Ø§Ù„Ø£ÙˆÙ„Ù‰ (<span class='highlight-number'>Ù¢</span>)ØŒ Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© ÙÙŠ <span class='highlight-number'>-Ù¢</span>.</p>
                        </div>
                        <div class='p-2 bg-gray-50 rounded-lg'>
                            <h4 class='font-bold text-purple-700'>Ø§Ù„Ø®Ø·ÙˆØ© Ù¢: ØªÙ†ÙÙŠØ° Ø§Ù„Ø¶Ø±Ø¨</h4>
                            <p><span class='font-bold text-red-500 text-lg'>Ã— (-Ù¢)</span> <span class="math-eq eq-2-bg eq-2-color">-Ù¢Ø³ + Øµ = Ù£</span></p>
                            <p class='text-2xl'>â‡©</p>
                            <p class="math-eq eq-3-bg eq-3-color">Ù¤Ø³ - Ù¢Øµ = -Ù¦</p>
                        </div>
                        <div class='p-2 bg-gray-50 rounded-lg'>
                            <h4 class='font-bold text-purple-700'>Ø§Ù„Ø®Ø·ÙˆØ© Ù£: Ø§Ù„Ø­Ø°Ù Ø¨Ø§Ù„Ø¬Ù…Ø¹</h4>
                            <div class='inline-flex flex-col items-center'>
                                <p class="math-eq eq-1-bg eq-1-color">Ù¥Ø³ + Ù¢Øµ = Ù¦</p>
                                <p class="math-eq eq-3-bg eq-3-color">Ù¤Ø³ - Ù¢Øµ = -Ù¦</p>
                                <div class='border-t-2 border-black w-full my-1'></div>
                                <p class="math-eq">Ù©Ø³ + Ù  = Ù </p>
                                <p class='text-2xl'>â‡©</p>
                                <p class="math-eq bg-green-200">Ø³ = Ù </p>
                            </div>
                        </div>
                        <div class='p-2 bg-gray-50 rounded-lg'>
                            <h4 class='font-bold text-purple-700'>Ø§Ù„Ø®Ø·ÙˆØ© Ù¤: Ø¥ÙŠØ¬Ø§Ø¯ 'Øµ'</h4>
                            <p>Ù†Ø¹ÙˆØ¶ <span class='math-eq'>Ø³ = Ù </span> ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø§Ù„Ø£ØµÙ„ÙŠØ©:</p>
                            <p class="math-eq eq-2-bg eq-2-color">-Ù¢(Ù ) + Øµ = Ù£</p>
                            <p class="math-eq">Øµ = Ù£</p>
                            <p class='mt-2 font-bold'>Ø¥Ø°Ù†ØŒ Ø§Ù„Ø­Ù„ Ù‡Ùˆ <span class="math-eq bg-green-200">(Ù , Ù£)</span>.</p>
                        </div>
                    </div>`,
                    smartExplanation: 'Ø¬Ø±Ø¨ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª. Ù„Ù†Ø®ØªØ¨Ø± Ø§Ù„Ø®ÙŠØ§Ø± (Ø£) <span class="math-eq">(Ù , Ù£)</span>:<br><strong>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù¡:</strong> <span class="math-eq">Ù¥(Ù ) + Ù¢(Ù£) = Ù¦</span> âŸ¸ <span class="math-eq">Ù¦ = Ù¦</span> (ØµØ­ÙŠØ­).<br><strong>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù¢:</strong> <span class="math-eq">-Ù¢(Ù ) + Ù£ = Ù£</span> âŸ¸ <span class="math-eq">Ù£ = Ù£</span> (ØµØ­ÙŠØ­).<br>Ø¨Ù…Ø§ Ø£Ù† Ø§Ù„Ø®ÙŠØ§Ø± (Ø£) ÙŠØ­Ù‚Ù‚ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ†ØŒ ÙÙ‡Ùˆ Ø§Ù„Ø­Ù„ Ø§Ù„ØµØ­ÙŠØ­.'
                },
                {
                    type: 'mcq',
                    level: 'â­â­â­',
                    topic: 'elimination_multiplication',
                    text: 'Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…:<br><span class="math-eq">Ù£Ø³ + Ù¤Øµ = -Ù¢Ù¥</span><br><span class="math-eq">Ù¢Ø³ - Ù£Øµ = Ù¦</span>',
                    options: [
                        { display: '<span class="math-eq">(Ù£, -Ù¡)</span>', value: 'a' },
                        { display: '<span class="math-eq">(-Ù§, -Ù¡)</span>', value: 'b' },
                        { display: '<span class="math-eq">(-Ù£, -Ù¤)</span>', value: 'c' },
                        { display: '<span class="math-eq">(Ù¡, -Ù§)</span>', value: 'd' }
                    ],
                    correct: 'c',
                    explanation: `<div class='space-y-3 text-center'>
                        <p>Ù„Ø­Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ Ø³Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø°Ù Ø¨Ø§Ù„Ø¶Ø±Ø¨. Ù‡Ø¯ÙÙ†Ø§ Ù‡Ùˆ Ø¬Ø¹Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª 'Øµ' Ù…ØªØ¹Ø§ÙƒØ³Ø©.</p>
                        <div class='p-2 bg-gray-50 rounded-lg'>
                            <h4 class='font-bold text-purple-700'>Ø§Ù„Ø®Ø·ÙˆØ© Ù¡: ØªØ­Ø¯ÙŠØ¯ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¶Ø±Ø¨</h4>
                            <p>Ù„Ø¬Ø¹Ù„ Ù…Ø¹Ø§Ù…Ù„ÙŠ 'Øµ' (<span class='highlight-number'>Ù¤</span> Ùˆ <span class='highlight-number'>-Ù£</span>) Ù…ØªØ¹Ø§ÙƒØ³ÙŠÙ†ØŒ Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ <span class='highlight-number'>Ù£</span> ÙˆØ§Ù„Ø«Ø§Ù†ÙŠØ© ÙÙŠ <span class='highlight-number'>Ù¤</span>.</p>
                        </div>
                        <div class='p-2 bg-gray-50 rounded-lg'>
                            <h4 class='font-bold text-purple-700'>Ø§Ù„Ø®Ø·ÙˆØ© Ù¢: ØªÙ†ÙÙŠØ° Ø§Ù„Ø¶Ø±Ø¨</h4>
                            <p><span class='font-bold text-red-500 text-lg'>Ã— (Ù£)</span> <span class="math-eq eq-1-bg eq-1-color">Ù£Ø³ + Ù¤Øµ = -Ù¢Ù¥</span> â‡© <span class="math-eq eq-4-bg eq-4-color">Ù©Ø³ + Ù¡Ù¢Øµ = -Ù§Ù¥</span></p>
                            <p><span class='font-bold text-red-500 text-lg'>Ã— (Ù¤)</span> <span class="math-eq eq-2-bg eq-2-color">Ù¢Ø³ - Ù£Øµ = Ù¦</span> â‡© <span class="math-eq eq-5-bg eq-5-color">Ù¨Ø³ - Ù¡Ù¢Øµ = Ù¢Ù¤</span></p>
                        </div>
                        <div class='p-2 bg-gray-50 rounded-lg'>
                            <h4 class='font-bold text-purple-700'>Ø§Ù„Ø®Ø·ÙˆØ© Ù£: Ø§Ù„Ø­Ø°Ù Ø¨Ø§Ù„Ø¬Ù…Ø¹</h4>
                            <div class='inline-flex flex-col items-center'>
                                <p class="math-eq eq-4-bg eq-4-color">Ù©Ø³ + Ù¡Ù¢Øµ = -Ù§Ù¥</p>
                                <p class="math-eq eq-5-bg eq-5-color">Ù¨Ø³ - Ù¡Ù¢Øµ = Ù¢Ù¤</p>
                                <div class='border-t-2 border-black w-full my-1'></div>
                                <p class="math-eq">Ù¡Ù§Ø³ = -Ù¥Ù¡</p>
                                <p class='text-2xl'>â‡©</p>
                                <p class="math-eq bg-green-200">Ø³ = -Ù£</p>
                            </div>
                        </div>
                        <div class='p-2 bg-gray-50 rounded-lg'>
                            <h4 class='font-bold text-purple-700'>Ø§Ù„Ø®Ø·ÙˆØ© Ù¤: Ø¥ÙŠØ¬Ø§Ø¯ 'Øµ'</h4>
                            <p>Ù†Ø¹ÙˆØ¶ <span class='math-eq'>Ø³ = -Ù£</span> ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø§Ù„Ø£ØµÙ„ÙŠØ©:</p>
                            <p class="math-eq eq-2-bg eq-2-color">Ù¢(-Ù£) - Ù£Øµ = Ù¦</p>
                            <p class="math-eq">-Ù¦ - Ù£Øµ = Ù¦</p>
                            <p class="math-eq">-Ù£Øµ = Ù¡Ù¢</p>
                            <p class="math-eq">Øµ = -Ù¤</p>
                            <p class='mt-2 font-bold'>Ø¥Ø°Ù†ØŒ Ø§Ù„Ø­Ù„ Ù‡Ùˆ <span class="math-eq bg-green-200">(-Ù£, -Ù¤)</span>.</p>
                        </div>
                    </div>`
                },
                {
                    type: 'mcq',
                    level: 'â­â­â­',
                    topic: 'word_problem',
                    text: 'Ø³Ø¹Ø± <span class="highlight-number">Ù£</span> ØªØ°Ø§ÙƒØ± Ù„Ù„ÙƒØ¨Ø§Ø± ÙˆØªØ°ÙƒØ±ØªÙŠÙ† Ù„Ù„ØµØºØ§Ø± Ù„Ø­Ø¶ÙˆØ± Ù…Ø¨Ø§Ø±Ø§Ø© Ù‡Ùˆ <span class="highlight-number">Ù£Ù¨Ù </span> Ø±ÙŠØ§Ù„Ø§Ù‹. ÙˆØ³Ø¹Ø± ØªØ°ÙƒØ±ØªÙŠÙ† Ù„Ù„ÙƒØ¨Ø§Ø± Ùˆ<span class="highlight-number">Ù£</span> Ù„Ù„ØµØºØ§Ø± Ù‡Ùˆ <span class="highlight-number">Ù£Ù¢Ù </span> Ø±ÙŠØ§Ù„Ø§Ù‹. Ù…Ø§ Ø³Ø¹Ø± ØªØ°ÙƒØ±Ø© Ø§Ù„ÙƒØ¨Ø§Ø±ØŸ',
                    options: [
                        { display: 'Ù¦Ù  Ø±ÙŠØ§Ù„', value: 'a' },
                        { display: 'Ù¨Ù  Ø±ÙŠØ§Ù„', value: 'b' },
                        { display: 'Ù¡Ù Ù  Ø±ÙŠØ§Ù„', value: 'c' },
                        { display: 'Ù¤Ù  Ø±ÙŠØ§Ù„', value: 'd' }
                    ],
                    correct: 'c',
                    explanation: 'Ù†ÙØ±Ø¶ Ø³Ø¹Ø± ØªØ°ÙƒØ±Ø© Ø§Ù„ÙƒØ¨Ø§Ø± (Ùƒ) ÙˆØ³Ø¹Ø± ØªØ°ÙƒØ±Ø© Ø§Ù„ØµØºØ§Ø± (Øµ).<br><strong>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù¡:</strong> <span class="math-eq">Ù£Ùƒ + Ù¢Øµ = Ù£Ù¨Ù </span><br><strong>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù¢:</strong> <span class="math-eq">Ù¢Ùƒ + Ù£Øµ = Ù£Ù¢Ù </span><br>Ù„Ø­Ø°Ù (Øµ)ØŒ Ù†Ø¶Ø±Ø¨ Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ <span class="highlight-number">Ù£</span> ÙˆØ§Ù„Ø«Ø§Ù†ÙŠØ© ÙÙŠ <span class="highlight-number">-Ù¢</span>.<br><span class="math-eq">Ù©Ùƒ + Ù¦Øµ = Ù¡Ù¡Ù¤Ù </span><br><span class="math-eq">-Ù¤Ùƒ - Ù¦Øµ = -Ù¦Ù¤Ù </span><br>Ù†Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ†: <span class="math-eq">Ù¥Ùƒ = Ù¥Ù Ù </span> âŸ¸ <span class="math-eq">Ùƒ = Ù¡Ù Ù </span>. Ø¥Ø°Ù† Ø³Ø¹Ø± ØªØ°ÙƒØ±Ø© Ø§Ù„ÙƒØ¨Ø§Ø± Ù¡Ù Ù  Ø±ÙŠØ§Ù„.'
                },
                {
                    type: 'mcq',
                    level: 'â­â­',
                    topic: 'special_case_infinite',
                    text: 'Ø¹Ù†Ø¯ Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…: <span class="math-eq">Ù¢Ø³ - Øµ = Ù¤</span> Ùˆ <span class="math-eq">Ù¦Ø³ - Ù£Øµ = Ù¡Ù¢</span> Ø¨Ø§Ù„Ø­Ø°ÙØŒ Ù…Ø§Ø°Ø§ ØªÙƒÙˆÙ† Ø§Ù„Ù†ØªÙŠØ¬Ø©ØŸ',
                    options: [
                        { display: 'Ø§Ù„Ø­Ù„ Ù‡Ùˆ <span class="math-eq">(Ù , Ù )</span>', value: 'a' },
                        { display: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­Ù„', value: 'b' },
                        { display: 'ÙŠÙˆØ¬Ø¯ Ø¹Ø¯Ø¯ Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø­Ù„ÙˆÙ„', value: 'c' },
                        { display: 'Ø§Ù„Ø­Ù„ Ù‡Ùˆ <span class="math-eq">(Ù¢, Ù )</span>', value: 'd' }
                    ],
                    correct: 'c',
                    explanation: 'Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ <span class="highlight-number">-Ù£</span> Ù„Ø­Ø°Ù (Ø³):<br><span class="math-eq">-Ù£(Ù¢Ø³ - Øµ = Ù¤)</span> âŸ¸ <span class="math-eq">-Ù¦Ø³ + Ù£Øµ = -Ù¡Ù¢</span>.<br>Ø§Ù„Ø¢Ù† Ù†Ø¬Ù…Ø¹Ù‡Ø§ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© <span class="math-eq">Ù¦Ø³ - Ù£Øµ = Ù¡Ù¢</span>.<br>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù‡ÙŠ <span class="math-eq">Ù  = Ù </span>. Ù‡Ø°Ù‡ Ø¹Ø¨Ø§Ø±Ø© ØµØ­ÙŠØ­Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹ØŒ Ù…Ù…Ø§ ÙŠØ¹Ù†ÙŠ Ø£Ù† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ† Ù…ØªÙƒØ§ÙØ¦ØªÙŠÙ† (Ù†ÙØ³ Ø§Ù„Ø®Ø·) ÙˆÙŠÙˆØ¬Ø¯ Ø¹Ø¯Ø¯ Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø­Ù„ÙˆÙ„.',
                    smartExplanation: 'Ù„Ø§Ø­Ø¸ Ø£Ù† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (<span class="math-eq">Ù¦Ø³ - Ù£Øµ = Ù¡Ù¢</span>) Ù‡ÙŠ Ù†ÙØ³Ù‡Ø§ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (<span class="math-eq">Ù¢Ø³ - Øµ = Ù¤</span>) ÙˆÙ„ÙƒÙ† Ù…Ø¶Ø±ÙˆØ¨Ø© ÙÙŠ <span class="highlight-number">Ù£</span>. Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¥Ø­Ø¯Ù‰ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ù…Ù† Ù…Ø¶Ø§Ø¹ÙØ§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ØŒ ÙÙ‡Ù…Ø§ ÙŠÙ…Ø«Ù„Ø§Ù† Ù†ÙØ³ Ø§Ù„Ø®Ø·ØŒ ÙˆØ¨Ø§Ù„ØªØ§Ù„ÙŠ Ù‡Ù†Ø§Ùƒ Ø¹Ø¯Ø¯ Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø­Ù„ÙˆÙ„.'
                },
                {
                    type: 'mcq',
                    level: 'â­',
                    topic: 'elimination_multiplication',
                    text: 'Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…:<br><span class="math-eq">Ù¤Ø³ - Øµ = Ù©</span><br><span class="math-eq">Ù¢Ø³ + Ù£Øµ = -Ù¡</span>',
                    options: [
                        { display: '<span class="math-eq">(Ù¢, -Ù¡)</span>', value: 'a' },
                        { display: '<span class="math-eq">(-Ù¡, Ù¢)</span>', value: 'b' },
                        { display: '<span class="math-eq">(Ù¡, -Ù¥)</span>', value: 'c' },
                        { display: '<span class="math-eq">(Ù£, Ù£)</span>', value: 'd' }
                    ],
                    correct: 'a',
                    explanation: 'Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ù£ Ù„Ø­Ø°Ù Øµ. <br> Ù¡Ù¢Ø³ - Ù£Øµ = Ù¢Ù§ <br> Ù¢Ø³ + Ù£Øµ = -Ù¡ <br> Ø¨Ø§Ù„Ø¬Ù…Ø¹: Ù¡Ù¤Ø³ = Ù¢Ù¦ âŸ¸ Ø³ = Ù¢. Ø¨Ø§Ù„ØªØ¹ÙˆÙŠØ¶: Ù¤(Ù¢) - Øµ = Ù© âŸ¸ Ù¨ - Øµ = Ù© âŸ¸ Øµ = -Ù¡. Ø§Ù„Ø­Ù„ Ù‡Ùˆ (Ù¢, -Ù¡).'
                },
                {
                    type: 'mcq',
                    level: 'â­',
                    topic: 'elimination_multiplication',
                    text: 'Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…:<br><span class="math-eq">Ø³ + Ù¢Øµ = Ù¨</span><br><span class="math-eq">Ù£Ø³ + Øµ = Ù©</span>',
                    options: [
                        { display: '<span class="math-eq">(Ù¤, Ù¢)</span>', value: 'a' },
                        { display: '<span class="math-eq">(Ù¢, Ù£)</span>', value: 'b' },
                        { display: '<span class="math-eq">(Ù , Ù¤)</span>', value: 'c' },
                        { display: '<span class="math-eq">(Ù£, Ù¢.Ù¥)</span>', value: 'd' }
                    ],
                    correct: 'b',
                    explanation: 'Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© ÙÙŠ -Ù¢ Ù„Ø­Ø°Ù Øµ. <br> Ø³ + Ù¢Øµ = Ù¨ <br> -Ù¦Ø³ - Ù¢Øµ = -Ù¡Ù¨ <br> Ø¨Ø§Ù„Ø¬Ù…Ø¹: -Ù¥Ø³ = -Ù¡Ù  âŸ¸ Ø³ = Ù¢. Ø¨Ø§Ù„ØªØ¹ÙˆÙŠØ¶: Ù¢ + Ù¢Øµ = Ù¨ âŸ¸ Ù¢Øµ = Ù¦ âŸ¸ Øµ = Ù£. Ø§Ù„Ø­Ù„ Ù‡Ùˆ (Ù¢, Ù£).'
                },
                {
                    type: 'mcq',
                    level: 'â­â­',
                    topic: 'elimination_multiplication',
                    text: 'Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…:<br><span class="math-eq">Ù¢Ø³ + Ù£Øµ = Ù¡</span><br><span class="math-eq">Ù£Ø³ + Ù¥Øµ = Ù¢</span>',
                    options: [
                        { display: '<span class="math-eq">(Ù¡, -Ù¡/Ù£)</span>', value: 'a' },
                        { display: '<span class="math-eq">(Ù¢, -Ù¡)</span>', value: 'b' },
                        { display: '<span class="math-eq">(-Ù¡, Ù¡)</span>', value: 'c' },
                        { display: '<span class="math-eq">(Ù¤, -Ù£)</span>', value: 'd' }
                    ],
                    correct: 'c',
                    explanation: 'Ù†Ø¶Ø±Ø¨ Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ù£ ÙˆØ§Ù„Ø«Ø§Ù†ÙŠØ© ÙÙŠ -Ù¢ Ù„Ø­Ø°Ù Ø³. <br> Ù¦Ø³ + Ù©Øµ = Ù£ <br> -Ù¦Ø³ - Ù¡Ù Øµ = -Ù¤ <br> Ø¨Ø§Ù„Ø¬Ù…Ø¹: -Øµ = -Ù¡ âŸ¸ Øµ = Ù¡. Ø¨Ø§Ù„ØªØ¹ÙˆÙŠØ¶: Ù¢Ø³ + Ù£(Ù¡) = Ù¡ âŸ¸ Ù¢Ø³ = -Ù¢ âŸ¸ Ø³ = -Ù¡. Ø§Ù„Ø­Ù„ Ù‡Ùˆ (-Ù¡, Ù¡).'
                },
                {
                    type: 'mcq',
                    level: 'â­â­',
                    topic: 'word_problem',
                    text: 'Ù…Ø¬Ù…ÙˆØ¹ Ø¹Ù…Ø± Ø£Ø¨ ÙˆØ§Ø¨Ù†Ù‡ Ù¦Ù  Ø¹Ø§Ù…Ø§Ù‹. ÙˆÙ‚Ø¨Ù„ Ù¥ Ø³Ù†ÙˆØ§ØªØŒ ÙƒØ§Ù† Ø¹Ù…Ø± Ø§Ù„Ø£Ø¨ Ø£Ø±Ø¨Ø¹Ø© Ø£Ø¶Ø¹Ø§Ù Ø¹Ù…Ø± Ø§Ø¨Ù†Ù‡. ÙƒÙ… Ø¹Ù…Ø± ÙƒÙ„ Ù…Ù†Ù‡Ù…Ø§ Ø§Ù„Ø¢Ù†ØŸ',
                    options: [
                        { display: 'Ø§Ù„Ø£Ø¨ Ù¥Ù ØŒ Ø§Ù„Ø§Ø¨Ù† Ù¡Ù ', value: 'a' },
                        { display: 'Ø§Ù„Ø£Ø¨ Ù¤Ù¥ØŒ Ø§Ù„Ø§Ø¨Ù† Ù¡Ù¥', value: 'b' },
                        { display: 'Ø§Ù„Ø£Ø¨ Ù¤Ù ØŒ Ø§Ù„Ø§Ø¨Ù† Ù¢Ù ', value: 'c' },
                        { display: 'Ø§Ù„Ø£Ø¨ Ù¥Ù¥ØŒ Ø§Ù„Ø§Ø¨Ù† Ù¥', value: 'd' }
                    ],
                    correct: 'b',
                    explanation: 'Ù†ÙØ±Ø¶ Ø¹Ù…Ø± Ø§Ù„Ø£Ø¨ (Ø£) ÙˆØ¹Ù…Ø± Ø§Ù„Ø§Ø¨Ù† (Ø¨). <br> Ø£ + Ø¨ = Ù¦Ù  <br> Ø£ - Ù¥ = Ù¤(Ø¨ - Ù¥) âŸ¸ Ø£ - Ù¤Ø¨ = -Ù¡Ù¥. <br> Ø¨Ø·Ø±Ø­ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ†: Ù¥Ø¨ = Ù§Ù¥ âŸ¸ Ø¨ = Ù¡Ù¥. Ø¨Ø§Ù„ØªØ¹ÙˆÙŠØ¶: Ø£ + Ù¡Ù¥ = Ù¦Ù  âŸ¸ Ø£ = Ù¤Ù¥. Ø¹Ù…Ø± Ø§Ù„Ø£Ø¨ Ù¤Ù¥ ÙˆØ§Ù„Ø§Ø¨Ù† Ù¡Ù¥.'
                },
                {
                    type: 'mcq',
                    level: 'â­â­',
                    topic: 'special_case_no_solution',
                    text: 'Ù…Ø§Ø°Ø§ ÙŠØ­Ø¯Ø« Ø¹Ù†Ø¯ Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…:<br><span class="math-eq">Ø³ - Ù¢Øµ = Ù¥</span><br><span class="math-eq">Ù£Ø³ - Ù¦Øµ = Ù¡Ù </span>',
                    options: [
                        { display: 'Ø­Ù„ ÙˆØ­ÙŠØ¯', value: 'a' },
                        { display: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­Ù„', value: 'b' },
                        { display: 'Ø¹Ø¯Ø¯ Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø­Ù„ÙˆÙ„', value: 'c' },
                        { display: 'Ø§Ù„Ø­Ù„ Ù‡Ùˆ (Ù¡, -Ù¢)', value: 'd' }
                    ],
                    correct: 'b',
                    explanation: 'Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ -Ù£. <br> -Ù£Ø³ + Ù¦Øµ = -Ù¡Ù¥ <br> Ù£Ø³ - Ù¦Øµ = Ù¡Ù  <br> Ø¨Ø§Ù„Ø¬Ù…Ø¹ Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰: Ù  = -Ù¥. Ù‡Ø°Ù‡ Ø¹Ø¨Ø§Ø±Ø© Ø®Ø§Ø·Ø¦Ø©ØŒ Ù„Ø°Ø§ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­Ù„ Ù„Ù„Ù†Ø¸Ø§Ù….'
                },
                {
                    type: 'mcq',
                    level: 'â­â­â­',
                    topic: 'elimination_multiplication',
                    text: 'Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…:<br><span class="math-eq">Ù¥Ø³ - Ù¢Øµ = -Ù¡Ù©</span><br><span class="math-eq">Ù¢Ø³ + Ù£Øµ = Ù </span>',
                    options: [
                        { display: '<span class="math-eq">(Ù¡, Ù¡Ù¢)</span>', value: 'a' },
                        { display: '<span class="math-eq">(-Ù£, Ù¢)</span>', value: 'b' },
                        { display: '<span class="math-eq">(Ù£, -Ù¢)</span>', value: 'c' },
                        { display: '<span class="math-eq">(-Ù¥, -Ù£)</span>', value: 'd' }
                    ],
                    correct: 'b',
                    explanation: 'Ù†Ø¶Ø±Ø¨ Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ù£ ÙˆØ§Ù„Ø«Ø§Ù†ÙŠØ© ÙÙŠ Ù¢ Ù„Ø­Ø°Ù Øµ. <br> Ù¡Ù¥Ø³ - Ù¦Øµ = -Ù¥Ù§ <br> Ù¤Ø³ + Ù¦Øµ = Ù  <br> Ø¨Ø§Ù„Ø¬Ù…Ø¹: Ù¡Ù©Ø³ = -Ù¥Ù§ âŸ¸ Ø³ = -Ù£. Ø¨Ø§Ù„ØªØ¹ÙˆÙŠØ¶: Ù¢(-Ù£) + Ù£Øµ = Ù  âŸ¸ -Ù¦ + Ù£Øµ = Ù  âŸ¸ Ù£Øµ = Ù¦ âŸ¸ Øµ = Ù¢. Ø§Ù„Ø­Ù„ Ù‡Ùˆ (-Ù£, Ù¢).'
                },
                {
                    type: 'mcq',
                    level: 'â­â­â­',
                    topic: 'word_problem',
                    text: 'ÙÙŠ Ù…Ø­Ù„ Ù„Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª Ø§Ù„Ø£Ù„ÙŠÙØ©ØŒ ÙŠÙˆØ¬Ø¯ Ø·ÙŠÙˆØ± ÙˆÙ‚Ø·Ø· ÙÙ‚Ø·. Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø±Ø¤ÙˆØ³ Ù‡Ùˆ Ù¢Ù  ÙˆÙ…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø£Ø±Ø¬Ù„ Ù‡Ùˆ Ù¥Ù¤ØŒ ÙÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø·ÙŠÙˆØ± ÙˆØ§Ù„Ù‚Ø·Ø·ØŸ',
                    options: [
                        { display: 'Ù¡Ù  Ø·ÙŠÙˆØ± Ùˆ Ù¡Ù  Ù‚Ø·Ø·', value: 'a' },
                        { display: 'Ù¡Ù¥ Ø·ÙŠØ± Ùˆ Ù¥ Ù‚Ø·Ø·', value: 'b' },
                        { display: 'Ù¡Ù£ Ø·ÙŠØ± Ùˆ Ù§ Ù‚Ø·Ø·', value: 'c' },
                        { display: 'Ù§ Ø·ÙŠÙˆØ± Ùˆ Ù¡Ù£ Ù‚Ø·Ø©', value: 'd' }
                    ],
                    correct: 'c',
                    explanation: 'Ù†ÙØ±Ø¶ Ø¹Ø¯Ø¯ Ø§Ù„Ø·ÙŠÙˆØ± (Ø·) ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø· (Ù‚). <br> Ø· + Ù‚ = Ù¢Ù  (Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø±Ø¤ÙˆØ³) <br> Ù¢Ø· + Ù¤Ù‚ = Ù¥Ù¤ (Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£Ø±Ø¬Ù„). <br> Ù†Ø¶Ø±Ø¨ Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ -Ù¢: -Ù¢Ø· - Ù¢Ù‚ = -Ù¤Ù . <br> Ø¨Ø§Ù„Ø¬Ù…Ø¹ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ù¢Ù‚ = Ù¡Ù¤ âŸ¸ Ù‚ = Ù§. Ø¨Ø§Ù„ØªØ¹ÙˆÙŠØ¶: Ø· + Ù§ = Ù¢Ù  âŸ¸ Ø· = Ù¡Ù£. Ø§Ù„Ø­Ù„: Ù¡Ù£ Ø·ÙŠØ± Ùˆ Ù§ Ù‚Ø·Ø·.'
                }
            ];
            const shuffled = [...questionBank].sort(() => 0.5 - Math.random());
            const questionCount = Math.min(shuffled.length, 5);
            return shuffled.slice(0, questionCount);
        }

    });
    </script>
</body>
</html>
